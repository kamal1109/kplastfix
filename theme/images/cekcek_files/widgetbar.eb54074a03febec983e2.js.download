(window.webpackJsonp=window.webpackJsonp||[]).push([["widgetbar","chat-widget","stream-storage","watched-theme",501,542,549],{"+EG+":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));var n=i("q1tI");class s extends n.Component{shouldComponentUpdate(){return!1}render(){return n.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const o=n.createContext(null)},"+Lx6":function(t,e,i){},"/Jsq":function(t,e,i){"use strict";i.r(e);var n=i("FBuY"),s=i("ku9n"),o=i("JZcM"),r=i("IWHC"),a=i("JUY+"),l=i("aIyQ"),c=i.n(l);class d{constructor(){this._unreadBuffer=new Set,this._onEventsToHighlight=new c.a,this._onUnreadCountChanged=new c.a,this._isLogWidgetVisible=!1}onEventsToHighlight(){return this._onEventsToHighlight}onUnreadCountChanged(){return this._onUnreadCountChanged}setIsLogWidgetVisible(t){this._isLogWidgetVisible!==t&&(t&&(this._onEventsToHighlight.fire(new Set(this._unreadBuffer)),this.markAllRead()),this._isLogWidgetVisible=t)}onEventFired(t){this._isLogWidgetVisible?this._onEventsToHighlight.fire(new Set([t])):(this._unreadBuffer.add(t),this._emitUnreadCountUpdate())}onEventViewed(t){this._unreadBuffer.delete(t),this._emitUnreadCountUpdate()}markAllRead(){this._unreadBuffer.clear(),this._emitUnreadCountUpdate()}_emitUnreadCountUpdate(){this._onUnreadCountChanged.fire(this._unreadBuffer.size)}}class h{constructor(t,e){this._bridge=t,this._onEventsToHighlight=e}getService(){return this._servicePromise||(this._servicePromise=Promise.all([Object(a.getPriceAlertsDispatcher)(),Promise.all([i.e(380),i.e(158),i.e(305),i.e("alerts-log-widget-service-provider-impl")]).then(i.bind(null,"22go"))]).then(([t,{AlertsLogWidgetServiceProviderImpl:e}])=>(this._impl=new e(this._bridge,this._onEventsToHighlight,t),this._servicePromise||this._impl.destroy(),this._impl.getService()))),this._servicePromise}destroy(){var t;delete this._servicePromise,null===(t=this._impl)||void 0===t||t.destroy()}}i.d(e,"AlertsLogWidget",(function(){return u}));class u extends s.a{constructor(t){super(t),this._onUnreadCountChanged=t=>{this._bridge.notify(null,{notificationValue:t})},this._bridge=t,this._notificationController=new d,this._serviceProvider=new h(t,this._notificationController.onEventsToHighlight()),this._notificationController.onUnreadCountChanged().subscribe(null,this._onUnreadCountChanged),this._unbindNotificationController=function(t){let e=()=>{},i=!1;return Object(a.getPriceAlertsDispatcher)().then(s=>{s.getAlertNotifier().then(a=>{if(i)return;const l=e=>{t.onEventFired(e.id)},c=e=>{e.filter(t=>t.alertCategory===r.AlertCategory.Price&&t.type===o.a.Fired&&void 0!==t.eventId).map(t=>t.eventId).forEach(e=>t.onEventViewed(e))},d=()=>{t.markAllRead()};s.events.on("fired",l),a.onNotificationsViewed.subscribe(null,c),n.TVXWindowEvents.on("alertevents-markread",d),e=()=>{s.events.off("fired",l),a.onNotificationsViewed.unsubscribe(null,c),n.TVXWindowEvents.off("alertevents-markread",d)}})}),()=>{i=!0,e()}}(this._notificationController)}mount(){
const t=Promise.all([Promise.all([i.e(2),i.e(34),i.e(50),i.e(64),i.e(180),i.e(232),i.e(358),i.e(475),i.e(47),i.e(307),i.e("alerts-log-widget-impl")]).then(i.bind(null,"1BHs")),this._serviceProvider.getService()]).then(([{AlertsLogWidgetView:e},i])=>{this._loadModulePromise===t&&(this._view=new e(this._bridge.header,this._bridge.container,i),this._notificationController.setIsLogWidgetVisible(!0),n.TVXWindowEvents.emit("alertevents-markread"))});this._loadModulePromise=t}unmount(){var t;this._notificationController.setIsLogWidgetVisible(!1),this._loadModulePromise=null,null===(t=this._view)||void 0===t||t.destroy(),delete this._view,super.unmount()}destroy(){this._unbindNotificationController(),this._serviceProvider.destroy(),super.destroy()}}},"/dUa":function(t,e,i){"use strict";i.r(e);var n=i("YFKU"),s=i("8woN"),o=i.n(s),r=i("sFgq"),a=i("IWXC");var l=i("b5Gw"),c=i("YJLw"),d=i.n(c);function h(t){return d()(t.title+(null!==t.published?t.published.valueOf():""))}var u=i("txPx"),g=(i("Kxc7"),i("Twao"));var p=i("y8Ih"),m=(i("IS8I"),i("JHPQ"));i.d(e,"WidgetBarNews",(function(){return f}));const v=Object(u.getLogger)("News.Widget"),_=Object(n.t)("{title} for {symbol}");class f{constructor(t){this._bridge=t,this.widgetName="widgetbar",this._$widgetTitle=this._bridge.$header.find(".widgetbar-widgettitle"),this._newsScrollIterator=null,this._newsDiffResolver=null,this._updateWhenVisible=null,this._pendingNewsRequest=null,this._updateIntervalHandle=null,this._needsFullUpdate=!0,this._$container=t.$body,this._resize=this.resize.bind(this),this._prepareLayout(this._$container);const e=g.a;e&&(this._dataProvider=new e),this._onSymbolChange=this.onSymbolChange.bind(this),this._bridge.symbol.subscribe(this._onSymbolChange,{callWithLast:!0}),window.loginStateChange.subscribe(this,this._onLoginChange)}_prepareLayout(t){this._$container=t,this._$widget=$('<div class="tv-news">').appendTo(t),this._$widget.on("contextmenu",(function(t){"a"!==t.target.tagName.toLowerCase()&&t.preventDefault()})),this._$data=$('<div class="ns-data" data-name="news_list">').appendTo(this._$widget),this._scroll=new r.SidebarCustomScroll(this._$widget,this._$data),this._bridge.height.subscribe(this._resize),this._bridge.visible.subscribe(this._resize)}setTitle(t){if(!this._dataProvider)return;let e=this._dataProvider.title();this._dataProvider.needAppendSymbolToTitle()&&t&&(e=_.format({title:e,symbol:t})),this._$widgetTitle.text(e)}update(){if(!this._dataProvider)return;if(!this._bridge.visible.value())return void(null===this._updateWhenVisible&&(this._updateWhenVisible=t=>{t&&(null!==this._updateIntervalHandle&&this._setUpdateInterval(),this._bridge.visible.unsubscribe(this._updateWhenVisible),this._updateWhenVisible=null,this.update())},this._bridge.visible.subscribe(this._updateWhenVisible),clearInterval(this._updateIntervalHandle)));const t=this._quoteMetaInfo;if(!t)return this._clearListUI(),void this._stopLoading();const e=t.short_name;this._needsFullUpdate=e!==this._shortName,this._shortName=e,this._needsFullUpdate&&(this._startLoading(),
clearInterval(this._updateIntervalHandle),this._setUpdateInterval()),this.setTitle(e),this._pendingNewsRequest&&this._pendingNewsRequest.cancel(),this._pendingNewsRequest=Object(l.makeCancelable)(this._dataProvider.getNews(this._quoteMetaInfo)),this._pendingNewsRequest.promise.then(t=>{this._pendingNewsRequest=null,this._stopLoading(),this.updateData(t)}).catch(t=>{if(!Object(l.isCancelled)(t))throw this._pendingNewsRequest=null,this._stopLoading(),t})}_setUpdateInterval(){if(!this._dataProvider)return;const t=this._dataProvider.timeout();t&&(this._updateIntervalHandle=setInterval(this.update.bind(this),t))}updateData(t){var e;if(t&&t.length)if(this._needsFullUpdate){this._clearListUI(),this._scroll.scrolltoend.unsubscribe(this,this._onScrollToEnd),this._scroll.scrollToStart(),this._scroll.scrolltoend.subscribe(this,this._onScrollToEnd),this._newsScrollIterator=function(t,e){if(!Number.isInteger(e))throw new TypeError("Chunks size must be an integer");if(e<=0)throw new RangeError("Chunk size must be a positive number");const i=t.slice();return{next(){const t=i.splice(0,e);return{value:t,done:!t.length}}}}(t,20);const i=this._newsScrollIterator.next().value,n=h(i[0]);this._newsDiffResolver=(e=n,{getDiff(t){if(0===t.length)return[];const i=t.findIndex(t=>h(t)===e);return e=h(t[0]),t.slice(0,-1===i?t.length:i)}}),this._renderItems(i,!1)}else{if(!this._newsDiffResolver)return void v.logError("Attempt to perform partial update before full update was committed");const e=this._newsDiffResolver.getDiff(t);this._renderItems(e,!0)}}_renderItems(t,e=!1){if(!this._dataProvider)return;const i=document.createDocumentFragment();for(const n of t){const t=Object.assign({},n);t.shortDescription=void 0;const s=this._dataProvider.renderItem(t);this._dataProvider.addClickHandlers(n,s),e&&this.highlight(s),i.appendChild(s)}e?this._$data.prepend(i):this._$data.append(i)}_onScrollToEnd(){this._newsScrollIterator&&this._renderItems(this._newsScrollIterator.next().value,!1)}_onLoginChange(){window.is_authenticated||this.update()}_startLoading(){this._$data.addClass("loading")}_stopLoading(){this._$data.removeClass("loading")}_clearListUI(){this._$data.empty()}resize(){this._scroll.resize()}highlight(t){t.classList.add(m["news-item--highlight"]);const e=()=>{t.classList.remove(m["news-item--highlight"]),t.removeEventListener("animationend",e)};t.addEventListener("animationend",e)}onSymbolChange(t){if(o.a.shortName(t)===this._shortName)return;const e=Object(a.getQuoteSessionInstance)("full");var i=this;if(i._quoteSymbol&&e.unsubscribe(i._bridge.id,i._quoteSymbol),i._quoteMetaInfo=null,t){i._quoteSymbol=t,this._needsFullUpdate&&i.update(),this._bridge.clearNotifications();var n=!1;e.subscribe(i._bridge.id,t,(function(s){n||Object(p.a)(s)||("permission_denied"===s.status&&s.values&&s.values.alternative?i.onSymbolChange(s.values.alternative):s.values&&s.values.short_name&&(i._quoteMetaInfo={pro_name:s.values.pro_name,short_name:s.values.short_name,type:s.values.type,typespecs:s.values.typespecs,exchange:s.values.exchange},i.update(),n=!0,
setTimeout((function(){e.unsubscribe(i._bridge.id,t)}),0)))}))}else i._quoteSymbol=void 0}destroy(){this._quoteSymbol&&Object(a.getQuoteSessionInstance)("full").unsubscribe(this._bridge.id,this._quoteSymbol),this._updateIntervalHandle&&clearInterval(this._updateIntervalHandle),this._scroll.scrolltoend.unsubscribe(this,this._onScrollToEnd),this._updateWhenVisible&&this._bridge.visible.unsubscribe(this._updateWhenVisible),this._bridge.height.unsubscribe(this._resize),this._bridge.visible.unsubscribe(this._resize),this._bridge.symbol.unsubscribe(this._onSymbolChange),window.loginStateChange.unsubscribe(this,this._onLoginChange)}}},"0h28":function(t,e,i){"use strict";(function(e){var n,s=i("TxTq"),o=(n=s)&&n.__esModule?n:{default:n},r=i("xlbu");const a=(0,i("txPx").getLogger)("ReutersCalendar");class l{constructor(t){if(!(this instanceof l))throw new Error("ChartEvents is a constructor");this.changed=new e,this.reset(t),this.pendingDfd=null,this._boundPushstreamHandler=this._pushstreamHandler.bind(this),o.default.on("chartevents-reuters",this._boundPushstreamHandler)}get defaultSelectionTimeAmount(){return 6048e5}get eventsUrl(){return window.CHARTEVENTS_URL+"events"||!1}items(){return this._items}reset(t){this.pendingDfd&&this.pendingDfd.reject(),this._items=[],this.itemsById={},this.minObtainedTimestamp=1/0,this.noResults=!1,t&&null!=t.from?this.from=Number(t.from):this.from=Date.now()-864e5,this._historyLimit=t&&t.historyLimit,this._maxItems=1/0,t&&t.maxItems>0&&(this._maxItems=+t.maxItems),t&&null!=t.to?this.to=t.to:this.to=this.from+this.defaultSelectionTimeAmount,this.from=this.cacheFriendlyTimestamp(this.from),this.to=this.cacheFriendlyTimestamp(this.to),this.currencyFilter=t&&t.currencyFilter?t.currencyFilter:[],t&&null!=t.minImportance&&isFinite(+t.minImportance)?this.minImportance=Math.max(-1,Math.min(1,Math.floor(t.minImportance))):this.minImportance=-1}cacheFriendlyTimestamp(t){return t-t%36e5}formatTimestampForRequest(t){return new Date(t).toISOString()}requestMore(t){if(this.pendingDfd)return this.pendingDfd.promise();if(isFinite(this.minObtainedTimestamp)&&null!=this._historyLimit&&Number(new Date(this.from))<this._historyLimit&&(this.noResults=!0),this._items.length>=this._maxItems&&(this.noResults=!0),this.noResults)return $.Deferred().resolve({added:[],changed:[],noResults:!0}).promise();const e=$.Deferred();this.pendingDfd=e,e.always(()=>{this.pendingDfd=null});const i={};-1!==this.minImportance&&(i.minImportance=this.minImportance),isFinite(this.minObtainedTimestamp)&&(this.to=this.from,this.from=this.from-this.defaultSelectionTimeAmount),t&&t.from&&t.from<this.minObtainedTimestamp&&(this.from=this.cacheFriendlyTimestamp(t.from)),i.from=this.formatTimestampForRequest(this.from),i.to=this.formatTimestampForRequest(this.to),this.currencyFilter.length&&(i.currencies=this.currencyFilter.toString());const n=Object.keys(i).map(t=>t+"="+i[t]).join("&"),s=this.eventsUrl+(n?"?"+n:""),o=Date.now(),l=$.ajax({method:"GET",url:s,dataType:"json"}).done((t,i,n)=>{const s=Date.now()-o
;if(r.telemetry.sendReport("calendars","chartevents_http_status",{value:n.status,additional:{source:"ChartEvents"}}),r.telemetry.sendReport("calendars","chartevents_response_time_frame",{value:s,additional:{source:"ChartEvents"}}),e!==this.pendingDfd)return;if(!t||!t.status||"error"===t.status){r.telemetry.sendReport("calendars","chartevents_error");const i=t&&t.errmsg||"invalid response";return a.logError(i),void e.reject(new Error(i))}r.telemetry.sendReport("calendars","chartevents_ok"),this.minObtainedTimestamp=this.from,"no_data"===t.status&&(this.noResults=!0,this.minObtainedTimestamp=-1/0);const l=this._mergeItems(t.result||[]);e.resolve(l),this.changed.fire(l)}).fail((t,i)=>{if(e===this.pendingDfd&&"abort"!==i){a.logWarn("ChartEvents error on request {0}, status: {1}, status text: {2}".format(s,t.status,t.statusText));const e=Date.now()-o;r.telemetry.sendReport("calendars","chartevents_error"),r.telemetry.sendReport("calendars","chartevents_http_status",{value:t.status||400,additional:{source:"ChartEvents"}}),r.telemetry.sendReport("calendars","chartevents_response_time_frame",{value:e,additional:{source:"ChartEvents"}})}e.reject(t)});return e.fail(()=>{l.abort()}),e.promise()}destroy(){o.default.off("chartevents-reuters",this._boundPushstreamHandler),this._items=[],this.reset()}_mergeItems(t){const e={added:[],changed:[],noResults:this.noResults},i=[];for(let n=t.length;n--;){const e=t[n];-1!==this.minImportance&&this.minImportance>e.importance||(e.timestamp=Date.parse(e.date),null!=this._historyLimit&&e.timestamp<this._historyLimit||i.push(e))}for(let n=0;n<i.length;n++){const t=i[n];if(this.itemsById[t.id]){let i=!1;const n=this.itemsById[t.id];for(const e in t)n[e]!==t[e]&&(n[e]=t[e],i=!0);i&&e.changed.push(n)}else this._items.length===this._maxItems&&(delete this.itemsById[this._items[0].id],this._items.shift(),e.added.shift()),this.itemsById[t.id]=t,this._items.push(t),e.added.push(t)}return e}_pushstreamHandler(t){const e=this._mergeItems([].concat(t));(e.changed.length||e.added.length)&&this.changed.fire(e)}}t.exports=l}).call(this,i("aIyQ"))},"1Pr8":function(t,e,i){t.exports={button:"button-DABaJZo4",hover:"hover-DABaJZo4",hoverMask:"hoverMask-DABaJZo4",icon:"icon-DABaJZo4",counterRow:"counterRow-DABaJZo4",counter:"counter-DABaJZo4",isGrayed:"isGrayed-DABaJZo4",isActive:"isActive-DABaJZo4",isTab:"isTab-DABaJZo4"}},"1TxM":function(t,e,i){"use strict";i.d(e,"d",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"c",(function(){return d})),i.d(e,"b",(function(){return h}));var n=i("q1tI"),s=i.n(n),o=i("17x9"),r=i.n(o);const a=s.a.createContext({});function l(t,e){r.a.checkPropTypes(e,t,"context","RegistryContext")}function c(t){const{validation:e,value:i}=t;return l(i,e),s.a.createElement(a.Provider,{value:i},t.children)}function d(t){const e=Object(n.useContext)(a);return l(e,t),e}function h(){return a}},"1WEt":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m18 18v-.5c0-1.2.6-2 1.5-2.7.8-.5 2-.8 3-.8s2.2.3 3 .8c.9.6 1.5 1.5 1.5 2.7a4 4 0 0 1-1.3 2.8l-2.3 2c-.3.3-.4.6-.4 1.2v.5h-1v-.5c0-.8.2-1.4.6-1.9l2.4-2c.6-.7 1-1.3 1-2.1a2 2 0 0 0-1-1.8c-.7-.5-1.6-.7-2.5-.7-1 0-1.8.2-2.5.7-.6.4-1 1-1 1.8v.5m3.5 8a1 1 0 0 0 0 5 1 1 0 0 0 0-5m0 1a1 1 0 0 1 0 3 1 1 0 0 1 0-3m0-17a1 1 0 0 0 0 25 1 1 0 0 0 0-25m0 1a1 1 0 0 1 0 23 1 1 0 0 1 0-23"/></svg>'},"1WwW":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("q1tI"),s=i("TSYQ"),o=i("Iivm"),r=i("1Pr8");function a(t){t=Object.assign({isTab:!0,theme:r},t);const{NotificationComponent:e=l}=t,i=s(t.className,t.theme.button,t.isTab&&t.theme.isTab,t.isActive&&t.theme.isActive,t.isGrayed&&t.theme.isGrayed,t.hint&&"apply-common-tooltip common-tooltip-vertical");return n.createElement("div",{className:i,title:t.hint,onClick:t.onClick,ref:t.reference,"data-role":"button","data-name":t.name},n.createElement("div",{className:t.theme.hoverMask}),n.createElement(o.a,{icon:t.icon}),n.createElement("div",{className:t.theme.counterRow},n.createElement(e,{className:t.theme.counter,count:t.count,"data-name":"counter"})))}function l(t){return n.createElement("span",{className:t.className,"data-name":"counter"},t.count&&0!==t.count?t.count.toString():void 0)}},"1pWb":function(t,e,i){"use strict";i.d(e,"b",(function(){return s}));var n=i("RwqP");function s(t){return Object(n.b)(t)}i.d(e,"a",(function(){return n.a}))},"34Bw":function(t,e,i){"use strict";i.d(e,"f",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"l",(function(){return a})),i.d(e,"e",(function(){return u})),i.d(e,"v",(function(){return g})),i.d(e,"q",(function(){return p})),i.d(e,"r",(function(){return m})),i.d(e,"s",(function(){return v})),i.d(e,"p",(function(){return _})),i.d(e,"t",(function(){return f})),i.d(e,"u",(function(){return w})),i.d(e,"k",(function(){return b})),i.d(e,"m",(function(){return y})),i.d(e,"h",(function(){return C})),i.d(e,"w",(function(){return S})),i.d(e,"j",(function(){return T})),i.d(e,"d",(function(){return P})),i.d(e,"o",(function(){return B})),i.d(e,"i",(function(){return $})),i.d(e,"c",(function(){return x})),i.d(e,"g",(function(){return k})),i.d(e,"z",(function(){return E})),i.d(e,"y",(function(){return M})),i.d(e,"x",(function(){return I})),i.d(e,"n",(function(){return D}));var n;i("bSeV");!function(t){t.America="NA",t.Europe="EU",t.Asia="AS"}(n||(n={}));const s="/streams",o="/api/v1/streams";let r="",a="",l={[n.America]:"",[n.Europe]:"",[n.Asia]:""},c="",d="",h="",u="";function g(t){a=t.tvLiveUrl,r=t.antUrl,c=t.tvLiveMediaUrl,l=t.antMediaUrls,u=t.recordMediaUrl,d=c+"/previews/",h=`https://${a}/graphql`}function p(){return h}function m(t=n.America){return _(t)+"/WebRTCAppEE/previews/"}function v(){return d}function _(t=n.America){return l[t]}function f(t){return t.domain?`rtmp://${t.domain}/WebRTCAppEE/`:`rtmp://${r}/WebRTCAppEE/`}function w(t){
return!!t&&Date.now()<new Date(t).getTime()+5184e6}const b="apply-common-tooltip";var y,C;!function(t){t.Live="Live",t.Recent="Recent",t.Upcoming="Upcoming"}(y||(y={})),function(t){t.General="General",t.Stream="Stream",t.Source="Source",t.Advanced="Advanced"}(C||(C={}));const S=[C.General,C.Stream];var T,P,B,$,x,O,k;!function(t){t.Live="live",t.Ended="ended",t.Scheduled="scheduled"}(T||(T={})),function(t){t.Browser="browser",t.External="external"}(P||(P={})),function(t){t.Public="public",t.Private="private"}(B||(B={})),function(t){t.Now="now",t.Scheduled="scheduled"}($||($={})),function(t){t.LiveTrading="Live trading",t.Education="Education",t.Analysis="Analysis",t.OffTopic="Off-topic"}(x||(x={})),function(t){t.Stream="stream",t.List="list",t.Settings="settings"}(O||(O={})),function(t){t.YouTube="youtube",t.Twitch="twitch"}(k||(k={}));const E=[{content:x.LiveTrading,value:x.LiveTrading},{content:x.Education,value:x.Education},{content:x.Analysis,value:x.Analysis},{content:x.OffTopic,value:x.OffTopic}],M={[y.Live]:T.Live,[y.Recent]:T.Ended,[y.Upcoming]:T.Scheduled},I={[T.Live]:y.Live,[T.Scheduled]:y.Upcoming,[T.Ended]:y.Recent};var D;!function(t){t.InternalServerError="INTERNAL_SERVER_ERROR",t.MediaServerError="MEDIA_SERVER_ERROR",t.RecorderError="RECORDER_ERROR",t.ForbiddenError="FORBIDDEN",t.UserInputError="BAD_USER_INPUT",t.ValidationError="GRAPHQL_VALIDATION_FAILED",t.AuthenticationError="UNAUTHENTICATED",t.SyntaxError="GRAPHQL_PARSE_FAILED",t.HostsMappingError="HOSTS_MAPPING_ERROR",t.YoutubeError="YOUTUBE_ERROR"}(D||(D={}))},"4Hmh":function(t,e,i){"use strict";i.r(e),i.d(e,"StreamStorage",(function(){return o}));var n=i("34Bw");const s={default:null,widget:null};class o{constructor(t){this.isFilled=!1,this.pageSize=10,this._paginationPages={[n.j.Live]:1,[n.j.Scheduled]:1,[n.j.Ended]:1},this.getStreamsByTab=(t,e)=>{const i=n.y[t];return e?[...this._getStreams(i).filter(t=>t.visibility===n.o.Private)]:[...this._getStreams(i)]},this.findStream=t=>this._streamsArray.find(e=>e.url===t),this.getAuthor=t=>{const e=this._streamsArray.find(e=>e.author.id===t);return null==e?void 0:e.author},this.addStream=t=>{const{state:e}=t;return this._setStreams(e,[t,...this._getStreams(e)]),this._getStreams(e)},this.addStreamsBatch=(t,e)=>(this._setStreams(e,[...t,...this._getStreams(e)]),this._getStreams(e)),this.deleteStream=t=>{const e=this.findStream(t);if(!e)return;const i=this._getStreams(e.state),n=i.findIndex(e=>e.url===t);-1!==n&&(i.splice(n,1),this._setStreams(e.state,i))},t?(this[n.j.Live]=t[n.j.Live]||[],this[n.j.Scheduled]=t[n.j.Scheduled]||[],this[n.j.Ended]=t[n.j.Ended]||[]):(this[n.j.Live]=[],this[n.j.Scheduled]=[],this[n.j.Ended]=[])}get _streamsArray(){return[...this._getStreams(n.j.Live),...this._getStreams(n.j.Scheduled),...this._getStreams(n.j.Ended)]}setGqlStreamsTree(t,e){const i=t=>Object.assign(Object.assign({},t),{author:e});this._setStreams(n.j.Live,(t[n.j.Live]||[]).map(i)),this._setStreams(n.j.Scheduled,(t[n.j.Scheduled]||[]).map(i)),this._setStreams(n.j.Ended,(t[n.j.Ended]||[]).map(i)),this.isFilled=!0}
setStreamsTree(t){this._setStreams(n.j.Live,t[n.j.Live]||[]),this._setStreams(n.j.Scheduled,t[n.j.Scheduled]||[]),this._setStreams(n.j.Ended,t[n.j.Ended]||[]),this.isFilled=!0}find(t){return this._streamsArray.find(t)}changeStream(t,e){this.deleteStream(t),this.addStream(e)}createStream(t,e){const i=Object.assign(Object.assign({},t),{author:e});return this.addStream(i),i}getProfileStreams(){return[...this[n.j.Live],...this[n.j.Scheduled]]}getWidgetStreams(){return{[n.j.Live]:this[n.j.Live],[n.j.Ended]:this[n.j.Ended]}}getPage(t){return this._paginationPages[t]}setPage(t,e){this._paginationPages[t]=e}static getInstance(t="default"){return null===s[t]&&(s[t]=new o),s[t]}_getStreams(t){return this[t]}_setStreams(t,e){this[t]=this._sortStreams(t,e)}_sortStreams(t,e){return e.sort(this._getSortedFunc(t))}_getSortedFunc(t){switch(t){case n.j.Live:return(t,e)=>t.viewersCount-e.viewersCount;case n.j.Scheduled:return(t,e)=>new Date(t.plannedTime).getTime()-new Date(e.plannedTime).getTime();case n.j.Ended:return(t,e)=>e.startTime&&t.startTime?new Date(e.startTime).getTime()-new Date(t.startTime).getTime():1}}}n.j.Live,n.j.Scheduled,n.j.Ended},"4kQX":function(t,e,i){"use strict";i.r(e),i.d(e,"TimeFormatter",(function(){return s}));var n=i("kcTO");class s{constructor(t){this._formatStr=t||"%h:%m:%s"}format(t){return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.format(t):this._formatStr.replace("%h",Object(n.numberToStringWithLeadingZero)(t.getUTCHours(),2)).replace("%m",Object(n.numberToStringWithLeadingZero)(t.getUTCMinutes(),2)).replace("%s",Object(n.numberToStringWithLeadingZero)(t.getUTCSeconds(),2))}formatLocal(t){return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.formatLocal?n.customFormatters.timeFormatter.formatLocal(t):n.customFormatters.timeFormatter.format(t):this._formatStr.replace("%h",Object(n.numberToStringWithLeadingZero)(t.getHours(),2)).replace("%m",Object(n.numberToStringWithLeadingZero)(t.getMinutes(),2)).replace("%s",Object(n.numberToStringWithLeadingZero)(t.getSeconds(),2))}}},"55Xp":function(t,e,i){"use strict";function n(t){const e=t.toString(),i=e.split(".")[1];let n=2;if(i){const t=i.match(/^([0]+)/);t&&(n=t[1].length+1)}return parseFloat(e).toFixed(n)}i.r(e),i.d(e,"roundToFirstValuable",(function(){return n}))},"5AaZ":function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n=i("q1tI"),s=i.n(n),o=i("TSYQ"),r=i.n(o),a=i("cvc5"),l=i("Iivm"),c=i("//lZ"),d=i("9uLv"),h=i("uJ8n"),u=i("Vike");class g extends s.a.PureComponent{constructor(t){super(t),this._scroll=null,this._handleScrollTop=()=>{this.animateTo(Math.max(0,this.currentPosition()-(this.state.heightWrap-50)))},this._handleScrollBot=()=>{this.animateTo(Math.min((this.state.heightContent||0)-(this.state.heightWrap||0),this.currentPosition()+(this.state.heightWrap-50)))},this._handleResizeWrap=({height:t})=>{this.setState({heightWrap:t})},this._handleResizeContent=({height:t})=>{this.setState({heightContent:t})},this._handleScroll=()=>{const{onScroll:t}=this.props
;t&&t(this.currentPosition(),this.isAtTop(),this.isAtBot()),this._checkButtonsVisibility()},this._checkButtonsVisibility=()=>{const{isVisibleTopButton:t,isVisibleBotButton:e}=this.state,i=this.isAtTop(),n=this.isAtBot();i||t?i&&t&&this.setState({isVisibleTopButton:!1}):this.setState({isVisibleTopButton:!0}),n||e?n&&e&&this.setState({isVisibleBotButton:!1}):this.setState({isVisibleBotButton:!0})},this.state={heightContent:0,heightWrap:0,isVisibleBotButton:!1,isVisibleTopButton:!1}}componentDidMount(){this._checkButtonsVisibility()}componentDidUpdate(t,e){e.heightWrap===this.state.heightWrap&&e.heightContent===this.state.heightContent||this._handleScroll()}currentPosition(){return this._scroll?this._scroll.scrollTop:0}isAtTop(){return this.currentPosition()<=1}isAtBot(){return this.currentPosition()+this.state.heightWrap>=this.state.heightContent-1}animateTo(t,e=d.dur){const i=this._scroll;i&&Object(c.doAnimate)({onStep(t,e){i.scrollTop=e},from:i.scrollTop,to:Math.round(t),easing:d.easingFunc.easeInOutCubic,duration:e})}render(){const{children:t,isVisibleScrollbar:e,isVisibleFade:i,isVisibleButtons:n,onMouseOver:o,onMouseOut:c}=this.props,{heightContent:d,heightWrap:g,isVisibleBotButton:p,isVisibleTopButton:m}=this.state;return s.a.createElement(a,{whitelist:["height"],onMeasure:this._handleResizeWrap},s.a.createElement("div",{className:h.wrap,onMouseOver:o,onMouseOut:c},s.a.createElement("div",{className:r()(h.scrollWrap,{[h.noScrollBar]:!e}),onScroll:this._handleScroll,ref:t=>this._scroll=t},s.a.createElement(a,{onMeasure:this._handleResizeContent,whitelist:["height"]},s.a.createElement("div",{className:h.content},t))),i&&s.a.createElement("div",{className:r()(h.fadeTop,{[h.isVisible]:m&&d>g})}),i&&s.a.createElement("div",{className:r()(h.fadeBot,{[h.isVisible]:p&&d>g})}),n&&s.a.createElement("div",{className:r()(h.scrollTop,{[h.isVisible]:m&&d>g}),onClick:this._handleScrollTop},s.a.createElement("div",{className:h.iconWrap},s.a.createElement(l.a,{icon:u,className:h.icon}))),n&&s.a.createElement("div",{className:r()(h.scrollBot,{[h.isVisible]:p&&d>g}),onClick:this._handleScrollBot},s.a.createElement("div",{className:h.iconWrap},s.a.createElement(l.a,{icon:u,className:h.icon})))))}}g.defaultProps={isVisibleScrollbar:!0}},"5M8d":function(t,e,i){},"5VQP":function(t,e,i){"use strict";i.r(e),i.d(e,"ContextMenuManager",(function(){return n}));var n,s=i("tWVy");!function(t){const e=[];function n(){Object(s.b)()}t.createMenu=async function(t,s={},o){const r=new((await Promise.all([i.e("vendors"),i.e(5),i.e(14),i.e(23),i.e(66),i.e(100),i.e(142),i.e(370),i.e(4),i.e(126),i.e(322),i.e("context-menu-renderer")]).then(i.bind(null,"cbq4"))).ContextMenuRenderer)(t,s,()=>{const t=e.indexOf(r);-1!==t&&e.splice(t,1),void 0!==o&&o()},n);return e.push(r),r},t.hideAll=n,t.getShown=function(){for(let t=0;t<e.length;t++)if(e[t].isShown())return e[t];return null}}(n||(n={}))},"5qsH":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><g fill="none" stroke="currentColor"><path d="M14.5 27.5c0 4.97 3.03 8 8 8 4.97 0 8-3.03 8-8v-6a3 3 0 0 0-3-3h-10a3 3 0 0 0-3 3v6z"/><path stroke-linecap="square" d="M22.5 19v16"/><path d="M27.5 18.5a5 5 0 1 0-10 0m13 3h2a2 2 0 0 1 2 2V25m-4 2.5h2a2 2 0 0 1 2 2V31M29 32.5h1.5a2 2 0 0 1 2 2V36m-18-14.5h-2a2 2 0 0 0-2 2V25m4 2.5h-2a2 2 0 0 0-2 2V31m5.5 1.5h-1.5a2 2 0 0 0-2 2V36"/><g transform="translate(12 8)"><circle cx="2.5" cy="2.5" r="2"/><path d="M3.911 3.911L7 7"/></g><g transform="translate(26 8)"><circle cx="4.5" cy="2.5" r="2"/><path d="M3.115 3.885L0 7"/></g></g></svg>'},"6G1D":function(t,e,i){},"6L9M":function(t,e,i){"use strict";i.r(e),i.d(e,"widgetBarWidgets",(function(){return n}));const n={Watchlist:null,NewsWidget:i("/dUa").WidgetBarNews,Detail:i("hpIU"),CalendarWidget:i("lpmC"),ReutersCalendarWidget:i("Sfnf").ReutersCalendarWidget,HotlistWidget:i("CNcW").HotlistRenderer,Messages:i("+SlM"),PublicChatsWidget:i("debi"),NotificationsWidgets:i("clWw"),NotesWidget:i("Maqz"),AlertsManageWidget:i("o0rh").AlertsManageWidget,AlertsLogWidget:i("/Jsq").AlertsLogWidget,ChatWidget:i("eF4M"),showSupportDialog:i("xOeO").showSupportDialog,StreamsWidget:i("kGUJ").StreamsWidgetRenderer}},"6Qm0":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));const n={de:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP","MXN","RUR","HKD","BRL","INR","CHF","TRL","SEK","ARS","PLZ","ATS"],fr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP"],it:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP"],tr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP","TRL"],kr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","MXN","RUR","HKD","BRL","INR","SGD","KRW","THB","TWD","VND"],in:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","RUR","HKD","BRL","INR","SGD","IDR","MYR","AED","QAR"],my:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","HKD","SGD","MYR"],ru:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","RUR","CHF","TRL"],uk:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","SEK","NOK","GRD"],en:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","ZAR"],tw:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","ZAR","TWD"],pl:["USD","EUR","JPY","AUD","DEM","GBP","CAD","CNY","ITL","NZD","SEK","NOK","PLZ"],es:["USD","EUR","JPY","AUD","DEM","GBP","CAD","ITL","ESP","MXN","CHF","ARS","CLP","COP"],cn:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","NZD","HKD","SGD"],br:["USD","EUR","JPY","AUD","DEM","GBP","FRF","CNY","MXN","RUR","BRL","INR"],id:["USD","EUR","JPY","AUD","DEM","GBP","FRF","RUR","HKD","BRL","INR","SGD","IDR"],ja:["USD","EUR","JPY","AUD","DEM","CAD","FRF","CNY","ITL","NZD","MXN","RUR","HKD","BRL","INR","SGD","KRW","ZAR"]},s=t=>(n[t]||n.en).slice()},"7+KO":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 20" width="15" height="20"><g fill="none" stroke="currentColor"><path d="M11.499 13.246a7 7 0 1 0-8.003-.004l.003 3.753c0 .279.232.505.501.505h7c.276 0 .5-.229.5-.505l-.001-3.749z"/><path stroke-linecap="square" d="M5.5 18v.992c0 .28.215.508.49.508h3.02c.27 0 .49-.221.49-.508V18"/><path d="M3.5 13.5h8"/><path stroke-linecap="square" d="M7.5 8.5v4m-2-5h4"/><path d="M3.5 15.5h8"/></g></svg>'},"952j":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return c}));var n=i("Kxc7"),s=i("1pWb");const o=n.enabled("charting_library_base")?/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:.&])*|'.+?'/:/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:.&])*|'.+?'/,r=/[+\-/*]/,a={number:/\d+(?:\.\d*|(?![a-zA-Z0-9_!:.&]))|\.\d+/,incompleteNumber:/\./,symbol:o,incompleteSymbol:/'[^']*/,separatorPrefix:s.a,openBrace:"(",closeBrace:")",plus:"+",minus:"-",multiply:"*",divide:"/",power:"^",whitespace:/[\0-\x20\s]+/,unparsed:null},l=new RegExp(Object.values(a).map(t=>{return null===t?"":`(${"string"==typeof t?(e=t,e.replace(/[\^$()[\]{}*+?|\\]/g,"\\$&")):t.source})`;var e}).filter(t=>""!==t).concat(".").join("|"),"g");function c(t){if(!t)return[];const e=[],i=Object.keys(a);let n;for(;n=l.exec(t);){let t=!1;for(let s=i.length;s--;)if(n[s+1]){i[s]&&e.push({value:n[s+1],type:i[s],precedence:0,offset:n.index}),t=!0;break}t||e.push({value:n[0],type:"unparsed",precedence:0,offset:n.index})}return e}},"9Qhg":function(t,e,i){},"9nb6":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return o}));var n=i("8woN");function s(t){if(t.includes("|")){const[e,i]=t.split("|"),{proName:n,shortName:s}=o(e);return{proName:n,shortName:s,interval:i}}{const{proName:e,shortName:i}=o(t);return{proName:e,shortName:i,interval:void 0}}}function o(t){let e,i;return t.includes(":")?(i=Object(n.shortName)(t),e=t):i=t,{proName:e,shortName:i}}},AJki:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 17" width="24px" height="17px"><path fill-rule="evenodd" d="M1.826 16.913l4.088-6c.85-1.244 2.036-1.25 2.896-.018l2.718 3.897c1.698 2.436 4.46 2.235 5.79-.425l6.457-12.92-1.79-.894-6.456 12.92c-.65 1.302-1.53 1.366-2.363.175L10.45 9.75c-1.66-2.38-4.55-2.365-6.188.037l-4.088 6 1.652 1.126z"/></svg>'},AiMB:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i("q1tI"),s=i("i8i4"),o=i("e3/o"),r=i("jAh7"),a=i("+EG+");class l extends n.PureComponent{constructor(){super(...arguments),this._uuid=Object(o.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const t=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return t.style.top=this.props.top||"",t.style.bottom=this.props.bottom||"",t.style.left=this.props.left||"",t.style.right=this.props.right||"",
t.style.pointerEvents=this.props.pointerEvents||"",s.createPortal(n.createElement(c.Provider,{value:this},this.props.children),t)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?Object(r.getRootOverlapManager)():this.context}}l.contextType=a.b;const c=n.createContext(null)},AlSh:function(t,e,i){},Aml6:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 15" width="12px" height="15px"><path fill-rule="evenodd" d="M6.2 0c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zM6 14.3a7.2 7.2 0 0 1-6-3.22C.03 9.09 4 8 6 8c1.99 0 5.97 1.09 6 3.08a7.2 7.2 0 0 1-6 3.22z"/></svg>'},AsAg:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t.TopAll="top:all",t.TopMonth="top:month",t.TopWeek="top:week",t.TopDay="top:day",t.Moderator="moderator",t.ProPremium="pro:pro_premium",t.ProPremiumTrial="pro:pro_premium_trial",t.ProRealTime="pro:pro_realtime",t.ProRealTimeTrial="pro:pro_realtime_trial",t.Pro="pro:pro",t.ProTrial="pro:pro_trial"}(n||(n={}))},BARr:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m21.5 10a3.5 3.5 0 0 0-3.5 3.5v3h1v-3a2.5 2.5 0 0 1 2.5-2.5h9a2.5 2.5 0 0 1 2.5 2.5v3a2.5 2.5 0 0 1-2.5 2.5h-1v1h1a3.5 3.5 0 0 0 3.5-3.5v-3a3.5 3.5 0 0 0-3.5-3.5zm-7 6a4.5 4.5 0 0 0-4.5 4.5v13.2l4.7-4.7h10.8a4.5 4.5 0 0 0 4.5-4.5v-4a4.5 4.5 0 0 0-4.5-4.5zm0 1h11a3.5 3.5 0 0 1 3.5 3.5v4a3.5 3.5 0 0 1-3.5 3.5H14.3L11 31.3V20.5a3.5 3.5 0 0 1 3.5-3.5zm15 5v1h1a2.5 2.5 0 0 1 2.5 2.5v8.8L29.7 31h-8.2a2.5 2.5 0 0 1-2.5-2.5h-1a3.5 3.5 0 0 0 3.5 3.5h7.8l4.7 4.7V25.5a3.5 3.5 0 0 0-3.5-3.5z"/></svg>'},BH4H:function(t,e,i){"use strict";(function(e,n,s){i("9Qhg"),i("TdlR");var o=i("Eyy1").ensureNotNull,r=i("wtQX"),a=i("Q8Ag"),l=i("PT1i").linking,c=i("1AAW").combine,d=i("JWMC").trackEvent,h=i("e3/o"),u=i("/BH3"),g=i("TSYQ"),p=i("Fb/L").WidgetBarInternal,m=i("dkCg").RightToolbarRenderer,v=i("tBUM").WidgetBarTabButtonViewModel,_=i("jkvV").Hider,f=i("i8i4"),w=i("q1tI"),b=i("HySD"),y=i("N22A"),C=y.tradingService,S=y.waitTradingService,T=i("b5Gw").makeCancelable,P=i("ULlu").unwrap,B=i("+k+b").getInitData,x=i("+GxX").isFeatureEnabled;i("e9Yb");var O=i("xrkQ"),k=parseInt(O["css-value-widgets-margin"]);i("5M8d");var E=i("oOPW");const M={title:$.t("Details"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,widgetClass:O.widget,headerClass:O.widgetHeader,margin:k},I=Object.assign({},M,{emptyHeader:!0});function D(t){t||(t={}),this.options=t,this.resizerBridge=t.resizerBridge,this.adaptive=!!t.adaptive,this.tradingPanelAccessor=t.tradingPanelAccessor;var e=this.resizerBridge;this._visible=c((function(t,e,i){return Boolean(t&&e&&i)}),e.width,e.height,e.visible),this.widgetConfig=$.extend(!0,{},D.widgetConfig),t.widgetConfig&&(this.widgetConfig=$.extend(!0,this.widgetConfig,t.widgetConfig)),this.layout=new N({widgetBar:this}),this._customization=t.customization,t.chartWidgetCollection&&(this.chartWidgetCollection=t.chartWidgetCollection),
t.state?this.layout.demarshal(t.state):t.settingsPrefix&&(this._settingsPrefix=t.settingsPrefix+"",this.loadFromTVSettings()),t.readonly&&(this.readonly=!0),t.fixedMode&&(this.fixedMode=!0),t.showCloseButton&&(this.showCloseButton=!0),this.$container=$(this.resizerBridge.container.value()),this._internal=new p(this),this.createHTML(),this.initLayout(),loginStateChange.subscribe(this,this.onLoginStateChange),this.resizerBridge.width.subscribe(function(){this.layout.syncWidth()}.bind(this)),this.resizerBridge.height.subscribe(function(){this.layout.syncHeight()}.bind(this)),this.resizerBridge.visible.subscribe(function(t){this.layout.onVisibilityChange(t)}.bind(this)),this.resizerBridge.availWidth.subscribe(function(){this.layout.requestOptimalWidth(),this.layout.updateResponsiveness()}.bind(this)),this._tradingServiceCancelable=T(S()),this._tradingServiceCancelable.promise.then(function(t){this._tradingServiceCancelable=null,t.onConnectionStatusChange.subscribe(this,this._onBrokerConnectionStatusChanged)}.bind(this))}D.widgetConfig={reuters_calendar:{title:$.t("Economic Calendar"),ctor:null,lazyLoad:!0,icon:"economic-calendar",options:{widgetType:"widgetbar"}},earnings_calendar:{title:$.t("Earnings Calendar"),ctor:null,lazyLoad:!0,icon:"earnings-calendar"},watchlist:{title:$.t("Watchlist"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,emptyHeader:!0,widgetClass:O.widget,headerClass:O.widgetHeader,margin:k,preloadDelay:6e4},hotlist:{title:$.t("Hotlist"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,emptyHeader:!0,widgetClass:O.widget,headerClass:O.widgetHeader,margin:k},detail:I,news:{title:$.t("Headlines"),ctor:null,noHeaderSpace:!0,widgetClass:O.widget,headerClass:O.widgetHeader,titleClass:O.widgetTitle,margin:k},chat:{title:$.t("Talks"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0},messages:{title:$.t("Recent Chats"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0},messages_with_select:{title:$.t("Recent Chats"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0,options:{layoutWithSelect:!0},emptyHeader:!0},notifications_user:{title:$.t("Notifications"),ctor:null,options:{type:"user"},chartWidgetAllowed:!0},notifications_following:{title:$.t("Ideas Stream"),ctor:null,options:{type:"following"},chartWidgetAllowed:!0},datawindow:{title:$.t("Data Window"),ctor:null,chartWidgetAllowed:!0,chartWidgetRequired:!0},publicchats:{title:$.t("All Talks"),ctor:null,doNotClearNotifications:!0},publicchats_with_select:{title:$.t("All Talks"),ctor:null,doNotClearNotifications:!0,options:{layoutWithSelect:!0},emptyHeader:!0},notes:{title:$.t("My Ideas"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0},alerts_manage:{ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,emptyHeader:!0,noHeaderSpace:!0,widgetClass:O.widget,headerClass:O.widgetHeader,margin:k},alerts_log:{ctor:null,chartWidgetAllowed:!0,emptyHeader:!0,noHeaderSpace:!0,widgetClass:O.widget,headerClass:O.widgetHeader,margin:k},market_summary:{title:$.t("Market Summary"),ctor:null},object_tree:{title:$.t("Object tree. Multi-select drawings tools"),
ctor:null,noHeader:!0,chartWidgetAllowed:!0,chartWidgetRequired:!0},streams:{title:$.t("Streams"),ctor:null,emptyHeader:!0,widgetClass:O.widget,headerClass:O.widgetHeader,margin:k,doNotClearNotifications:!0,doNotClearNotificationsOnVisibilityChange:!0}},D.svgIcons={base:i("dECE")},D.svgIcons["economic-calendar"]=i("nVo0"),D.svgIcons["earnings-calendar"]=i("wvCj"),D.svgIcons["alarm-clock"]=i("uDbD"),D.svgIcons.hotlists=i("TZqb"),D.svgIcons.calendar=i("ohw9"),D.svgIcons.notes=i("PiG3"),D.svgIcons.chat=i("BARr"),D.svgIcons.messages=i("Yznx"),D.svgIcons["ideas-stream"]=i("BpqW"),D.svgIcons.notifications=i("LBec"),D.svgIcons.streams=i("P+Z2"),D.svgIcons.news=i("Ui/w"),D.svgIcons["object-tree"]=i("aE/C"),D.svgIcons.datawindow=i("GNw3"),D._messageHandlers=[],D.postMessage=function(t,e){D._messageHandlers.forEach((function(i){i.handler(t,e)}))},D.onMessage=function(t){"function"==typeof t&&D._messageHandlers.push({handler:t,widget:this})},D.offMessage=function(t){if("function"==typeof t){const e=D._messageHandlers.findIndex(e=>e.handler===t);-1!==e&&D._messageHandlers.splice(e,1)}},D.prototype.destroy=function(){null!==this._tradingServiceCancelable?(this._tradingServiceCancelable.cancel(),this._tradingServiceCancelable=null):o(C()).onConnectionStatusChange.unsubscribe(this,this._onBrokerConnectionStatusChanged);this._internal.destroy(),this._internal=null},D.prototype.isVisible=function(){var t=this.resizerBridge;return t.visible.value()&&t.height.value()&&t.width.value()},D.prototype.visible=function(){return this._visible},D.prototype.initLayout=function(){var t=this;r.load("widgetbar",(function(){var e=$.Deferred();return a.loadWidgetBarModules((function(i){var n=t.widgetConfig;n.reuters_calendar.ctor=i.ReutersCalendarWidget,n.earnings_calendar.ctor=i.CalendarWidget&&i.CalendarWidget.Earnings,n.watchlist.ctor=i.Watchlist,n.hotlist.ctor=i.HotlistWidget,n.detail.ctor=i.Detail&&i.Detail.Widget,n.news.ctor=i.NewsWidget,n.chat.ctor=i.ChatWidget,n.messages.ctor=i.Messages&&i.Messages.Widget,n.messages_with_select.ctor=i.Messages&&i.Messages.Widget,n.notifications_following.ctor=i.NotificationsWidgets,n.notifications_user.ctor=i.NotificationsWidgets,n.publicchats.ctor=i.PublicChatsWidget,n.publicchats_with_select.ctor=i.PublicChatsWidget,n.notes.ctor=i.NotesWidget,n.alerts_manage.ctor=i.AlertsManageWidget,n.alerts_log.ctor=i.AlertsLogWidget,n.streams.ctor=i.StreamsWidget,e.resolve(i)})),e.promise()}),this.options.instantLoad),r.onReady("widgetbar",(function(){t.layout.startWidgets()})),0===this.layout.pages.length&&(this.layout.setMinimizedState(!0),this.layout.$handle.addClass("js-hidden")),t.layout.requestOptimalWidth(),this.layout.syncWidth(),this.layout.syncHeight(),t.layout.onVisibilityChange(),t.layout.updateResponsiveness()},D.prototype.loadWidgets=function(){this._widgetsLoadRequested||(this._widgetsLoadRequested=!0,r.load("widgetbar",null,!0))},D.prototype.onLoginStateChange=function(t){t||window.is_authenticated&&(this.dropWidgetData(),this.refreshFromTVSettings())},D.prototype.dropWidgetData=function(){
for(var t in this.widgetConfig)delete this.widgetConfig[t].data},D.prototype.refreshFromTVSettings=function(){this._settingsPrefix&&(this.layout&&this.layout.destroy(),this.layout=new N({widgetBar:this}),this.loadFromTVSettings(),this.layout.createHTML(),this.layout.$pages.appendTo(this.$wrap),this.layout.$tabs.appendTo(this.$wrap),this.layout.$hider&&this.layout.$hider.appendTo(this.$wrap),this.initLayout())},D.prototype.getWidgets=function(t){for(var e=[],i=0;i<this.layout.pages.length;++i)e=e.concat(this.layout.pages[i].getWidgets(t));return e},D.prototype.loadFromTVSettings=function(){if(this._settingsPrefix){try{this.migrateFromOld()}catch(o){console.error&&console.error(o)}var t=this.getLayoutState();t=this.mergeProperties(t),this.layout.demarshal(t,{settingsPrefix:this._settingsPrefix}),this.saveToTVSettings();var e=TVSettings.getJSON(this._settingsPrefix+"."+u.layoutKeyName,null);if(e){var i,n=[];for(i in e.widgets)n=n.concat(e.widgets[i].map((function(t){return t.id})));var s=TVSettings.keysMask(this._settingsPrefix+".widget.*.*");s&&s.forEach(function(t){var e=t.replace(this._settingsPrefix+".widget.","");-1===n.indexOf(e)&&0===t.indexOf(this._settingsPrefix+".widget.")&&(d("Settings debug","loadFromTVSettings: "+t,user.username),TVSettings.remove(t))}.bind(this))}}},D.prototype.mergeProperties=function(t){var e=TVSettings.getJSON(this._settingsPrefix+"."+u.layoutKeyName,null);if(!e)return t;e.settings&&$.extend(t,e.settings);for(var i={},n=0;n<t.pages.length;n++)for(var s=0;s<t.pages[n].widgets.length;s++){var o=t.pages[n].widgets[s],r=i[o.type]||0;e.widgets[o.type]&&e.widgets[o.type][r]&&$.extend(o,e.widgets[o.type][r]),i[o.type]=++r}return t},D.prototype.migrateFromOld=function(t){var e=TVSettings.getJSON(this._settingsPrefix+".layout-fixed",null);if(e){var i={settings:{}};"minimized"in e&&(i.settings.minimized=e.minimized),"width"in e&&(i.settings.width=e.width),"activeIndex"in e&&(i.settings.activeIndex=e.activeIndex),i.widgets={};for(var n=0;n<e.pages.length;n++)for(var s=e.pages[n].widgets||e.pages[n],o=0;o<s.length;o++){var r,a=s[o];a.id?(r=a.id.replace(/\..*/,""),/^news_.+/.test(r)&&(r=a.type="news",TVSettings.setJSON(this._settingsPrefix+".widget."+a.id.replace(/news_[^.]*/,"news"),TVSettings.getValue(this._settingsPrefix+".widget."+a.id)),a.id=a.id.replace(/news_[^.]*/,"news"))):(r=a.type,/^news_.+/.test(r)&&(a.properties=a.properties||{},a.properties.provider=a.type.replace(/news_([^.]*).*/,"$1"),r=a.type="news")),i.widgets[r]?i.widgets[r].push(a):i.widgets[r]=[a]}TVSettings.setJSON(this._settingsPrefix+"."+u.layoutKeyName,i)}else if(TVSettings.getJSON(this._settingsPrefix+".layout",null)){var l=this.getWidgetProperties("watchlist");if(l){i={settings:{},widgets:{watchlist:[l]}};TVSettings.setJSON(this._settingsPrefix+"."+u.layoutKeyName,i)}}e&&TVSettings.remove(this._settingsPrefix+".layout-fixed"),TVSettings.getJSON(this._settingsPrefix+".layout",null)&&TVSettings.remove(this._settingsPrefix+".layout")},D.prototype.saveToTVSettings=function(){if(this._settingsPrefix){var t=this.layout.marshal()
;TVSettings.setJSON(this._settingsPrefix+"."+u.layoutKeyName,t)}},D.prototype.getWidgetProperties=function(t,e){e=e||0;var i=this._settingsPrefix.replace(/\W/g,"\\$&")+".widget.",n=TVSettings.keysMask(i+t+".*");return!!(n&&n.length&&(n=n.sort())[e])&&{id:n[e].replace(i,"")}},D.prototype._onBrokerConnectionStatusChanged=function(t){this.layout.updateRightToolbar()};var L={type:"news"};function N(t){this.widgetBar=t.widgetBar,this.pages=[],this.activePageIndex=new n(this.activeIndex),this.isMinimized=new n(this.minimized),t&&t.widgetBar&&Object.defineProperty(this,"widgetBar",{value:t.widgetBar,configurable:!0})}function R(t){this.widgets=[],t&&t.widgetBarLayout&&Object.defineProperty(this,"widgetBarLayout",{value:t.widgetBarLayout,configurable:!0})}function A(t){t&&t.widgetBarPage&&Object.defineProperty(this,"widgetBarPage",{value:t.widgetBarPage,configurable:!0}),this._internalState={alive:new n(!0),container:new n,width:new n,height:new n,detachable:new n(!1)},this._rdState=new b.ResizerDetacherState(this._internalState),this._rdState.owner.subscribe(function(t){t!==this._internalState&&$(this._internalState.container.value()).empty()}.bind(this)),this.widgetActive=new n,this.widgetMaximized=new n,this._widgetStarted=new s,this._preloadTimeout=null}function W(t){t&&t.settingsKey&&(this._settingsKey=t.settingsKey,this._value=TVSettings.getJSON(this._settingsKey,null)),t&&t.widgetBarWidget&&Object.defineProperty(this,"widgetBarWidget",{value:t.widgetBarWidget,configurable:!0})}function z(){return e.enabled("right_toolbar")}D.prototype.getGenericLayoutState=function(t){var n=u.getDefaultState(),s=window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE;s.default=s.en;for(var o=x("news_separate_tab_enabled"),r=B(),a=x("streams_widget_enabled")&&r.streams_enabled,l=[{_gaEvent:"General Widget",title:o?$.t("Watchlist and details"):$.t("Watchlist, details and news"),name:"base",icon:"base",widgets:[{type:"watchlist",properties:t&&t.length?{list:t}:void 0},{type:"detail"},Object.assign({},L,{isEnabled:!o})]},e.enabled("alerts")?{_gaEvent:"Alerts",title:$.t("Alerts"),name:"alerts",icon:"alarm-clock",widgets:[{type:"alerts_manage",properties:{}},{type:"alerts_log",properties:{}}]}:null,o?{_gaEvent:"News",title:$.t("News"),name:"news",icon:"news",widgets:[L]}:null,this.chartWidgetCollection&&!this.chartWidgetCollection.readOnly()?{_gaEvent:"Object tree",title:$.t("Object tree. Multi-select drawings tools"),name:"object_tree",icon:"object-tree",onBottom:!0,widgets:[{type:"object_tree"}]}:null,{_gaEvent:"Data Window",title:$.t("Data Window"),name:"data-window",icon:"datawindow",widgets:[{type:"datawindow"}]},{_gaEvent:"Hotlists",title:$.t("Hotlists"),name:"hotlist",icon:"hotlists",widgets:[{type:"hotlist",properties:{exchangeByLocale:s,groupByLocale:{default:"volume_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:s,groupByLocale:{default:"percent_change_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:s,groupByLocale:{default:"percent_change_loosers"}}}]},{_gaEvent:"Calendar",title:$.t("Calendar"),name:"calendar",icon:"calendar",
widgets:[{type:"reuters_calendar",properties:{}},{type:"earnings_calendar",properties:{}}]},{_gaEvent:"My Ideas",title:$.t("My Ideas"),name:"notes",icon:"notes",spaceBottom:!0,spaceBottomText:$.t("Social"),widgets:[{type:"notes"}]},{_gaEvent:"Public Chats",title:$.t("Public Chats"),name:"chats",icon:"chat",widgets:[{type:"chat"},{type:"publicchats"}]},{_gaEvent:"Private Chats",title:$.t("Private Chats"),name:"pm_chats",icon:"messages",widgets:[{type:"messages"}]},{_gaEvent:"Ideas Stream",title:$.t("Ideas Stream"),name:"ideas_stream",icon:"ideas-stream",widgets:[{type:"notifications_following"}]},a?{_gaEvent:"Streams",title:$.t("Streams"),name:"streams",icon:"streams",widgets:[{type:"streams"}],TabButtonComponent:i("XUKQ").StreamsTabButton}:null,{_gaEvent:"Notifications",title:$.t("Notifications"),name:"notifications",icon:"notifications",widgets:[{type:"notifications_user"}]}],c=0;c<l.length;c++)l[c]&&n.pages.push(l[c]);return n},D.prototype.getChartingPlatformLayoutState=function(t,i){var n={version:2,width:267,pages:[]};if(this._customization.watchlist||this._customization.details||this._customization.news){var s="",o=[];this._customization.watchlist&&(s=$.t("Watchlist"),o.push({type:"watchlist",id:"watchlist."+i,properties:t&&t.length?{list:t}:void 0})),this._customization.details&&(this._customization.watchlist?s+=" "+$.t("and details"):s=$.t("Details"),o.push({type:"detail"})),this._customization.news&&(this._customization.watchlist||this._customization.details?s+=" and news":s="News",o.push({type:"news",id:"news."+i})),n.pages.push({name:"base",title:s,icon:"base",widgets:o})}return this._customization.datawindow&&n.pages.push({title:$.t("Data Window"),name:"data-window",icon:"datawindow",widgets:[{type:"datawindow"}]}),e.enabled("show_object_tree")&&this.chartWidgetCollection&&!this.chartWidgetCollection.readOnly()&&n.pages.push({title:$.t("Show Object tree"),name:"object_tree",icon:"object-tree",onBottom:!0,widgets:[{type:"object_tree"}]}),n},D.prototype.getLayoutState=function(){var t,i=this,n=TVSettings.getJSON("watchlist.list",[]);function s(t){return!(void 0!==t.isEnabled&&!t.isEnabled)&&(i.chartWidgetCollection||!D.widgetConfig[t.type].chartWidgetRequired)}for(var o=(t=e.enabled("trading_terminal")?this.getChartingPlatformLayoutState(n,"terminal"):this.getGenericLayoutState(n)).pages.length-1;o>=0;o--){var r=t.pages[o];r.widgets=$.grep(r.widgets,s)}return t.pages=$.grep(t.pages,(function(t){return t.widgets&&t.widgets.length})),t},D.prototype.createWidgetId=function(t){return t+"."+h.randomHash()},D.prototype.setPage=function(t){this.layout.setMinimizedState(!1);var e=this.layout.activeIndex;return this.layout.pages.forEach((function(i,n){i.name===t&&(e=n)})),this.layout.switchPage(e),this.layout.getActivePage()},N.prototype.startWidgets=function(){this.pages.forEach((function(t){t.widgets.forEach((function(t){t.widgetObject||t.widgetStartDelayed||setTimeout((function(){t.startWidget()}),0)}))}));var t=this.getActivePage();t&&t.onActiveStateChange(!0)},N.prototype.syncHeight=function(){
var t=this.widgetBar.resizerBridge.height.value();if(this.$pages.css("height",t+"px"),!this.minimized){var e=this.getActivePage();e&&e.updateWidgetsHeight()}},N.prototype.tabsWidth=function(){return z()?u.tabsWidth:this.minimized?u.hiderGapWidth:0},N.prototype.borderWidth=function(){return u.borderWidth},N.prototype.canOpen=function(){return this.MIN_WIDTH+this.tabsWidth()+this.borderWidth()<=this.widgetBar.resizerBridge.availWidth.value()},N.prototype.requestWidth=function(t){var e=this.widgetBar.resizerBridge;t>0&&(t+=this.borderWidth());var i=this.tabsWidth(),n=t+i;this.canOpen()?e.width.value()!==n&&e.negotiateWidth([{min:i,max:i},{min:this.MIN_WIDTH+i,max:n}]):e.negotiateWidth(0)},N.prototype.requestOptimalWidth=function(){this.changeWidgetsButtonTitle(),this.minimized?this.requestWidth(0):this.requestWidth(this.width)},N.prototype.updateResponsiveness=function(){var t=!this.canOpen();this.$tabs.toggleClass("js-hidden",t),this.$pages.toggleClass("js-hidden",t)},N.prototype.syncWidth=function(){var t=this.widgetBar.resizerBridge,e=this.tabsWidth(),i=this.borderWidth(),n=t.width.value(),s=Math.max(n-e-i,0)||0;if(s<this.MINIMIZE_THRESHOLD?this.setMinimizedState(!0):this.setMinimizedState(!1),this.$pages.css("width",s+"px").toggleClass("hidden",!!this.minimized),!this.minimized){var o=this.getActivePage();o&&o.widgets.forEach((function(t){t.onWidthChange(s)})),this.widgetBar&&this.widgetBar.loadWidgets()}var r=!this.canOpen();this.$deviceButton&&this.$deviceButton.toggleClass("js-hidden",!r||!this.minimized)},N.prototype.setMinimizedState=function(t){t=!!t,!!this.minimized!==t&&(this.minimized=t,this.isMinimized.setValue(this.minimized),t&&this.widgetBar.resizerBridge.exitFullscreen(),this.requestOptimalWidth(),this.activeIndex>=0&&this.pages[this.activeIndex].onActiveStateChange(!this.minimized))},N.prototype.getWidgetsButtonTitle=function(){return this.minimized?window.t("Show Widgets"):window.t("Hide Widgets")},N.prototype.changeWidgetsButtonTitle=function(){this.widgetBar.$widgetBarBtn&&this.widgetBar.$widgetBarBtn.attr("title",this.getWidgetsButtonTitle())},N.prototype.switchPage=function(t){if(-1===t||0===this.pages.length)return this.activeIndex=-1,void this.activePageIndex.setValue(this.activeIndex);var e;if(t instanceof R){if(-1===(e=this.pages.indexOf(t)))return}else e=+t;var i=this.pages[this.activeIndex];this.activeIndex=Math.min(this.pages.length-1,Math.max(0,e)),this.activePageIndex.setValue(this.activeIndex);var n=this.pages[this.activeIndex];this.activeName=n.name,this.minimized||i&&i===n||(i&&i.onActiveStateChange(!1),n&&n.onActiveStateChange(!0))},N.prototype.getActivePage=function(){return this.minimized?null:this.pages[this.activeIndex]||null},N.prototype.onTabClick=function(t,e){if(!t.isDefaultPrevented()){var i=this.pages.indexOf(e);-1!==i&&(t.preventDefault(),i!==this.activeIndex||this.minimized?(e._gaEvent&&d("Platform Widgets",e._gaEvent),this.switchPage(i),this.minimized&&this.setMinimizedState(!1)):this.setMinimizedState(!0),this.widgetBar&&this.widgetBar.saveToTVSettings())}},
D.prototype.ensureSupportTicketButtonViewModel=function(){return this._supportTicketButtonViewModel?this._supportTicketButtonViewModel:this._supportTicketButtonViewModel=new v({icon:i("5qsH"),hint:window.t("Help Center"),onClick:function(){r.onReady("widgetbar",(function(t){var e=t.showSupportDialog;e&&e()})),r.load("widgetbar",null,0)}})},D.prototype.ensureHelpButtonViewModel=function(){if(this._helpButtonViewModel)return this._helpButtonViewModel;var t=this.ensureSupportTicketButtonViewModel();return this._helpButtonViewModel=new v({icon:i("1WEt"),hint:$.t("Help Center"),onClick:t.onClick.value()})},N.prototype.onLayoutResizeHandleMousedown=function(t){if(!t.isDefaultPrevented()){t.preventDefault();var e,i=this,n=Math.max(this.widgetBar.resizerBridge.width.value()-this.tabsWidth()-this.borderWidth(),0);e=t.originalEvent.touches?t.originalEvent.touches[0].clientX:t.pageX,$(document.documentElement).on("mousemove touchmove",s).on("mouseup touchend",(function t(e){$(document.documentElement).off("mousemove touchmove",s).off("mouseup touchend",t),i.widgetBar&&i.widgetBar.saveToTVSettings(),i.changeWidgetsButtonTitle()}))}function s(t){var s;s=t.originalEvent.touches?t.originalEvent.touches[0].clientX:t.pageX;var o=n-(s-e);o<i.MINIMIZE_THRESHOLD?o=0:o<i.MIN_WIDTH&&(o=i.MIN_WIDTH),o>0&&(i.width=o),i.requestWidth(o)}},N.prototype.removePage=function(t){var e=this.pages.indexOf(t);-1!==e&&(delete t.widgetBarLayout,this.pages.splice(e,1),t.$page.detach(),t.$page.detach(),t.$tab.detach(),this.activeIndex===e&&this.switchPage(e-1))},N.prototype.createPage=function(){var t=new R({widgetBarLayout:this});return this.pages.push(t),t.createHTML(),this.$pagescontent.append(t.$page),t},N.prototype.createWidget=function(t,e){if(e){if(-1===this.pages.indexOf(e))return null}else e=this.createPage();var i=new A({widgetBarPage:e});return i.demarshal({type:t}),i.createHTML(),e.attachWidget(i),i},N.prototype.widgetInsertionDisallowed=function(t){return"watchlist"===t&&((!window.user||!user.is_pro)&&(this.pages.some((function(e){return e.widgets.some((function(e){return e.type===t}))}))?(E({feature:"multipleWatchLists"}),!0):void 0))},N.prototype.onVisibilityChange=function(){var t=!(!this.widgetBar||!this.widgetBar.resizerBridge.visible.value());this.visible=t,this.pages.forEach((function(e){e.onVisibilityChange(t)}))},N.prototype.destroy=function(){if(this.widgetBar&&this.widgetBar.layout===this&&delete this.widgetBar.layout,this.tabRenderer&&(this.tabRenderer.destroy(),this.tabRenderer=null),this.$hider){var t=this.$hider.get(0);f.unmountComponentAtNode(t)}for(var e=this.pages.length;e--;)for(var i=this.pages[e],n=i.widgets.length;n--;)i.widgets[n].destroy();for(var s in this)this[s]instanceof $&&this[s].remove(),delete this[s]},N.prototype.getWidgetBarOption=function(){if(this.widgetBar&&name in this.widgetBar)return this.widgetBar[name]},N.prototype.MIN_WIDTH=200,N.prototype.MINIMIZE_THRESHOLD=50,N.prototype.width=290,N.prototype.minimized=!e.enabled("show_right_widgets_panel_by_default"),N.prototype.activeIndex=0,
N.prototype.activeName="",N.prototype.visible=!0,R.prototype.onActiveStateChange=function(t){t=!!t,$(this.$page).toggleClass("active",!!t),this.tab.onActiveStateChange(t),t&&this.updateWidgetsHeight({skipIfHeightUnchanged:!0}),this.widgets.forEach((function(e){e.onActiveStateChange(t)}))},R.prototype.updateWidgetsHeight=function(t){if(!this.$page)return;if(!this.widgetBarLayout||!this.widgetBarLayout.widgetBar)return;if(this.widgetBarLayout.getActivePage()!==this)return void(this._invalidated=!0);t=t||{};var e=this.widgetBarLayout.widgetBar.resizerBridge.height.value();if(this._pageHeight===e&&t.skipIfHeightUnchanged||(this._invalidated=!0,this._pageHeight=e),!this._invalidated)return;var i,n=e,s=0,o=this.widgets,r=null;const a=o.every(t=>null===t.heightRatio||0===t.heightRatio);for(var l=this.widgets.length;l--;)if(this.widgets[l].widgetMaximized.value()){r=this.widgets[l];break}if(o.length>0&&null===r&&a){const t=o[o.length-1];t.heightRatio=1,r=t}if(r){for(l=this.widgets.length;l--;){(u=o[l])!==r&&u.setHeight(0)}o=[r]}for(l=o.length-1;l>0;l--){n-=(u=o[l]).widgetConfig&&u.widgetConfig.margin||1}for(l=o.length;l--;){(u=o[l]).$widget&&(void 0===i&&(i=u.$header.outerHeight(!0)),n-=i,s+=u.heightRatio)}var c=n/s,d=o.length-1;for(l=0;l<=d;l++){var h,u=o[l];h=l===d?n:Math.round(c*u.heightRatio),u.setHeight(h),n-=h}},R.prototype.onWidgetResizeHandleMousedown=function(t,e){if(!t.isDefaultPrevented()){var i,n,s,o=this;t.preventDefault();for(var r=this.widgets.length-1;r>0;r--)this.widgets[r]===e&&(i=this.widgets[r],n=this.widgets[r-1]);s=t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY;var a=n._rdState.bridge().height.value(),l=n.heightRatio+i.heightRatio,c=a+i._rdState.bridge().height.value();if(0!==c){var d,h=function(t){o.$page.addClass("widget-resize-mode");var e=(t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY)-s,r=Math.max(0,Math.min(a+e,c));d!==r&&(d=r,n.heightRatio=r/c*l,i.heightRatio=l-n.heightRatio,n.setHeight(r),i.setHeight(c-r))},u=function(t){$(document.documentElement).off("mousemove touchmove",h).off("mouseup touchend",u),o.$page.removeClass("widget-resize-mode"),d!==a&&(o.normalizeRatios(),o.widgetBarLayout&&o.widgetBarLayout.widgetBar&&o.widgetBarLayout.widgetBar.saveToTVSettings())};$(document.documentElement).on("mousemove touchmove",h).one("mouseup touchend",u)}}},R.prototype.normalizeRatios=function(){for(var t=1/0,e=this.widgets.length;e--;){var i=this.widgets[e].heightRatio;i<=0||!isFinite(i)||i<t&&(t=i)}if(isFinite(t)){for(var n=1;t<1;)t*=2,n*=2;for(;t>=2;)t/=2,n/=2;for(e=this.widgets.length;e--;)this.widgets[e].heightRatio*=n}},R.prototype.attachWidget=function(t,e){e=+e;var i=this.widgets.indexOf(t);-1!==i?this.widgets.splice(i,1):t.widgetBarPage&&t.widgetBarPage!==this&&t.widgetBarPage.removeWidget(t),e<this.widgets.length?e<0&&(e=0):e=this.widgets.length,delete t.widgetBarPage,Object.defineProperty(t,"widgetBarPage",{value:this,configurable:!0}),this.widgets.splice(e,0,t);var n=this.widgets[e+1];n?t.$widget.insertBefore(n.$widget):t.$widget.appendTo(this.$page),
this.widgetBarLayout&&this.widgetBarLayout.getActivePage(),this.updateWidgetsHeight(),t.updateVisibleWatchedValue()},R.prototype.removeWidget=function(t){var e=this.widgets.indexOf(t);-1!==e&&(delete t.widgetBarPage,this.widgets.splice(e,1),t.$widget&&t.$widget.detach(),this.updateWidgetsHeight())},R.prototype.remove=function(){this.widgetBarLayout&&this.widgetBarLayout.removePage(this)},R.prototype.destroy=function(){for(var t in this.remove(),this)this[t]instanceof $&&this[t].remove(),delete this[t]},R.prototype.isActiveAndVisible=function(){var t=this.widgetBarLayout;return!(!t||!t.visible)&&t.getActivePage()===this},R.prototype.onVisibilityChange=function(t){var e=t&&this.widgetBarLayout&&this.widgetBarLayout.getActivePage()===this;this.widgets.forEach((function(i){var n=i.getWidgetBarOption("widgetConfig")[i.type];e&&!n.doNotClearNotificationsOnVisibilityChange&&i.clearNotifications(),i.onVisibilityChange(t)}))},R.prototype.notify=function(t,e){!0!==(e=e||{}).clear?e.stopHighlightTab||(this.notificationCounter=this.notificationCounter+(~~t||1),this.updateNotifications(e.notificationValue)):this.clearNotifications()},R.prototype.clearNotifications=function(){this.notificationCounter=0,this.tab.updateNotifications(this.notificationCounter)},R.prototype.updateNotifications=function(t){var e="number"==typeof t?t:this.notificationCounter;this.tab.updateNotifications(e)},R.prototype.notificationCounter=0,R.prototype.getWidgets=function(t){for(var e=[],i=0;i<this.widgets.length;++i){var n=this.widgets[i];n.type===t&&e.push(n)}return e},A.prototype.setHeight=function(t){$(this._internalState.container.value())&&$(this._internalState.container.value()).height(t),this._internalState.height.setValue(t)},A.prototype.onWidthChange=function(t){this._internalState.width.setValue(t)},A.prototype.remove=function(){this.widgetBarPage&&this.widgetBarPage.removeWidget(this)},A.prototype.destroy=function(){for(var t in this.widgetObject&&"function"==typeof this.widgetObject.destroy&&this.widgetObject.destroy(),this.remove(),this.symbolLinking&&(this.symbolLinking.destroy(),this.symbolLinking=null),this.intervalLinking&&(this.intervalLinking.destroy(),this.intervalLinking=null),this.widgetVisible&&(this.widgetVisible.unsubscribe(),this.widgetVisible=null),this.widgetActive&&(this.widgetActive.unsubscribe(),this.widgetActive=null),this.watchedHeight&&(this.watchedHeight.unsubscribe(),this.watchedHeight=null),this.watchedWidth&&(this.watchedWidth.unsubscribe(),this.watchedWidth=null),this.widgetMaximized&&(this.widgetMaximized.unsubscribe(),this.widgetMaximized=null),this)this[t]instanceof $&&this[t].remove(),delete this[t];D._messageHandlers=D._messageHandlers.filter((function(t){return t.widget!==this}),this),clearTimeout(this._preloadTimeout)},A.prototype.onActiveStateChange=function(t){var e=(this.getWidgetBarOption("widgetConfig")||D.widgetConfig)[this.type];this.$icon&&this.$icon.toggleClass("active",!!t),t&&!e.doNotClearNotifications&&this.clearNotifications(),this.updateVisibleWatchedValue(),this.widgetActive.setValue(!!t)},
A.prototype.toggleMaximize=function(t){if("boolean"!=typeof t)t=!this.widgetMaximized.value();else if(t===this.widgetMaximized.value())return;this.widgetMaximized.setValue(t),this.widgetBarPage&&this.widgetBarPage.widgetBarLayout&&this.widgetBarPage.widgetBarLayout.widgetBar&&this.widgetBarPage.widgetBarLayout.widgetBar.saveToTVSettings(),this.widgetBarPage&&this.widgetBarPage.updateWidgetsHeight()},A.prototype.startWidget=function(){if(!this.widgetObject&&!this.widgetStartDelayed){var t=(this.getWidgetBarOption("widgetConfig")||D.widgetConfig)[this.type];if(t){var e=t.ctor;if(e){var i=this;if(this.widgetVisible=this.widgetVisible||new n,this.updateVisibleWatchedValue(),t.lazyLoad&&!this.widgetVisible.value())return this.widgetStartDelayed=!0,this.widgetVisible.when((function(){delete i.widgetStartDelayed,i.startWidget(),clearTimeout(i._preloadTimeout)})),void(t.preloadDelay&&(this._preloadTimeout=setTimeout((function(){e.preload&&e.preload()}),t.preloadDelay)));this.symbolLinking=l.symbol.spawn(),this.intervalLinking=l.interval.spawn();var s=this._rdState.bridge(),o={$widget:this.$widget,$header:this.$header,$headerspace:this.$headerspace,$body:$(s.container.value()),header:this.$header[0],widget:this.$widget[0],container:s.container.value(),properties:this.properties,notify:this.notify.bind(this),clearNotifications:this.clearNotifications.bind(this),visible:this.widgetVisible.readonly(),active:this.widgetActive.readonly(),symbol:this.symbolLinking,interval:this.intervalLinking,height:s.height,width:s.width,setTitle:this.setTitle.bind(this),setTitleHtml:this.setTitleHtml.bind(this),id:this.id,toggleMaximize:this.toggleMaximize.bind(this),maximized:this.widgetMaximized.readonly(),postMessage:D.postMessage.bind(this),onMessage:D.onMessage.bind(this),offMessage:D.offMessage.bind(this),hideDetach:!1,unAuthEditable:this.unAuthEditable};if(t.chartWidgetAllowed){var r=function(){return i.widgetBarPage&&i.widgetBarPage.widgetBarLayout&&i.widgetBarPage.widgetBarLayout.widgetBar&&i.widgetBarPage.widgetBarLayout.widgetBar.chartWidgetCollection};o.getChartWidget=function(){var t=r();return t?t.activeChartWidget.value():null},o.getChartWidgetCollection=function(){return r()||null}}null!=this.readonly?this.readonly&&(o.readonly=!0):this.getWidgetBarOption("readonly")&&(o.readonly=!0),null!=t.options&&(o.options=t.options),null!=this.stateData?o.data=this.stateData:null!=t.data&&(o.data=t.data);var a=this.widgetObject=new e(o);a.hasLifecycle&&this.widgetActive.readonly().subscribe((function(t){t?a.mount():a.unmount()}),{callWithLast:!t.lazyLoad}),this._widgetStarted.fire(this)}}}},A.prototype.widgetStarted=function(){return this._widgetStarted},A.prototype.notify=function(t,e){if(e=e||{},this.widgetBarPage&&(!this.widgetBarPage.isActiveAndVisible()||e.force))return this.widgetBarPage.notify(t,e)},A.prototype.clearNotifications=function(){if(this.widgetBarPage)return this.widgetBarPage.clearNotifications()},R.prototype.isActiveAndVisible=function(){var t=this.widgetBarLayout;return!(!t||!t.visible)&&t.getActivePage()===this},
A.prototype.onVisibilityChange=function(t){this.updateVisibleWatchedValue()},A.prototype.updateVisibleWatchedValue=function(){this.widgetVisible&&this.widgetVisible.setValue(!!this.widgetBarPage&&this.widgetBarPage.isActiveAndVisible())},A.prototype.setTitle=function(t){this.customTitle=t+"",this.$title&&this.$title.text(this.getTitle())},A.prototype.setTitleHtml=function(t){this.$title&&this.$title.html(t)},A.prototype.heightRatio=1,A.prototype.getWidgetBarOption=function(t){if(this.widgetBarPage&&this.widgetBarPage.widgetBarLayout&&this.widgetBarPage.widgetBarLayout.widgetBar&&t in this.widgetBarPage.widgetBarLayout.widgetBar)return this.widgetBarPage.widgetBarLayout.widgetBar[t]},W.prototype.value=function(t){return this._value},W.prototype.setValue=function(t,e){return this._value=t,this._settingsKey&&(null==t?(d("Settings debug","WigdetProperties.setValue: "+this._settingsKey,user.username),TVSettings.remove(this._settingsKey)):TVSettings.setJSON(this._settingsKey,t,e)),this._value},D.prototype.createHTML=function(){var t=this.$container;!t||t.size()<1||(t.empty(),this.layout.createHTML(),this.$wrap=$(document.createElement("div")).attr("class","widgetbar-wrap unselectable js-right-boundary").appendTo(t),this.layout.$pages.appendTo(this.$wrap),z()&&this.layout.$tabs.appendTo(this.$wrap),this.layout.$deviceButton&&this.$wrap.append(this.layout.$deviceButton),this.layout.$hider&&this.layout.$hider.appendTo(this.$wrap))},N.prototype._tabRendererOptions=function(){var t=this.widgetBar._internal;return{tabs:this.pages,isDomButtonAvailable:t.isDomButtonAvailable(),isOrderPanelButtonAvailable:t.isOrderPanelButtonAvailable(),isSupportTicketButtonAvailable:t.isSupportTicketButtonAvailable(),isHelpButtonAvailable:t.isHelpButtonAvailable()}},N.prototype.updateRightToolbar=function(){this.tabRenderer.updateOptions(this._tabRendererOptions())},N.prototype.createHTML=function(){var t=this;if(t.$tabs=t.$tabscontent=$(),z()&&(t.$tabs=$('<div class="widgetbar-tabs">'),t.tabRenderer&&(t.tabRenderer.destroy(),t.tabRenderer=null),t.tabRenderer=new m(t.widgetBar,t.$tabs[0],t._tabRendererOptions()),this.widgetBar.adaptive&&(t.$deviceButton=$('<div class="tv-device-widgetbar-button js-hidden"><div class="tv-device-widgetbar-button__ripple js-ripple"></div>'+i("bC7V")+"</div>").on("click",(function(e){t.widgetBar.resizerBridge.requestFullscreen(),d("Mobile","Open right toolbar")})))),t.$pages=$(document.createElement("div")).attr("class","widgetbar-pages"),t.$pagescontent=$(document.createElement("div")).attr("class","widgetbar-pagescontent").appendTo(t.$pages),z()||t.$pages.css("right","-1px"),t.$handle=$(document.createElement("div")).attr("class","widgetbar-handle").appendTo(t.$pages),t.$handle.on("mousedown touchstart",t.onLayoutResizeHandleMousedown.bind(t)),t.$handle.on("contextmenu",(function(t){t.target.classList.contains("widgetbar-handle")&&t.preventDefault()})),this.widgetBar.showCloseButton){t.$hider=$(document.createElement("div")).addClass("widgetbar-hider");var e=function(){var e=t.$hider.get(0)
;e.classList.toggle("widgetbar-hider--closed",t.isMinimized.value()),e.classList.toggle("js-hidden",z()&&t.isMinimized.value()),f.render(w.createElement(_,{isMinimized:t.isMinimized.value(),onClick:function(){t.setMinimizedState(!t.minimized)}}),e)};t.isMinimized.subscribe(e),e()}t.pages.forEach((function(e){e.createHTML(),e.$page.appendTo(t.$pagescontent)}))},R.prototype.createHTML=function(){var t=this;t.$page=$(document.createElement("div")).attr("class","widgetbar-page"),t.widgets.forEach((function(e){e.createHTML(),e.$widget.appendTo(t.$page)}))},R.prototype.createTabButtonViewModel=function(){var t=this;t.tab=new v({icon:D.svgIcons[t.icon],hint:t.title,onClick:function(e){t.widgetBarLayout&&t.widgetBarLayout.onTabClick(e,t)},TabButtonComponent:t.TabButtonComponent})},A.prototype.getTitle=function(t){var e,i,n,s=(e=this.type,i=this.getWidgetBarOption("widgetConfig"),!(n=((i=i||D.widgetConfig)[e]||0).title)&&e&&(n=(""+e).match(/[A-Z]{2,}|\d+(?:\.\d+)?|[A-Z]?[a-z]+/g).join(" ").replace(/^.|\s./g,(function(t){return t.toUpperCase()}))),n||void 0);return t&&this.customTitle&&s?this.customTitle.substr(0,s.length)===s?this.customTitle:s+": "+this.customTitle:this.customTitle||s||$.t("Widget")},A.prototype.createHTML=function(){var t=this,e=!!t.widgetConfig&&(!!t.widgetConfig.icon&&t.widgetConfig.icon),i=t.widgetConfig&&t.widgetConfig.emptyHeader,n=t.widgetConfig&&t.widgetConfig.noHeader,s=t.widgetConfig&&t.widgetConfig.noHeaderSpace,o=t.widgetConfig&&t.widgetConfig.widgetClass||"",r=t.widgetConfig&&t.widgetConfig.headerClass||"",a=t.widgetConfig&&t.widgetConfig.titleClass||"";t.$widget=$(document.createElement("div")).attr("class",g(o,"widgetbar-widget","widgetbar-widget-"+t.type)),t.$header=$(document.createElement("div")).attr("class",r||"widgetbar-widgetheader"),n||t.$header.appendTo(t.$widget),t.$header.on("contextmenu",(function(t){"input"!==t.target.tagName.toLowerCase()&&t.preventDefault()})),e&&(t.$headericon=$(document.createElement("div")).attr("class","widgetbar-widgetheader-icon widgetbar-widgetheader-icon-"+e).append($(D.svgIcons[e])).appendTo(t.$header)),s||(t.$headerspace=$(document.createElement("div")).attr("class","widgetbar-headerspace").appendTo(t.$header),t.$headerspace.on("click",(function(t){t.preventDefault()}))),i||(t.$title=$(document.createElement("div")).attr("class",g("widgetbar-widgettitle",a)).appendTo(t.$header),t.$title.text(this.getTitle()));var l=$(document.createElement("div")).attr("class","widgetbar-widgetbody").appendTo(t.$widget);l.on("contextmenu",(function(t){t.target.classList.contains("widgetbar-widgetbody")&&t.preventDefault()})),t._internalState.container.setValue(P(l)),t.$resizehandle=$(document.createElement("div")).attr("class","widgetbar-widgethandle").appendTo(t.$widget),t.$resizehandle.on("mousedown touchstart",(function(e){t.widgetBarPage&&t.widgetBarPage.onWidgetResizeHandleMousedown(e,t)})),t.$resizehandle.on("contextmenu",(function(t){t.target.classList.contains("widgetbar-widgethandle")&&t.preventDefault()})),!0===this.maximized&&(this.toggleMaximize(!0),
delete this.maximized)},N.demarshal=function(t,e){return(new N).demarshal(t,e)},R.demarshal=function(t,e){return(new R).demarshal(t,e)},A.demarshal=function(t,e){return(new A).demarshal(t,e)},N.prototype.demarshal=function(t,e){if("string"==typeof t)try{t=JSON.parse(t)}catch(r){}if(!t||"object"!=typeof t)return null;this.width=+t.width,!isFinite(this.width)||this.width<=0?delete this.width:this.width<this.MIN_WIDTH&&(this.width=this.MIN_WIDTH),"minimized"in t?(this.minimized=!!t.minimized,this.isMinimized.setValue(this.minimized)):(delete this.minimized,this.isMinimized.setValue(this.minimized)),"version"in t&&(this.version=t.version);var i=+t.activeIndex,n=t.activeName,s=!1,o=this.pages;return o.splice(0,this.pages.length),Array.isArray(t.pages)&&t.pages.forEach((function(t,r){var a=new R({widgetBarLayout:this}).demarshal(t,e);n?t.name===n&&a&&(i=r,s=!0):a||r!==i||i--,a&&o.push(a)}),this),n&&!s&&(i=0),0===o.length?(this.activeIndex=-1,this.activePageIndex.setValue(this.activeIndex)):i>=0&&i<o.length&&(this.activeIndex=i,this.activePageIndex.setValue(this.activeIndex)),this},R.prototype.demarshal=function(t,e){if("string"==typeof t)try{t=JSON.parse(t)}catch(n){}if(!t||!t.widgets||!Array.isArray(t.widgets))return null;var i=this.widgets;return i.splice(0,i.length),this._gaEvent=t._gaEvent,this.title=t.title,this.name=t.name,this.icon=t.icon,this.spaceBottom=t.spaceBottom,this.spaceBottomText=t.spaceBottomText,this.onBottom=t.onBottom,this.TabButtonComponent=t.TabButtonComponent,this.createTabButtonViewModel(),t.widgets.forEach((function(t){var n=new A({widgetBarPage:this}).demarshal(t,e);n&&i.push(n)}),this),0===i.length?null:this},A.prototype.demarshal=function(t,e){if("string"==typeof t)try{t=JSON.parse(t)}catch(o){}if(!t||"object"!=typeof t)return null;var i;if("id"in t?(this.id=t.id+"",this.type=this.id.replace(/\..*/,"")):"type"in t?(this.type=t.type+"",this.id=D.prototype.createWidgetId(this.type)):(delete this.type,delete this.id),null!=t.readonly?this.readonly=!!t.readonly:delete this.readonly,this.stateData=t.data,isFinite(+t.heightRatio)&&+t.heightRatio>=0?this.heightRatio=+t.heightRatio:delete this.heightRatio,!0===t.maximized&&(this.maximized=!0),!0===t.unAuthEditable&&(this.unAuthEditable=!0),t.settingsKey)i=t.settingsKey;else if(this.id){var n=this.getWidgetBarOption("_settingsPrefix");n&&(i=n+".widget."+this.id)}this.properties=new W({widgetBarWidget:this,settingsKey:i}),null==t.properties||i&&null!==this.properties.value()||this.properties.setValue(t.properties),"news"!==this.type&&"hotlist"!==this.type||!i||this.properties.setValue($.extend(!0,{},t.properties,this.properties.value())),"hotlist"===this.type&&!i&&t.properties&&this.properties.setValue(t.properties),this.widgetConfig=null;var s=this.getWidgetBarOption("widgetConfig");return s[this.type]&&(this.widgetConfig=s[this.type]),this},N.prototype.marshal=function(t){var e=[];this.pages.forEach((function(i){var n=i.marshal(t);n&&(e=e.concat(n))}));for(var i={},n=0;n<e.length;n++)if(e[n].type){var s=e[n].type;e[n].id&&delete e[n].type,
i[s]?i[s].push(e[n]):i[s]=[e[n]]}var o={widgets:i,settings:{}};return["minimized","width","activeIndex","version","activeName"].forEach((function(t){this[t]!==N.prototype[t]&&(o.settings[t]=this[t])}),this),o},R.prototype.marshal=function(t){var e=[];return this.widgets.forEach((function(i){var n=i.marshal(t);n&&e.push(n)})),0===e.length?null:e},A.prototype.marshal=function(t){var e={};return this.id&&(e.id=this.id),this.type&&(e.type=this.type),["heightRatio"].forEach((function(t){this[t]!==A.prototype[t]&&(e[t]=this[t])}),this),this.widgetMaximized.value()&&(e.maximized=!0),t&&t.includeWidgetProperties&&this.properties&&(e.properties=TradingView.clone(this.properties.value())),e},t.exports.WidgetBar=D}).call(this,i("Kxc7"),i("hY0g"),i("aIyQ"))},BpqW:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><g fill="none" stroke="currentcolor"><path d="M19.5 33.5h6a2 2 0 0 0 2-2v-4c2.41-1.615 4-4.88 4-8a9 9 0 0 0-18 0c0 3.122 1.586 6.386 4 8v4a2 2 0 0 0 2 2zm-2-6h10m-10 3h10m-7 3v1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-1"/><path stroke-linecap="square" d="M22.5 27.5v-7m-2 0h4"/><path d="M11.86 13.945A11.948 11.948 0 0 0 10.5 19.5c0 2.009.494 3.902 1.366 5.566M9.203 12.552A14.935 14.935 0 0 0 7.5 19.5c0 2.508.615 4.872 1.703 6.95M33.14 13.945A11.946 11.946 0 0 1 34.5 19.5c0 2.009-.494 3.902-1.366 5.566m2.663-12.514A14.935 14.935 0 0 1 37.5 19.5c0 2.508-.615 4.872-1.703 6.95"/></g></svg>'},C1zv:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t.BrokerExtraFeatured="broker_extra:featured",t.BrokerPlatinum="broker:platinum",t.BrokerGold="broker:gold",t.BrokerSilver="broker:silver"}(n||(n={}))},CNcW:function(t,e,i){"use strict";i.r(e),i.d(e,"HotlistRenderer",(function(){return a}));var n=i("q1tI"),s=i("i8i4"),o=i("ku9n"),r=i("J/x9");class a extends o.a{constructor(t){super(t),this._task=null;const{properties:e}=t;this._properties=e,this.mount()}mount(){
const t=this._loadModulePromise=Promise.all([Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(50),i.e(51),i.e(65),i.e(93),i.e(100),i.e(139),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(617),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("hotlist-widget")]).then(i.bind(null,"/MKj")),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(50),i.e(51),i.e(65),i.e(93),i.e(100),i.e(139),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(617),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("hotlist-widget")]).then(i.bind(null,"16wD")),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(50),i.e(51),i.e(65),i.e(93),i.e(100),i.e(139),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(617),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("hotlist-widget")]).then(i.bind(null,"6ibq")),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(50),i.e(51),i.e(65),i.e(93),i.e(100),i.e(139),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(617),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("hotlist-widget")]).then(i.bind(null,"u18y")),Object(r.initSymbolListService)()]).then(([e,i,o,r,a])=>{if(this._loadModulePromise===t){const{store:t,actions:l,runner:c}=a,{initWidget:d}=l;this._task=c.run(r.hotlistsSaga,this._widgetId),t.dispatch(d(this._widgetId,["short_name","last_price","change","change_percent"],{isDeletable:!1,isSortable:!1,isMovable:!1,enableContextMenu:!1,enableAddSymbolsByAnon:!1,shouldDisplaySymbolSearch:!1,shouldDisplayPositions:!1,shouldDisplayColumnsMenu:!1})),s.render(n.createElement(e.Provider,{store:t},n.createElement(i.Hotlist,{properties:this._properties,widgetId:this._widgetId})),this._container),s.render(n.createElement(e.Provider,{store:t},n.createElement(o.HotlistHeader,{properties:this._properties,widgetId:this._widgetId})),this._headerContainer)}})}unmount(){super.unmount(),this._cancelTask()}destroy(){this._cancelTask(),super.destroy()}_cancelTask(){this._task&&(this._task.cancel(),this._task=null)}}},CYdy:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("Vdly"),s=i("hY0g"),o=i.n(s);let r=null;class a{constructor(){this._state=new o.a({live:n.getBool("streams.widget.state_live",!0)||null,recent:n.getBool("streams.widget.state_ended",!0)||null,
notificationLive:n.getBool("streams.widget.notification_live",!0)||null}),this._state.subscribe(t=>{n.setValue("streams.widget.state_live",null!==t.live),n.setValue("streams.widget.state_ended",null!==t.recent),n.setValue("streams.widget.notification_live",null!==t.notificationLive)})}setFiltersState(t){this._state.setValue(Object.assign(Object.assign({},this._state.value()),t))}isFilterEnabled(t){return null!==this._state.value()[t]}toggleFilter(t,e=!this.isFilterEnabled(t)){switch(t){case"live":this.setFiltersState({live:e||null}),this.isFilterEnabled("live")?this.setFiltersState({notificationLive:!0}):this.setFiltersState({notificationLive:null});break;case"recent":this.setFiltersState({recent:e||null});break;case"notificationLive":this.setFiltersState({notificationLive:e||null})}}getFiltersState(){return this._state.value()}subscribe(t){this._state.subscribe(t)}unsubscribe(t){this._state.unsubscribe(t)}static getInstance(){return null===r&&(r=new a),r}}},DIB2:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t.Idea="ideaPublishing",t.Script="scriptPublishing",t.Stream="startStreaming",t.VideoIdea="videoIdeaPublishing"}(n||(n={}))},EhHS:function(t,e,i){"use strict";i.r(e),i.d(e,"getBadgeAccountName",(function(){return o})),i.d(e,"getBadgeAccountTitle",(function(){return r}));var n=i("C1zv"),s=i("AsAg");function o(t){var e;if(0!==t.length)return null===(e=t.find(t=>{return e=t.name,a.has(e);var e}))||void 0===e?void 0:e.name}function r(t){return t.map(t=>t.verbose_name).join(" | ")}const a=new Set(Object.values(Object.assign(Object.assign({},n.a),s.a)))},FZIs:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t.Light="light",t.Dark="dark"}(n||(n={}))},"Fb/L":function(t,e,i){"use strict";i.r(e),i.d(e,"WidgetBarInternal",(function(){return s}));var n=i("Kxc7");class s{isHelpButtonAvailable(){return!n.enabled("widget")&&!n.enabled("charting_library_base")}isSupportTicketButtonAvailable(){return n.enabled("bugreport_button")}isDomButtonAvailable(){return n.enabled("dome_widget")}isOrderPanelButtonAvailable(){return n.enabled("order_panel")}}},GNw3:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m5 12v-1h4v1zm5-6h1v4h-1zm0 7h1v4h-1zm2-1v-1h4v1zm7 0v-1h10.5a4.5 4.5 0 0 1 4.5 4.5v14a4.5 4.5 0 0 1-4.5 4.5h-15a4.5 4.5 0 0 1-4.5-4.5V20h1v9.5a3.5 3.5 0 0 0 3.5 3.5h15a3.5 3.5 0 0 0 3.5-3.5v-14a3.5 3.5 0 0 0-3.5-3.5H19zm-3 5a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2H16zm0-1h12a2 2 0 1 1 0 4H16a2 2 0 1 1 0-4zm-1 8v-1h8v1zm0 4v-1h8v1zm11-4v-1h3v1zm0 4v-1h3v1z"/></svg>'},GWvR:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M9.901 9.639c-.102-.797.218-1.775.77-2.356l1.438-1.527-2.07-.395c-.784-.142-1.615-.742-2.008-1.446L7.003 2.06 5.97 3.917c-.391.702-1.222 1.301-2 1.443l-2.08.396 1.44 1.526c.547.577.866 1.549.77 2.353l-.262 2.086 1.93-.897a2.95 2.95 0 0 1 1.233-.254c.44 0 .87.085 1.233.254l1.93.897-.263-2.082zm.992-.127l.458 3.624c.014.105-.006.16-.02.176-.028.03-.109.005-.182-.03L7.812 11.73a1.973 1.973 0 0 0-.811-.16c-.302 0-.59.057-.81.16l-3.338 1.552c-.118.056-.164.051-.182.03-.014-.016-.034-.07-.02-.178L3.11 9.51c.06-.503-.162-1.18-.505-1.54L.087 5.302c-.085-.091-.09-.148-.086-.158.003-.01.04-.053.16-.077l3.621-.689c.491-.09 1.069-.506 1.315-.948L7.004 0l1.902 3.43c.246.442.824.859 1.312.947l3.617.69c.123.024.162.068.164.077.003.01-.003.066-.089.157L11.4 7.97c-.348.367-.57 1.045-.506 1.543z"/></svg>'},"H+PN":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 16" width="24px" height="16px"><path clip-rule="evenodd" d="M12 0C4.07 0 0 8 0 8s3.072 8 12 8c8.087 0 12-7.97 12-7.97S20.057 0 12 0zm.02 13c-2.9 0-4.996-2.188-4.996-5 0-2.813 2.096-5 4.995-5s4.992 2.187 4.992 5c0 2.812-2.096 5-4.995 5zm0-8c-1.658 0-3 1.393-3 3 0 1.606 1.34 3 2.997 3 1.656 0 2.996-1.395 2.996-3 0-1.608-1.34-3.003-2.997-3z"/></svg>'},HKz3:function(t,e,i){"use strict";i.r(e);var n=i("LsFU");var s=i("bbtx");function o(t){return Object(n.isBadgeUser)(t)?function(t){if(Object(n.isModerator)(t))return"/house-rules/";if(Object(n.isTop)(t))return"/people/";if(Object(n.isProPremium)(t)||Object(n.isProRealtime)(t)||Object(n.isPro)(t)||Object(n.isTrial)(t)){return"/gopro/?source=badge&feature="+t.split(":")[1]}}(t):Object(s.isBadgeBroker)(t)?function(t){return Object(s.isBadgeBrokerWithLink)(t)?"/brokers/":void 0}(t):void 0}i.d(e,"getBadgeAccountLink",(function(){return o}))},HSWI:function(t,e,i){t.exports={filler:"filler-1ggHJ4cQ"}},Hpvy:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" d="M21 14.5a7.5 7.5 0 0 0-15 0v.5H5v-.5a8.5 8.5 0 1 1 8.5 8.5H13v-1h.5a7.5 7.5 0 0 0 7.5-7.5zm-8-.5V9h1v6h-4v-1h3zm-5.646 2.646l3.5 3.5.353.354-.353.354-3.5 3.5-.708-.708L9.293 21H3v-1h6.293l-2.647-2.646.708-.708z"/></svg>'},IJjo:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("mrSG"),s=i("JWMC"),o=i("0UyP");async function r(t){Object(s.trackEvent)("News","click",t.provider);const e=await Object(o.getTracker)(),{category:i}=t,r=Object(n.d)(t,["category"]);e&&e.trackNewsClick(Object.assign(Object.assign({},r),{category:i,page:a(),user_id:window.user.id||null}))}function a(){if(window.TradingView.onChartPage)return"chart";const t=window.location.pathname;if("/"===t)return"main";const e=t.split("/")[1];return"chart"===e?"idea":e}},IMMp:function(t){
t.exports=JSON.parse('{"color-bg-primary":"color-cold-gray-850","color-bg-primary-hover":"color-cold-gray-800","color-bg-secondary":"color-cold-gray-900","color-bg-highlight":"color-cold-gray-900","color-bg-scroll-buttons":"color-cold-gray-800","color-legacy-bg-scroll-buttons":"color-cold-gray-550","color-legacy-bg-widget":"color-cold-gray-900","color-text-primary":"color-cold-gray-200","color-text-secondary":"color-cold-gray-500","color-text-tertiary":"color-cold-gray-400","color-text-disabled":"color-cold-gray-650","color-divider":"color-cold-gray-700","color-divider-hover":"color-cold-gray-800","color-box-shadow":"color-black","color-active-hover-text":"color-gull-gray","color-alert-text":"color-loblolly","color-border":"color-bright-gray","color-border-chat-fields":"color-bright-gray","color-border-hover":"color-trout-1","color-border-table":"color-cold-gray-800","color-brand":"color-tv-blue-500","color-brand-hover":"color-tv-blue-600","color-brand-active":"color-tv-blue-700","color-button-hover-bg":"color-mirage-3","color-chart-page-bg":"color-cold-gray-800","color-common-tooltip-bg":"color-cold-gray-650","color-danger":"color-ripe-red-600","color-danger-hover":"color-ripe-red-500","color-danger-active":"color-ripe-red-400","color-depthrenderer-fill-style":"color-catskill-white","color-depthrenderer-stroke-style":"color-trout-1","color-disabled-border-and-color":"color-ebony-clay","color-disabled-input":"color-bright-gray","color-empty-container-message":"color-slate-gray","color-highlight-new":"color-dark-slate-blue","color-icons":"color-slate-gray","color-input-bg":"color-charade","color-input-textarea-readonly":"color-trout-1","color-input-placeholder-text":"color-cold-gray-700","color-input-publish-bg":"color-mirage-1","color-item-active-blue":"color-blue-dianne","color-item-hover-active-bg":"color-charade","color-item-hover-bg":"color-ebony-clay","color-item-hover-blue":"color-blue-dianne","color-item-selected-blue":"color-blue-dianne","color-item-active-text":"color-cold-gray-200","color-item-active-bg":"color-tv-blue-500","color-link":"color-tv-blue-500","color-link-hover":"color-tv-blue-600","color-link-active":"color-tv-blue-700","color-list-item":"color-slate-gray","color-list-nth-child-bg":"color-mirage-3","color-news-highlight":"color-charade","color-pane-bg":"color-mirage-1","color-pane-secondary-bg":"color-cold-gray-850","color-placeholder":"color-trout-2","color-popup-menu-item-hover-bg":"color-cold-gray-800","color-popup-menu-separator":"color-cold-gray-700","color-row-hover-active-bg":"color-ebony-clay","color-sb-scrollbar-body-bg":"color-trout-2","color-screener-description":"color-loblolly","color-section-separator-border":"color-bright-gray","color-separator-table-chat":"color-bright-gray","color-success":"color-minty-green-700","color-success-hover":"color-minty-green-600","color-success-active":"color-minty-green-500","color-tag-active-bg":"color-bright-gray","color-tag-hover-bg":"color-charade","color-text-regular":"color-loblolly","color-toolbar-button-text":"color-cold-gray-500","color-toolbar-button-text-hover":"color-cold-gray-450","color-toolbar-button-text-active":"color-tv-blue-500","color-toolbar-button-text-active-hover":"color-tv-blue-600","color-toolbar-button-background-hover":"color-cold-gray-800","color-toolbar-button-background-secondary-hover":"color-cold-gray-750","color-toolbar-toggle-button-background-active":"color-tv-blue-500","color-toolbar-toggle-button-background-active-hover":"color-tv-blue-600","color-toolbar-interactive-element-text-normal":"color-cold-gray-300","color-toolbar-interactive-element-text-hover":"color-cold-gray-250","color-toolbar-opened-element-bg":"color-cold-gray-800","color-tooltip-bg":"color-bright-gray","color-tv-button-checked":"color-slate-gray","color-tv-dialog-caption":"color-athens-gray-2","color-tv-dropdown-item-hover-bg":"color-charade","color-underlined-text":"color-gull-gray","color-widget-pages-bg":"color-cold-gray-900","color-warning":"color-tan-orange-700","color-forex-icon":"color-white","color-list-item-active-bg":"color-medium-blue","color-list-item-hover-bg":"color-ebony-clay","color-list-item-text":"color-loblolly","color-price-axis-label-back":"color-cold-gray-800","color-price-axis-label-text":"color-cold-gray-500","color-price-axis-gear":"color-cold-gray-500","color-price-axis-gear-hover":"color-cold-gray-400","color-price-axis-highlight":"color-cold-gray-800","color-bid":"color-tv-blue-500","color-scroll-bg":"color-cold-gray-650","color-scroll-border":"color-cold-gray-850","color-widget-border":"color-cold-gray-800","color-scroll-buttons-arrow":"color-white","color-control-intent-default":"color-cold-gray-650","color-control-intent-success":"color-minty-green-600","color-control-intent-primary":"color-tv-blue-500","color-control-intent-warning":"color-tan-orange-400","color-control-intent-danger":"color-ripe-red-500","color-growing":"color-minty-green-600","color-falling":"color-ripe-red-600","color-pre-market":"color-tan-orange-600","color-pre-market-bg":"color-tan-orange-400","color-post-market":"color-tv-blue-500","color-post-market-bg":"color-tv-blue-400","color-market-open":"color-minty-green-500","color-market-open-bg":"color-minty-green-400","color-market-closed":"color-cold-gray-400","color-market-holiday":"color-cold-gray-400","color-invalid-symbol":"color-ripe-red-400","color-invalid-symbol-hover":"color-ripe-red-500","color-replay-mode":"color-tv-blue-500","color-replay-mode-icon":"color-tv-blue-50","color-replay-mode-hover":"color-tv-blue-600","color-notaccurate-mode":"color-berry-pink-700","color-notaccurate-mode-bg":"color-berry-pink-400","color-delay-mode":"color-tan-orange-700","color-delay-mode-bg":"color-tan-orange-400","color-eod-mode":"color-grapes-purple-700","color-eod-mode-bg":"color-grapes-purple-400","color-data-problem":"color-ripe-red-600","color-data-problem-bg":"color-ripe-red-400","color-data-problem-hover":"color-ripe-red-500","color-list-item-bg-highlighted":"color-tv-blue-a900","color-list-item-bg-selected":"color-tv-blue-a800","color-list-item-bg-highlighted-hover":"color-tv-blue-a800","color-list-item-bg-selected-hover":"color-tv-blue-a700","color-screener-header-bg":"color-cold-gray-850","color-screener-header-bg-hover":"color-cold-gray-800","color-overlay":"color-cold-gray-950"}')
},IS8I:function(t,e,i){},IWHC:function(t,e,i){"use strict";var n;i.r(e),i.d(e,"AlertCategory",(function(){return n})),function(t){t.Price="price",t.Screener="screener"}(n||(n={}))},"If+W":function(t,e,i){t.exports={toolbar:"toolbar-OvhMiobx",isGrayed:"isGrayed-OvhMiobx"}},IhIr:function(t,e,i){"use strict";i.r(e),i.d(e,"Size",(function(){return n})),i.d(e,"Badge",(function(){return r}));var n,s=i("q1tI"),o=i("TSYQ");i("6G1D");function r(t){const{size:e=n.Medium,href:i,title:r,className:a}=t,l=o("tv-badge","tv-badge--"+e,r&&"apply-common-tooltip",a);return i?s.createElement("a",{href:i,target:"_blank",title:r,className:l}):s.createElement("span",{title:r,className:l})}!function(t){t.Small="small",t.Medium="medium",t.Large="large"}(n||(n={}))},IoBF:function(t,e,i){"use strict";function n(t){return Boolean(window.widgetbar&&window.widgetbar.resizerBridge.fullscreen.value())?0:t}i.d(e,"a",(function(){return n}))},JHPQ:function(t,e,i){t.exports={"news-item":"news-item-14OMzC2A","news-item--card":"news-item--card-14OMzC2A","news-item--no-hover":"news-item--no-hover-14OMzC2A","news-item--highlight":"news-item--highlight-14OMzC2A","news-item__header":"news-item__header-14OMzC2A","news-item__title":"news-item__title-14OMzC2A","news-item__title--external-link":"news-item__title--external-link-14OMzC2A"}},JZcM:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t.Fired="fired",t.FireControl="fire_control"}(n||(n={}))},LBec:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="M23.98 13.12c3.67 1.19 5.98 4.85 6.02 9.26v2.31c-.04 1.53.03 2.14.35 2.46l-.7.7c-.61-.6-.7-1.32-.66-3.18L29 24v-1.62c-.04-4.13-2.23-7.46-5.63-8.4a.5.5 0 0 1-.37-.48c0-1.04-.56-1.5-1.5-1.5s-1.5.46-1.5 1.5a.5.5 0 0 1-.37.48c-3.4.93-5.59 4.27-5.63 8.4V24l.01.67c.04 1.86-.05 2.58-.66 3.18l-.7-.7c.32-.32.4-.93.36-2.46L13 24v-1.62c.04-4.41 2.35-8.07 6.02-9.26.15-1.39 1.14-2.12 2.48-2.12s2.33.73 2.48 2.12zM13 28a1 1 0 0 0 0 2h17a1 1 0 0 0 0-2m0-1a1 1 0 0 1 0 4H13a1 1 0 0 1 0-4m6 3.5a1 1 0 0 0 5 0h1a1 1 0 0 1-7 0"/></svg>'},LsFU:function(t,e,i){"use strict";i.r(e),i.d(e,"isBadgeUserWithTitle",(function(){return o})),i.d(e,"isBadgeUser",(function(){return a})),i.d(e,"isTop",(function(){return l})),i.d(e,"isModerator",(function(){return c})),i.d(e,"isProPremium",(function(){return d})),i.d(e,"isProRealtime",(function(){return h})),i.d(e,"isPro",(function(){return u})),i.d(e,"isTrial",(function(){return g}));var n=i("AsAg");const s=new Set([n.a.Moderator,n.a.TopAll,n.a.TopMonth,n.a.TopWeek,n.a.TopDay,n.a.ProPremiumTrial,n.a.ProRealTimeTrial,n.a.ProTrial]);function o(t){return s.has(t)}const r=new Set(Object.values(n.a));function a(t){return r.has(t)}function l(t){return n.a.TopAll===t||n.a.TopMonth===t||n.a.TopWeek===t||n.a.TopDay===t}function c(t){return n.a.Moderator===t}function d(t){return n.a.ProPremium===t||n.a.ProPremiumTrial===t}function h(t){return n.a.ProRealTime===t||n.a.ProRealTimeTrial===t}function u(t){return n.a.Pro===t||n.a.ProTrial===t}function g(t){
return n.a.ProPremiumTrial===t||n.a.ProRealTimeTrial===t||n.a.ProTrial===t}},M1lL:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 24" width="23" height="24"><g fill="none"><g stroke="currentColor"><path d="M15.499 17.246a7 7 0 1 0-8.003-.004l.003 3.753c0 .279.232.505.501.505h7c.276 0 .5-.229.5-.505l-.001-3.749z"/><path stroke-linecap="square" d="M9.5 22v.992c0 .28.215.508.49.508h3.02c.27 0 .49-.221.49-.508V22"/><path d="M7.5 17.5h8"/><path stroke-linecap="square" d="M11.5 12.5v4m-2-5h4"/><path d="M7.5 19.5h8"/></g><path fill="currentColor" fill-rule="nonzero" d="M2 11H0v1h2zm15.864 7.571l1.414 1.414.707-.707-1.414-1.414zM23 11h-2v1h2zm-4.429-5.864l1.414-1.414-.707-.707-1.414 1.414zM4.429 17.864l-1.414 1.414.707.707 1.414-1.414zm.707-13.435L3.722 3.015l-.707.707 1.414 1.414zM12 2V0h-1v2z"/></g></svg>'},MVPm:function(t,e,i){"use strict";i.r(e),i.d(e,"configure",(function(){return c}));var n=i("Eyy1"),s=i("Kxc7"),o=i("Z+Vr"),r=i("ku9n"),a=i("m2+w"),l=i("J/x9");function c(t){return Object(n.ensure)(t.chartApiInstance),class e extends r.a{constructor(t){super(t),this._pendingOperationPromise=null,this._task=null,this._props=t,this.mount()}mount(){const i=this._loadModulePromise=e.preload().then(([e,r,l,c,d,h,u,g])=>{if(this._loadModulePromise===i){const{store:i,runner:p,actions:m}=e,{initWidget:v}=m,{readonly:_,unAuthEditable:f}=this._props;this._task=p.run(u.watchListSaga);const w=new a.a;if(i.dispatch(v(o.a,w.get(),{shouldDisplayColumnsMenu:!0,shouldDisplayPositions:!0,isSortable:!0,enableContextMenu:!s.enabled("widget"),isDeletable:!_,isMovable:!_,shouldDisplaySymbolSearch:f||!_&&!s.enabled("widget"),enableAddSymbolsByAnon:Boolean(f)||!1})),void 0!==g){const e=Object(n.ensure)(t.tradingViewApi);if(!e.watchlist()){const{chartApiInstance:n}=t,s=new g.WatchListApi(n,i);e.setWatchlistApi(s)}}l.render(r.createElement(c.Provider,{store:i},r.createElement(d.WatchList,{widgetId:o.a})),this._container),l.render(r.createElement(c.Provider,{store:i},r.createElement(h.Header,{widgetId:o.a})),this._headerContainer)}})}unmount(){super.unmount(),this._cancelTask()}addSymbols(t){t.length&&this._initSymbolList(e=>{const{store:i,actions:n}=e;i.dispatch(n.addSymbols(o.a,t))})}saveListAs(t,e){t&&t.length&&this._initSymbolList(i=>{const{store:n,actions:s}=i;n.dispatch(s.saveListAs(o.a,t,void 0,e))})}destroy(){this._cancelTask(),super.destroy()}static preload(){
return Promise.all([Object(l.initSymbolListService)(),Promise.resolve().then(i.t.bind(null,"q1tI",7)),Promise.resolve().then(i.t.bind(null,"i8i4",7)),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(34),i.e(50),i.e(51),i.e(63),i.e(64),i.e(65),i.e(80),i.e(100),i.e(139),i.e(140),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(415),i.e(469),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("watchlist-widget")]).then(i.bind(null,"/MKj")),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(34),i.e(50),i.e(51),i.e(63),i.e(64),i.e(65),i.e(80),i.e(100),i.e(139),i.e(140),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(415),i.e(469),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("watchlist-widget")]).then(i.bind(null,"5oMM")),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(34),i.e(50),i.e(51),i.e(63),i.e(64),i.e(65),i.e(80),i.e(100),i.e(139),i.e(140),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(415),i.e(469),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("watchlist-widget")]).then(i.bind(null,"3EM8")),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(34),i.e(50),i.e(51),i.e(63),i.e(64),i.e(65),i.e(80),i.e(100),i.e(139),i.e(140),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(415),i.e(469),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("watchlist-widget")]).then(i.bind(null,"y5tV")),Promise.resolve(void 0)])}_initSymbolList(t){const e=window.widgetbar;if(!e)return;e.layout.setMinimizedState(!1),e.setPage("base");const n=this._pendingOperationPromise=Promise.all([Object(l.initSymbolListService)(),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(6),i.e(9),i.e(12),i.e(13),i.e(15),i.e(14),i.e(20),i.e(23),i.e(26),i.e(31),i.e(34),i.e(50),i.e(51),i.e(63),i.e(64),i.e(65),i.e(80),i.e(100),i.e(139),i.e(140),i.e(142),i.e(143),i.e(178),i.e(211),i.e(214),i.e(215),i.e(282),i.e(315),i.e(415),i.e(469),i.e(4),i.e(8),i.e(41),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(86),i.e(110),i.e(126),i.e(182),i.e(193),i.e(197),i.e(194),i.e(267),i.e(293),i.e("watchlist-widget")]).then(i.bind(null,"y5tV"))]).then(([e,i])=>{if(this._pendingOperationPromise===n){this._pendingOperationPromise=null;const{runner:n}=e;if(this._task&&this._task.isRunning())t(e);else{const s=n.run(i.watchListSaga);t(e),s.cancel()}}})}_cancelTask(){
this._task&&(this._task.cancel(),this._task=null)}}}},Maqz:function(t,e,i){"use strict";(function(e,n){i("Py6I"),i("xNaP");var s=i("L7u7").pushChartPage,o=i("TxTq"),r=i("sFgq").SidebarCustomScroll,a=i("bR4N").bindPopupMenu,l=i("fZEr"),c=l.showConfirm,d=l.showWarning,h=i("c2JX").Spinner,u=i("oiRj"),g=i("brCa").showNoticeDialog;function p(t){this.bridge=t,this.properties=t.properties,this.settings={},this.$container=t.$body,this.prepareLayout(this.$container),this.updateData(),t.onMessage&&t.onMessage(this.onBridgeMessage.bind(this)),t.symbol&&t.symbol.subscribe(this.update.bind(this)),t.interval&&t.interval.subscribe(this.updateInterval.bind(this)),o.on("ideas.channel",this.messageHandler.bind(this)),this.favorites=new p.Favorites(p.FAV_KEY)}function m(t){this.requestData=t,this.offset=0,this.itemsInRequest=5,this.requestsRunning=0}function v(t,e,i){return t.filter((function(){return $(this).data(e)===i}))}function _(t,e,i){this._bridge=t,this._handler=e,this._handler(this.getMenu(i))}p.SHOW_ONLY_PRIVATE_IDEAS="notes.show_only_private_ideas",p.SHOW_IDEAS_FOR_CURRENT_SYMBOL="notes.show_ideas_for_current_symbol",p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION="notes.show_ideas_for_current_resolution",p.SHOW_ONLY_FAVORITE_IDEAS="notes_widget.show_only_favorite_ideas",p.FAV_KEY="notesAndIdeas.favorites",p.prototype.onChart=function(){return null!=this.bridge.getChartWidget()},p.prototype.filterData=function(t){return(!this.showOnlyPrivateIdeas()||!t.is_public)&&((!this.showIdeasForCurrentSymbol()||t.symbol===this.bridge.symbol.value())&&((!this.showIdeasForCurrentResolution()||t.interval===this.bridge.interval.value())&&(!(this.showOnlyFavoriteIdeas()&&!this.favorites.isFavorite(t.id))&&!(this.listView.find(t.id).length>0&&"delete"!==t.action))))},p.prototype.messageHandler=function(t){if("delete"===t.action)this.listView.find(t.idea.id).remove(),this.notesCache.removeNote();else if(this.filterData(t.idea)){var e=new p.Idea(t.idea);this.listView.prepend(e),this.notesCache.addNote(),this.addListeners(e)}},p.prototype.update=function(){this.bridge&&this.bridge.symbol&&this.updateData()},p.prototype.updateInterval=function(){this.bridge&&this.bridge.interval&&this.updateData()},p.prototype.updateData=function(){if(is_authenticated){var t=this;this.notesCache=new m(this.getRequestData()),this.notesCache.requestNext().then((function(e){t.onData(e.charts)}))}},p.prototype.appendData=function(){var t=this;this.listView.loading(!0),this.notesCache.requestNext().then((function(e){t.onData(e.charts,!0)})).always((function(){t.listView.loading(!1)}))},p.prototype.addListeners=function(t){var e=this;t.onClick((function(t,i){s({chartId:i.getImageUrl(),chartName:i.getName(),publishedUrl:i.getPublishedChartUrl(),chartWidgetCollection:e.bridge.getChartWidgetCollection()})})),t.onDelete((function(t,i){e.deletePublishedChart(i,{trigger:!0})})),t.onFavorite((function(t,i){e.favorites.toggleFavorite(i.getId()),i.setFavorite(e.favorites.isFavorite(i.getId()))})),t.setFavorite(e.favorites.isFavorite(t.getId()))},
p.prototype.deletePublishedChart=function(t,e){var i=t.getImageUrl(),n=(e.isScript?$.t("Do you really want to delete Script '{name}' ?"):$.t("Do you really want to delete Idea '{name}' ?")).format({name:t.getName()});c({text:n,onConfirm:function(t){return new Promise((function(e){$.ajax({type:"POST",url:"/idea-delete/",data:{image_url:i},success:function(i){e(),i.error?d({title:$.t("Error"),text:i.error},t.innerManager):t.dialogClose()}})}))}})},p.prototype.onData=function(t,e){e||(this._scroll.scrollTo(0),this.listView.empty());for(var i=0;i<t.length;i++){var n=new p.Idea(t[i]);this.listView.add(n),this.addListeners(n)}this._scroll.atEnd()&&this._scroll.scrolltoend.fire()},p.prototype.showOnlyFavoriteIdeas=function(){return TVSettings.getBool(p.SHOW_ONLY_FAVORITE_IDEAS,!1)},p.prototype.showOnlyPrivateIdeas=function(){return TVSettings.getBool(p.SHOW_ONLY_PRIVATE_IDEAS,!1)},p.prototype.showIdeasForCurrentSymbol=function(){return TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL,!1)},p.prototype.showIdeasForCurrentResolution=function(){return TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION,!1)},p.prototype.toggleShowOnlyPrivateIdeas=function(){TVSettings.setValue(p.SHOW_ONLY_PRIVATE_IDEAS,!this.showOnlyPrivateIdeas()),this.updateData()},p.prototype.toggleShowOnlyFavoriteIdeas=function(){TVSettings.setValue(p.SHOW_ONLY_FAVORITE_IDEAS,!this.showOnlyFavoriteIdeas()),this.updateData()},p.prototype.toggleIdeasForCurrentSymbol=function(){TVSettings.setValue(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL,!this.showIdeasForCurrentSymbol()),this.updateData()},p.prototype.toggleIdeasForCurrentResolution=function(){TVSettings.setValue(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION,!this.showIdeasForCurrentResolution()),this.updateData()},p.prototype.onBridgeMessage=function(t,e){t===p.SHOW_ONLY_PRIVATE_IDEAS?this.toggleShowOnlyPrivateIdeas():t===p.SHOW_IDEAS_FOR_CURRENT_SYMBOL?this.toggleIdeasForCurrentSymbol():t===p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION?this.toggleIdeasForCurrentResolution():t===p.SHOW_ONLY_FAVORITE_IDEAS&&this.toggleShowOnlyFavoriteIdeas()},p.prototype.prepareLayout=function(t){t.on("contextmenu",(function(t){t.preventDefault()})),this._$widget=$('<div class="tv-notes-widget">').appendTo(t),this.$data=$('<div class="tv-notes-widget__data">').appendTo(this._$widget),this.listView=new p.ListView(this.$data),this._scroll=new r(this._$widget,this.$data);var e=this;this._scroll.scrolltoend.subscribe(this,(function(t){this.notesCache.requestRunning()||this.notesCache.requestedAll()||e.appendData()})),this.$addButton=$(document.createElement("a")).addClass("button apply-common-tooltip").attr("title",$.t("Publish Private Idea")).append($(i("drLC")).attr({width:17,height:17})).appendTo(this.bridge.$headerspace),this.onChart()?this.$addButton.on("click",(function(){$(".publish-dropdown-container").children().removeClass("inprogress"),u.publishChart({isPrivate:!0,doNotSavePrivacySetting:!0})})):this.$addButton.on("click",(function(){
var t=$.t("Publishing is possible only from the chart page. Please {link_start}open a chart{link_end} and then try again.").format({link_start:'<a target="_blank" href="/chart/">',link_end:"</a>"});g({title:$.t("Oops!"),content:t})})),this.$settingsButton=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'"></a>').append($(i("jJ9P")).attr({width:17,height:17})).on("click",function(t){this._showSettingsDialog(t)}.bind(this)).appendTo(this.bridge.$headerspace),a(this.$settingsButton,null,{event:"show-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0})},p.prototype._showSettingsDialog=function(t){return $(t.delegateTarget).hasClass("open")?($(t.delegateTarget).trigger("hide-popup"),!1):(new _(this.bridge,(function(e,i){$(t.delegateTarget).trigger("show-popup",[e,i])}),this.onChart()),t.preventDefault(),!1)},m.prototype.requestRunning=function(){return this.requestsRunning>0},m.prototype.requestedAll=function(){return this.offset>=this.chartsCount},m.prototype.addNote=function(){this.offset++},m.prototype.removeNote=function(){this.offset--},m.prototype.requestNext=function(){var t=this;return this.requestData.offset=this.offset,this.requestData.count=this.itemsInRequest,this.requestsRunning++,$.get("/my-ideas/",this.requestData,(function(e){e&&(t.offset+=e.charts.length,t.chartsCount=e.count)})).always((function(){t.requestsRunning--}))},p.prototype.getRequestData=function(t){var e={start:t||0,onlyPrivate:this.showOnlyPrivateIdeas(),onlyFavorite:this.showOnlyFavoriteIdeas()};if(this.bridge.getChartWidget()){var i=this.bridge.symbol.value(),n=this.bridge.interval.value();i&&this.showIdeasForCurrentSymbol()&&(e.symbol=i),n&&this.showIdeasForCurrentResolution()&&(e.interval=n)}return e},p.Favorites=function(t){this.key=t,this._favs=TVSettings.getJSON(t,[])},p.Favorites.prototype.addFavorite=function(t){return!this.isFavorite(t)&&(this._favs.push(t),this.save(),!0)},p.Favorites.prototype.toggleFavorite=function(t){this.isFavorite(t)?this.removeFavorite(t):this.addFavorite(t)},p.Favorites.prototype.isFavorite=function(t){return-1!==this._favs.indexOf(t)},p.Favorites.prototype.save=function(){TVSettings.setJSON(this.key,this._favs)},p.Favorites.prototype.removeFavorite=function(t){return!!this.isFavorite(t)&&(this._favs.splice(this._favs.indexOf(t),1),this.save(),!0)},p.Idea=function(t){var e=new p.IdeaViewRenderer;this.$view=e.render(t),this.$view.data("id",t.id),this.$view.data("imageUrl",t.image_url),this.$view.data("publishedChartUrl",t.published_chart_url)},p.Idea.prototype.jqueryObject=function(){return this.$view},p.Idea.prototype.getName=function(){return this.$view.find(".name").text()},p.Idea.prototype.getImageUrl=function(){return this.$view.data("imageUrl")},p.Idea.prototype.getId=function(){return this.$view.data("id")},p.Idea.prototype.getPublishedChartUrl=function(){return this.$view.data("publishedChartUrl")},p.Idea.prototype.setFavorite=function(t){this.$view.find(".favorite").toggleClass("active",t).html(i(t?"HHbT":"GWvR"))},p.Idea.prototype.onClick=function(t){
this.$view.on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},p.Idea.prototype.onDelete=function(t){this.$view.find(".delete").on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},p.Idea.prototype.onFavorite=function(t){this.$view.find(".favorite").on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},p.IdeaViewRenderer=function(){},p.IdeaViewRenderer.prototype.render=function(t){var s={date:e.unix(t.date_timestamp).format("lll"),name:t.name,desc:t.desc,interval:t.interval,symbolStr:t.short_symbol+", "+$.t(t.interval),imageUrl:t.image_small,is_public:t.is_public,is_video:t.is_video,likes:t.likes,comments:t.comments,views:t.views},o=$(n.render('<div class="tv-notes-widget__note-block"><div class="header">{{^is_public}}<div class="private-icon">'+i("eKOu")+'</div>{{/is_public}}<div class="date">{{date}}</div><div class="separator"></div><div class="symbol">{{symbolStr}}</div><div class="separator"></div><div class="favorite"></div></div>{{^is_public}}<span class="delete">'+i("uo4K")+'</span>{{/is_public}}<div class="name">{{name}}</div><div class="desc">{{desc}}</div><div class="container clearfix"><img class="preview" src="{{imageUrl}}">{{#is_video}}<div class="tv-idea-preview-button__play-icon">'+i("IRk6")+'</div>{{/is_video}}{{#is_public}}<div class="stats"><div class="likes"><span>{{likes}}</span></div><div class="comments"><span>{{comments}}</span></div><div class="views"><span>{{views}}</span></div></div>{{/is_public}}</div></div>',s));return o.find(".likes").prepend($(i("yr01")).attr({width:12,height:12})),o.find(".comments").prepend($(i("g996")).attr({width:12,height:12})),o.find(".views").prepend($(i("H+PN")).attr({width:12,height:12})),o},p.ListView=function(t){this.$list=t,this.showEmptyLabel()},p.ListView.prototype.empty=function(){this.$list.empty(),this.showEmptyLabel()},p.ListView.prototype.loading=function(t){if(this._spinner||(this._spinner=new h("mini")),t){var e=$('<div class="spinner-container"></div>');this._spinner.spin(e.get(0)),this.$list.append(e)}else this._spinner.stop(),this.$list.find(".spinner-container").remove();this.showEmptyLabel()},p.ListView.prototype.showEmptyLabel=function(){if(is_authenticated)if(0===this.$list.children().length){var t=$('<div class="no-ideas">'+$.t("No ideas matched your criteria")+"</div>");this.$list.append(t)}else this.$list.find(".no-ideas").remove();else(t=$('<div class="ch-item-empty">'+$.t("No ideas.")+" <br/>"+$.t("If you want to use this service - please __signInLink__!",{signInLink:'<a href="#signin">'+$.t("sign in or register")+"</a>"})+"</div>")).find("a").on("click",(function(){return runOrSignIn((function(){}),{source:"My ideas widget placeholder",sourceMeta:"Chart"}),!1})),this.$list.append(t)},p.ListView.prototype.prepend=function(t){this.$list.prepend(t.jqueryObject()),this.showEmptyLabel()},p.ListView.prototype.add=function(t){this.$list.append(t.jqueryObject()),this.showEmptyLabel()},p.ListView.prototype.remove=function(t){
v(this.$list.children(),"id",t.getId()).remove(),this.showEmptyLabel()},p.ListView.prototype.find=function(t){return v(this.$list.children(),"id",t)},_.prototype.getMenu=function(t){var e=[];return e.push({title:$.t("Favorite Ideas"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_ONLY_FAVORITE_IDEAS)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_ONLY_FAVORITE_IDEAS)}.bind(this)}),e.push({title:$.t("Only Private Ideas"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_ONLY_PRIVATE_IDEAS)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_ONLY_PRIVATE_IDEAS)}.bind(this)}),t&&(e.push({title:$.t("Ideas for the Current Symbol Only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL)}.bind(this)}),e.push({title:$.t("Ideas for the Current Resolution Only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION)}.bind(this)})),e},t.exports=p}).call(this,i("ldgD"),i("nbsC"))},NWKS:function(t){t.exports=JSON.parse('{"color-toolbar-button-text-active":"color-seeking-alpha-brand"}')},Opoj:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17"><path fill="none" stroke="currentColor" d="M1 1l15 15M1 16L16 1"/></svg>'},"P+Z2":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45" width="45" height="45" fill="none"><path fill="currentcolor" fill-rule="evenodd" clip-rule="evenodd" d="M14.25 23.02a8.76 8.76 0 0 1 3.6-7.09l-.51-.87a9.76 9.76 0 0 0-.05 15.88l.5-.88a8.76 8.76 0 0 1-3.54-7.04zm17.5 0c0 2.89-1.39 5.45-3.54 7.04l.5.87a9.76 9.76 0 0 0-.05-15.87l-.5.87a8.76 8.76 0 0 1 3.6 7.09zM9 23.02c0 4.83 2.44 9.1 6.16 11.61l-.5.87a15.01 15.01 0 0 1 .05-25l.5.87A14.01 14.01 0 0 0 9 23.02zm21.84 11.61l.5.87a15.01 15.01 0 0 0-.05-25l-.5.87a14.01 14.01 0 0 1 .05 23.26zm-9.2-8.03l5.6-3.23a1 1 0 0 0 0-1.74l-5.6-3.23a1 1 0 0 0-1.5.87v6.46a1 1 0 0 0 1.5.87zm-.5-7.33l5.6 3.23-5.6 3.23v-6.46z"/></svg>'},PW1O:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m17 30a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2m6 5a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m10 5a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2"/></svg>'},PiG3:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m27 31.5a2.5 2.5 0 0 1-2.5 2.5h-6a2.5 2.5 0 0 1-2.5-2.5v-3.74c-2.41-1.74-4-5.04-4-8.26a9.5 9.5 0 0 1 19 0c0 3.21-1.6 6.52-4 8.26v3.74zM18.5 33h6a1.5 1.5 0 0 0 1.5-1.5v-4.27l.22-.14c2.25-1.51 3.78-4.6 3.78-7.59a8.5 8.5 0 1 0-17 0c0 3 1.53 6.08 3.78 7.58l.22.15v4.27a1.5 1.5 0 0 0 1.5 1.5zm-2-5v-1h10v1zm0 3v-1h10v1zm2.5 2.5h1v1a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1h1v1a1.5 1.5 0 0 1-1.5 1.5h-2a1.5 1.5 0 0 1-1.5-1.5v-1zm3-5.5h-1v-8h1zm-3-7v-1h5v1z"/></svg>'},Py6I:function(t,e,i){},R1a7:function(t,e,i){"use strict";function n(t){return i.e("notification-tools").then(i.bind(null,"6USG")).then(e=>new e.StreamNotificationTools(t))}i.d(e,"a",(function(){return n}))},R5LG:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n="light"},"RMt/":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 17" width="24" height="17"><g fill-rule="evenodd"><path d="M1.826 16.913l4.088-6c.85-1.244 2.036-1.25 2.896-.018l2.718 3.897c1.698 2.436 4.46 2.235 5.79-.425l6.457-12.92-1.79-.894-6.456 12.92c-.65 1.302-1.53 1.366-2.365.175L10.45 9.75c-1.66-2.38-4.55-2.365-6.188.037l-4.088 6 1.652 1.126zM7 .7v6.1h1V.2H7v.5z"/><path d="M7.146.346l-2.8 2.8-.353.354.707.707.354-.353 2.8-2.8L8.207.7 7.5-.007l-.354.353z"/><path d="M7.146 1.054l2.8 2.8.354.353.707-.707-.353-.354-2.8-2.8L7.5-.007 6.793.7l.353.354z"/></g></svg>'},RwqP:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}));const n="###";function s(t){return t.startsWith(n)}},Sfnf:function(t,e,i){"use strict";i.r(e),function(t,n){i.d(e,"ReutersCalendarWidget",(function(){return f}));i("YFKU"),i("TdlR"),i("+h5r"),i("b6p+"),i("1oAu");var s=i("c2JX"),o=i("sFgq"),r=i("dlie"),a=i("0h28"),l=i.n(a),c=i("X19y"),d=i("e9uC"),h=i("6Qm0");const u=i("txPx").getLogger("ReutersCalendar"),g=i("wy57"),p=i("Hpvy"),m=i("R4+T"),v=i("yLMQ"),_=(t,e,i,n)=>null==t?"":(e&&(t+=e),i&&i!==n&&("%"===i?t+=i:"USD"===i?t="$"+t:t+=" "+i),t);class f{constructor(e){this._bridge=e,this._bridge.options=e.options||{},this._$container=e.$body,this._chartEvents=new l.a,this._dateBlocks=[],this._templates=this._createTemplates(),this._collapsedDateBlocksDict={},this.onLayoutUpdated=new t,this._init()}_init(){this._addUtmInfoToHeader(),this._updateFilter(!0),this._refDate=new Date,this._$container.addClass("tv-reuters-calendar").empty(),this._$container.on("contextmenu",t=>t.preventDefault());const{isTransparent:t,hideImportanceIndicator:e,noScroll:i,showHeaderIcons:s,showGetWidgetBtn:o}=this._bridge.options;e&&this._$container.addClass("tv-reuters-calendar--hide-importance-indicator"),t&&this._$container.addClass("tv-reuters-calendar--transparent");const r=$(n.render(this._templates.calendarContent,{showHeaderIcons:s,showGetWidgetBtn:o}));r.appendTo(this._$container),this._$header=r.filter(".js-calendar-header"),this._$widget=r.filter(".js-calendar-widget"),this._$data=r.find(".js-calendar-data"),i||this.initScroll(),
this._bridge.width.subscribe(this.resize.bind(this)),this._bridge.height.subscribe(this.resize.bind(this)),this.resize(),this._initialRequest(),this._chartEvents.changed.subscribe(null,t=>{this._pendingRequestPromise||this._updateLayout(t)}),this._createHeaderButtons()}_initialRequest(){var t=this;let e;if(this.currencyFilterState.length){if(this._bridge.options.rewind&&null==this._bridge.options.maxHistoryInHours)return u.logError("cannot rewind events history: maxHistoryInHours is not set"),Promise.reject();this._historyEnd=!1,e=new Promise((function(e,i){!function n(s){var o=t._chartEvents.items();s?e({added:o}):t._chartEvents.requestMore().done(n).fail((function(t){i(t)}))}(null)}))}else this._historyEnd=!0,e=Promise.resolve({noResults:!0});t._pendingRequestPromise=e,e.catch((function(){return null})).then((function(i){t._pendingRequestPromise===e&&(t._pendingRequestPromise=void 0,i&&(t._updateLayout(i),t._scrollToUpcoming()||t._scroll&&t._scroll.scrollToEnd()))}));var i=new s.Spinner("mini").spin(t._$container.get(0));return e.catch((function(){})).then((function(){i.stop()})),e}_onSettingsChanged(){this._updateFilter(!1),this._$data.empty(),this._dateBlocks.length=0,this._initialRequest(),this._scroll&&this._scroll.resize()}_updateFilter(t){var e=this.currencyFilterState,i=this.importanceFilterState;if(t){let t=!1;e.length||(e=Object(h.a)(window.locale),t=!0),i=-1!==this.importanceFilterState.indexOf(-1)?r.a.false:r.a.true,t=t||JSON.stringify(this.importanceFilterState)!==JSON.stringify(i),t&&this._bridge.properties.setValue({currencyFilter:e,importanceFilter:i})}const n=i[0];var s={minImportance:n,currencyFilter:this.currencyFilterState,to:Date.now()+12096e5};"number"==typeof this._bridge.options.maxHistoryInHours&&(s.historyLimit=s.from=Date.now()-36e5*this._bridge.options.maxHistoryInHours),this._bridge.options.maxItems>0&&(s.maxItems=this._bridge.options.maxItems),this._chartEvents.reset(s),this._minImportance=n}_getProperty(t){return(this._bridge.properties.value()||{})[t]}get importanceFilterState(){return[].concat(this._getProperty("importanceFilter")||[])}get currencyFilterState(){return[].concat(this._getProperty("currencyFilter")||[])}_addUtmInfoToHeader(){this._bridge.options.utmInfo&&$(".js-embed-widget-head a").prop("search",$.param(this._bridge.options.utmInfo))}_createHeaderButtons(){const t=t=>t===this._bridge.options.widgetType;t("widgetbar")&&$(n.render(this._templates.closestEventButton,{})).appendTo(this._bridge.$headerspace).addClass("apply-common-tooltip").attr("title",window.t("Closest Event")).on("click",t=>{t.preventDefault(),this._scrollToUpcoming(),this._highlightUpcoming()});if(this._bridge.readonly)return;let e;var i,s;e=t("widgetbar")?this._templates.importanceSwitcher_widgetbar:t("full_page")?this._templates.importanceSwitcher_page:this._templates.importanceSwitcher_widget,t("external_widget")||t("full_page")?(this._importanceSwitcher=this._$header.find(".js-embed-widget-calendar-importance"),
this._importanceSwitcher.removeClass("i-hidden")):(this._importanceSwitcher=$(n.render(e,{})),this._importanceSwitcher.appendTo(this._bridge.$headerspace)),this._importanceSwitcher.toggleClass("i-active active",this.importanceFilterState.toString()===r.a.true.toString()).addClass("apply-common-tooltip").attr("title",window.t("Only High Importance")).on("click",()=>{const t=this.importanceFilterState.toString()===r.a.true.toString();this._importanceSwitcher.toggleClass("i-active active",!t),t?this.saveFilter("importanceFilter",r.a.false):this.saveFilter("importanceFilter",r.a.true)}),t("widgetbar")?(s="fixed",i=this._templates.configButton_widgetbar):i=t("full_page")?this._templates.configButton_page:this._templates.configButton_widget,t("external_widget")||t("full_page")?(this._$configButton=this._$header.find(".js-embed-widget-calendar-config"),this._$configButton.removeClass("i-hidden")):(this._$configButton=$(n.render(i,{})),this._$configButton.appendTo(this._bridge.$headerspace)),this._$configButton.addClass("apply-common-tooltip").attr("title",window.t("Filter")).on("click",t=>{t.preventDefault(),this._popup?this._closeConfigPopup():this._createConfigPopup(s||"absolute")})}_createConfigPopup(t){if(this._popup)return;const e=this.getAnchorPoint(t);var n={left:e.left,top:e.top,onCurrencyFilterChange:this.saveFilter.bind(this,"currencyFilter"),chartEventsInstance:this._chartEvents,positioning:t,state:{currencyFilter:this.currencyFilterState},defaultCurrencyFilterState:this._bridge.options.defaultCurrencyFilterState||Object(h.a)(window.locale)};Promise.all([i.e(219),i.e(518),i.e(203),i.e("calendar-widget-config")]).then(i.bind(null,"2o32")).then(({CalendarConfig:t})=>{this._popup||(this._popup=new t(n),this._$configButton.addClass("active i-active"),this._$configButton.toggleClass("i-active",!0),$(this._popup.el).on("mousedownoutside",function(t){$(t.target).parents().andSelf().is(this._$configButton)||this._closeConfigPopup()}.bind(this)))})}_closeConfigPopup(){this._popup&&(this._popup.destroy(),this._popup=null,this._$configButton.removeClass("active"),this._$configButton.toggleClass("i-active",!1))}saveFilter(t,e){if(Array.isArray(e)){var i=Object.assign({},this._bridge.properties.value());0===e.length?delete i[t]:i[t]=e,this._bridge.properties.setValue(i),setTimeout(()=>this._onSettingsChanged(),0)}else u.logError("Wow! {0} state you've tried to set isn't an array for some reason".format(t))}getAnchorPoint(t){var e,i=0,n=this._$configButton.offset();return n.width=this._$configButton.outerWidth(),n.height=this._$configButton.outerHeight(),this._$configButton.parents().each((function(){var t=$(this);n.left-=t.scrollLeft()||0,n.top-=t.scrollTop()||0})),i=n.top+n.height+1,e=n.left+n.width,"fixed"!==t&&(i+=$(document).scrollTop()),{left:e,top:i}}initScroll(){if(!this._scroll){var t=this;this._$data.addClass("tv-reuters-calendar__dcnt--scroll-inited"),this._scroll=new o.SidebarCustomScroll(this._$widget,this._$data,{vAlignBottom:!0,showBottomShadow:!1,bubbleScrollEvent:function(){
return!!t._scroll&&(!!t._scroll.atEnd()||t._historyEnd&&t._scroll.atStart())}}),this._initInfiniteScroll()}}destroyScroll(){this._$data.removeClass("tv-reuters-calendar__dcnt--scroll-inited"),this._scroll&&(this._scroll.destroy(),delete this._scroll,this.resize())}updateScroll(){this._scroll&&(this._scroll.updateScrollBar(),this._scroll.atEnd()&&this._scroll.scrollToEnd(),this._scroll.updateScrollBar())}_scrollToUpcoming(){if(!this._scroll)return!1;var t=this._$data.find(".tv-reuters-calendar__item--upcoming").eq(0);if(!t.length)return!1;var e=t.closest(".tv-reuters-calendar__day-content").position().top+t.position().top;return this._scroll.scrollTo(e,{position:"top"}),this._scroll.atStart()&&this._scroll.scrollToEnd(),!0}scrollToLastVisibleItem(){if(this._scroll){var t,e=this._$widget.outerHeight();this._$data.children().each((function(){t||$(this).position().top+$(this).height()>e&&(t=$(this).position().top)})),this._scroll.animateTo(t-15)}}_initInfiniteScroll(){this._scroll.scrolltostart.subscribe(this,this._onScrollToStart),this._onScrollToStart()}_onScrollToStart(){var t=this;this._scroll&&this.currencyFilterState.length&&(t._historyLoading||t._historyEnd||t._bridge.visible.value()&&this._scroll.atStart()&&(t._historyLoading=!0,t._$data.addClass("tv-reuters-calendar__scnt--loading"),t._chartEvents.requestMore().always((function(e){t._historyLoading=!1,t._$data.removeClass("tv-reuters-calendar__scnt--loading")}))))}getScrollElements(){return{$scrollWrapper:this._$widget,$scrollInner:this._$data}}_updateHighlight(){this._updateHighlightTimeoutId&&(clearTimeout(this._updateHighlightTimeoutId),delete this._updateHighlightTimeoutId);var t,e=this._dateBlocks,i=+new Date;this._$data.find(".tv-reuters-calendar__item--future").removeClass("tv-reuters-calendar__item--future"),this._$data.find(".tv-reuters-calendar__item--upcoming").removeClass("tv-reuters-calendar__item--upcoming");var n=null;t:for(var s=e.length;s--;)for(var o=e[s].items,r=o.length;r--;){var a=(c=o[r]).$element;if(!(c.timestamp>i))break t;t=r,n=e[s],a.addClass("tv-reuters-calendar__item--future")}if(n){var l=n.items[t].timestamp;for(s=t;s<n.items.length;s++){var c;if((c=n.items[s]).timestamp!==l)break;c.$element.addClass("tv-reuters-calendar__item--upcoming")}this._updateHighlightTimeoutId=setTimeout(this._updateHighlight.bind(this),l-i)}}_highlightUpcoming(){this._$data.find(".tv-reuters-calendar__item--upcoming").highlight(4)}_markToday(){var t=new Date,e=this._localDateHash(t),i=new Date;i.setHours(0,0,0,0),i.setDate(i.getDate()+1),this._markTodayTimeoutId&&clearTimeout(this._markTodayTimeoutId),this._markTodayTimeoutId=setTimeout(this._markToday.bind(this),i-t);for(var n=null,s=this._dateBlocks.length;s-- >0;)if(this._dateBlocks[s].localDateHash===e){n=this._dateBlocks[s].$element;break}var o=this._$data.find(".tv-reuters-calendar__date-block--today");1===o.size()&&o.is(n)||(o.removeClass("tv-reuters-calendar__date-block--today"),n&&n.addClass("tv-reuters-calendar__date-block--today"))}resize(){var t,e=this._bridge.options.layout
;if((t="wide"===e||"narrow"!==e&&this._bridge.width.value()>500)!==this._$container.hasClass("tv-reuters-calendar--wide-layout")){var i=this._topmostVisibleItem();this._$container.toggleClass("tv-reuters-calendar--wide-layout",t),this._scroll&&i&&(this._scroll.resize(),this._scroll.scrollTo(i.$element.position().top+i.offsetDelta,{position:"top"}))}if(this._scroll){var n=Math.max(0,this._bridge.height.value()-this._$header.outerHeight());this._$widget.height(n),this._scroll.resize()}else this._$widget.attr("style","")}setLayout(t){this._bridge.options.layout!==t&&(this._bridge.options.layout=t,this.resize())}_addNoContentStub(){this._$noContentStub||(this._$noContentStub=$(this._templates.noContent));let t=window.t("There are no events in the next 7 days");this.currencyFilterState.length||(t=window.t("No country has been selected. Please select at least 1 country to view the events")),this._$noContentStub.text(t).insertBefore(this._$data),this._scroll&&this._scroll.updateScroll()}_updateLayout(t){t.noResults&&(this._historyEnd=!0),this._chartEvents.items().length?$(this._$noContentStub).detach():this._addNoContentStub();var e=t.added||[],i=t.changed||[];(e.length||i.length)&&(this._scroll&&this._scroll.save(),this._$data.css("display","none"),this._createItems(e),this._changeItems(i),this._updateHighlight(),this._markToday(),this._$data.css("display","block"),this._scroll&&(this._scroll.restore(),this._scroll.atEnd()&&this._scroll.scrollToEnd()),this.onLayoutUpdated.fire()),this._scroll&&this._onScrollToStart(!0)}_topmostVisibleItem(){if(!this._scroll)return null;var t=-this._scroll.currentPosition(),e=this._dateBlocks;if(!e.length)return null;var i=null;if(1===e.length)i=e[0];else if(t>=e[e.length-1].$element.position().top)i=e[e.length-1];else if(t<=0)i=e[0];else{for(var n=0,s=e.length-1;s-n>1;)t>=e[a=n+s>>1].$element.position().top?n=a:s=a;i=e[n]}var o=i.items,r=o[n=0].$element.position().top;if(t>r){var a;for(s=o.length-1;s-n>1;){var l=o[a=n+s>>1].$element.position().top;t>=l?(r=l,n=a):s=a}}return{$element:o[n].$element,offsetDelta:t-r}}_createDateBlock(t,e,i){var s=$(n.render(this._templates.dateBlock,{dateBlocks:[{localDateHash:t,collapsed:this._collapsedDateBlocksDict[t],localDateStr:e}]},this._templates)),o={localDateHash:t,items:[],$element:s,$contents:s.find(".js-expand__body.js-calendar-day")};s.tvExpand().tvExpand("setOpened",!this._collapsedDateBlocksDict[t]).on("beforeOpen",()=>{this._collapsedDateBlocksDict[t]=!0}).on("afterOpen",()=>{this.updateScroll()}).on("afterClose",()=>{delete this._collapsedDateBlocksDict[t],this.updateScroll()});var r=this._dateBlocks,a=r[i];return a?(r.splice(i,0,o),s.insertBefore(a.$element)):(r.push(o),s.appendTo(this._$data)),o}_localDateHash(t){return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}_createItems(t){if(!t.length)return;var e,i={},s={},o=this._dateBlocks.map(t=>t.localDateHash),r=this._dateBlocks[0]?this._dateBlocks[0].items[0]:void 0;const a=this._dateBlocks[this._dateBlocks.length-1]
;var l=a?a.items[a.items.length-1]:void 0;if(!r||t[0].timestamp>=l.timestamp)e="future";else{if(!(t[t.length-1].timestamp<=r.timestamp))return void u.logError("Don't know where to put events");e="past"}for(let n=t.length-1;n>=0;n--){const e=t[n];if(e.indicator=window.t(e.indicator),this._addDataToItem(e),-1!==o.indexOf(e.localDateHash)){var c=i[e.localDateHash];c?c.items.push(e):i[e.localDateHash]={items:[e]}}else s[e.localDateHash]?s[e.localDateHash].items.push(e):s[e.localDateHash]={localDateHash:e.localDateHash,localDateStr:e.localDateStr,items:[e]}}Object.keys(i).forEach(t=>{const s=o.indexOf(t),r=$(n.render(this._templates.items,{items:i[t].items},this._templates));"past"===e?r.prependTo(this._dateBlocks[s].$contents):r.appendTo(this._dateBlocks[s].$contents),i[t].items=i[t].items.map(t=>this._prependItemToStorage(t,this._dateBlocks[s].$contents)),this._dateBlocks[s].items="past"===e?i[t].items.concat(this._dateBlocks[s].items):this._dateBlocks[s].items.concat(i[t].items)});var d=[];Object.keys(s).sort().forEach(t=>{d.push(s[t])});var h=$(n.render(this._templates.dateBlock,{dateBlocks:d},this._templates));"past"===e?h.prependTo(this._$data):h.appendTo(this._$data),d.forEach(t=>{t.$element=this._$data.find(`[data-hash="${t.localDateHash}"]`),t.$contents=t.$element.find(".js-expand__body.js-calendar-day"),t.$element.tvExpand().tvExpand("setOpened",!this._collapsedDateBlocksDict[t.localDateHash]).on("beforeOpen",()=>{this._collapsedDateBlocksDict[t.localDateHash]=!0}).on("afterOpen",()=>{this.updateScroll()}).on("afterClose",()=>{delete this._collapsedDateBlocksDict[t.localDateHash],this.updateScroll()}),t.items=t.items.map(e=>this._prependItemToStorage(e,t.$contents))}),this._dateBlocks="past"===e?d.concat(this._dateBlocks):this._dateBlocks.concat(d)}_prependItemToStorage(t,e){return t.$element=e.find(`[data-item-id="${this._prepareItemId(t)}"]`),t.comment&&t.$element.tvExpand().on("beforeOpen",()=>{t.$element.addClass("tv-reuters-calendar__item--expanded"),setTimeout(()=>{this._scroll&&this._scroll.animateTo(t.$element.position().top+t.$element.parent().position().top-4)},20)}).on("afterOpen",()=>this.updateScroll()).on("afterClose",()=>{t.$element.removeClass("tv-reuters-calendar__item--expanded"),this.updateScroll()}),{timestamp:t.timestamp,id:t.id,$element:t.$element}}get months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_addDataToItem(t){t.formattedActual=_(t.actual,t.scale,t.unit,t.currency),t.formattedForecast=_(t.forecast,t.scale,t.unit,t.currency),t.formattedPrevious=_(t.previous,t.scale,t.unit,t.currency);var e=new Date(t.timestamp),i="";if(e.getTimezoneOffset){var n=-e.getTimezoneOffset()/60;i="UTC",i+=n<0?n:"+"+n}t.localTimeStr=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2),t.localDateStr=window.t(this.months[e.getMonth()])+" "+e.getDate();var s=e.getFullYear(),o=t.localDateStr+", "+s;t.fullLocalDateTimeStr=o+" "+t.localTimeStr+" "+i,s!==this._refDate.getFullYear()&&(t.localDateStr=o),
t.localDateHash=this._localDateHash(e);var r="";t.importance>0?r="tv-reuters-calendar__importance-indicator--high":0===t.importance&&(r="tv-reuters-calendar__importance-indicator--normal"),t.importanceModifier=r,t.flagSrc=Object(c.b)(t.country&&t.country.toLowerCase())}_prepareItemId(t){return t.id.replace(/\n|\u21b5/g,"")}_changeItems(t){t.forEach(t=>{this._addDataToItem(t);var e=this._$data.find(`[data-item-id="${this._prepareItemId(t)}"]`);e.toggleClass("tv-reuters-calendar__item--expandable",!!t.comment),e.html(n.render(this._templates.itemContent,t)),e.tvExpand("delegateEvents")})}_createTemplates(){const t=$("<a>").html(m);t.find("svg").attr("class","tv-reuters-calendar__drop-arrow");const e=t.html();return{calendarContent:'<div class="tv-reuters-calendar__header js-calendar-header"><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--time js-calendar-header-time">'+window.t("Time")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--icons">{{#showHeaderIcons}}<span class="apply-common-tooltip tv-reuters-calendar__header-icon tv-reuters-calendar__importance-button js-embed-widget-calendar-importance i-hidden">'+v+'</span><span class="tv-reuters-calendar__header-icon tv-reuters-calendar__config-button js-embed-widget-calendar-config i-hidden">'+g+"</span>{{/showHeaderIcons}}{{#showGetWidgetBtn}}"+Object(d.a)("economic-calendar","tv-reuters-calendar__header-icon tv-reuters-calendar__get-widget-button")+'{{/showGetWidgetBtn}}</span><span class="tv-reuters-calendar__header-column-group tv-reuters-calendar__header-column-group"><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--actual">'+window.t("Actual")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--forecast">'+window.t("Forecast")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--prior">'+window.t("Prior")+'</span></span></div><div class="tv-reuters-calendar__scnt js-calendar-widget"><div class="tv-reuters-calendar__dcnt js-calendar-data"></div></div>',closestEventButton:'<a class="button widgetbar-icon-button">'+p+"</a>",configButton_widgetbar:'<a class="button widgetbar-icon-button">'+g+"</a>",configButton_widget:'<div class="tv-feed-widget__control-icon tv-feed-widget__control-icon--calendar-config">'+g+"</div>",configButton_page:'<div class="tv-feed-widget__calendar-filter-icon">'+g+"</div>",importanceSwitcher_widgetbar:'<a class="button widgetbar-icon-button">'+v+"</a>",importanceSwitcher_widget:'<div class="tv-feed-widget__control-icon tv-feed-widget__control-icon--importance-switcher">'+v+"</div>",importanceSwitcher_page:'<div class="tv-feed-widget__importance-switcher-icon">'+v+"</div>",
dateBlock:'{{#dateBlocks}}<div data-hash="{{ localDateHash }}" class="tv-reuters-calendar__date-block{{#collapsed}} i-hidden{{/collapsed}}"><div data-type="day" class="tv-reuters-calendar__day js-expand__title">{{ localDateStr }}</div><div class="tv-reuters-calendar__day-content js-expand__body js-calendar-day">{{>items}}</div></div>{{/dateBlocks}}',items:'{{#items}}<div class="tv-reuters-calendar__item{{#comment}} tv-reuters-calendar__item--expandable{{/comment}}"{{#id}} data-item-id="{{ id }}{{/id}}">{{>itemContent}}</div>{{/items}}',itemContent:'<div class="tv-reuters-calendar__heading-block {{#comment}}tv-reuters-calendar__heading-block--expandable js-expand__title{{/comment}}" data-type="event"><div class="tv-reuters-calendar__time-block"><span class="tv-reuters-calendar__time"><span class="tv-reuters-calendar__timebadge apply-common-tooltip" title="{{ fullLocalDateTimeStr }}">{{ localTimeStr }}</span></span><img class="tv-reuters-calendar__flag" src="{{flagSrc}}">'+(this._bridge.options.hideImportanceIndicator?"":'<span class="tv-reuters-calendar__importance-indicator {{&importanceModifier}}"></span>')+'</div><span class="tv-reuters-calendar__value-group {{^actual}}tv-reuters-calendar__value-group--no-actual{{/actual}}"><span class="tv-reuters-calendar__value tv-reuters-calendar__value--actual">{{ formattedActual }}</span><span class="tv-reuters-calendar__value">{{ formattedForecast }}</span><span class="tv-reuters-calendar__value">{{ formattedPrevious }}</span></span><div class="tv-reuters-calendar__heading"><span class="tv-reuters-calendar__heading-title apply-common-tooltip" title="{{ indicator }}">{{ indicator }}</span>{{#comment}}'+e+'{{/comment}}</div></div>{{#comment}}<div class="tv-reuters-calendar__comment js-expand__body js-calendar-comment i-hidden">{{ comment }}</div>{{/comment}}',noContent:'<div class="tv-widget-empty-message"></div>'}}}}.call(this,i("aIyQ"),i("nbsC"))},SoRE:function(t,e,i){},TZqb:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m28.5 16.92l.14-.8.65.47a9.8 9.8 0 0 1 1.87 2A10.12 10.12 0 0 1 33 24.5C33 30.28 28.28 35 22.5 35S12 30.28 12 24.5c0-4.4 1.71-6.67 6.46-10.3l.49-.36a30 30 0 0 0 3.2-2.7l.4-.39.34.44a12.57 12.57 0 0 1 1.05 1.64 7.95 7.95 0 0 1 .93 5.5 28.56 28.56 0 0 1-.71 3.64c2.46-.27 3.85-2.04 4.35-5.05zm-8.95-2.29l-.48.37C14.55 18.45 13 20.5 13 24.5c0 5.22 4.28 9.5 9.5 9.5s9.5-4.28 9.5-9.5c0-2.08-.62-3.86-1.66-5.34a8.91 8.91 0 0 0-1.02-1.22C28.55 21.13 26.66 23 23.5 23h-.66l.18-.64a35.38 35.38 0 0 0 .49-2.02c.16-.74.28-1.46.37-2.14a7 7 0 0 0-.82-4.9c-.2-.38-.41-.72-.63-1.04-.74.7-1.55 1.36-2.88 2.37z"/></svg>'},Twao:function(t,e,i){"use strict";var n=i("YFKU"),s=i("xlbu"),o=i("wVAQ"),r=i("24R9"),a=i("txPx");function l(t){return Promise.all([i.e("vendors"),i.e(1),i.e(2),i.e(16),i.e(25),i.e(104),i.e(169),i.e(174),i.e(205),i.e(487),i.e(186),i.e("news-description-dialog-impl")]).then(i.bind(null,"b+lp")).then(e=>e.openNewsDescriptionDialogImpl(t))}var c=i("4kQX"),d=i("e1ZQ");function h(t){
const e=new Date(t),i=new c.TimeFormatter("%h:%m"),n=d.dateFormatFunctions["MMM dd"](e,!0);return[i.formatLocal(e),n]}var u=i("JHPQ");function g(t,e){const{title:i,shortDescription:n,link:s,source:o,published:r}=t,{isLinkBlock:a,withHover:l,showExternalLink:c}=e,d=document.createElement("div");d.classList.add(u["news-item__title"]),d.textContent=i,d.classList.toggle(u["news-item__title--external-link"],c);const g=document.createElement("div");g.classList.add(u["news-item__header"]),g.textContent=[...h(r),o].join("  ");const p=document.createElement(a?"a":"div");if(p.classList.add(u["news-item"]),p.classList.toggle(u["news-item--no-hover"],!l),a&&s&&(p.href=s,p.target="_blank",p.rel=c?"noopener nofollow":"noopener"),p.appendChild(g),p.appendChild(d),n){const t=document.createElement("div");t.classList.add(u["news-item__description"]),t.textContent=n||"",p.appendChild(t)}return p}const p={bond:"bond",cfd:"cfd",crypto:"crypto",dr:"stock",forex:"forex",fund:"stock",futures:"futures",index:"index",right:"stock",stock:"stock",structured:"stock",warrant:"stock"};function m(t,e){if(e&&0!==e.length){if(e.includes("crypto"))return"crypto";if(e.includes("bond"))return"bond"}return function(t){return t in p}(t)?p[t]:"base"}var v=i("wyNs"),_=i("dp/D");const f="urn:newsml:".length;function w(t,e){return function(t){return t.startsWith("urn:newsml:mtnewswires.com")}(t)?function(t,e){return`/news/${t.slice(f)}-${function(t){return t.toLowerCase().trim().replace(/[\W_]+/g,"-").replace(/-+/,"-").replace(/^-/,"").replace(/-$/,"")}(e)}/`}(t,e):void 0}var b=i("952j");function y(t){return window.is_authenticated?t.shortDescription:S(t)?void 0:t.shortDescription}function C(t){return window.is_authenticated?t.astDescription:S(t)?void 0:function(t){return Boolean(t.permission&&"preview"===t.permission)}(t)?t.shortDescription:t.astDescription}function S(t){return Boolean(t.permission&&"headline"===t.permission)}function T(t){const e=w(t.id,t.title),i=Object.assign(Object.assign({},t),{link:t.link||e});return g(i,function(t){return{isLinkBlock:Boolean(t.link),withHover:Boolean(t.astDescription||t.link),showExternalLink:Boolean(t.link&&!t.astDescription)}}(i))}var P=i("IJjo"),B=i("whzu");i.d(e,"a",(function(){return O}));const $=Object(a.getLogger)("NewsProvider"),x=Object(n.t)("Headlines");class O extends class{timeout(){return 3e5}getNews(t){return this._fetch(t)}renderItem(t){return g(t,function(t){return{isLinkBlock:Boolean(t.link),withHover:Boolean(t.link),showExternalLink:Boolean(t.link)}}(t))}addClickHandlers(t,e){t.fullDescription&&e.addEventListener("click",e=>{e.preventDefault(),this.showPopup(t)})}showPopup(t){const e=t.fullDescription;e&&l({title:t.title,description:e,source:t.source,published:t.published})}}{constructor(){super(...arguments),this._baseUrl=window.NEWS_SERVICE_URL+"/headlines/?"}title(){return x}getNews(t){if("spread"===t.type){const e=Object(b.b)(t.pro_name).filter(t=>"symbol"===t.type).map(t=>t.value);return this._fetch(Object.assign(Object.assign({},t),{pro_name:e[0]}))}return this._fetch(t)}renderItem(t){
return T(t)}addClickHandlers(t,e){t.astDescription?e.addEventListener("click",e=>{e.preventDefault(),this.showPopup(t)}):t.link&&e.addEventListener("click",()=>{Object(P.a)({category:t.category,country:t.country,language:t.locale,news_id:e.pathname,provider:e.hostname,symbol:t.proSymbol})})}showPopup(t){const{astDescription:e}=t;if(!e)return;Object(P.a)({category:t.category,country:t.country,language:t.locale,news_id:null,provider:t.source,symbol:t.proSymbol});const i=w(t.id,t.title),n=()=>l(Object.assign(Object.assign({},t),{storyPage:i}));if(window.is_authenticated||!("permission"in t))n();else{const e=C(t),o=void 0!==(s=e)&&"string"==typeof s?e:void 0,r=function(t){return void 0!==t&&"string"!=typeof t}(e)?e:void 0;l(Object.assign(Object.assign({},t),{description:o,astDescription:r,storyPage:r&&i,onShowDescriptionClick:n}))}var s}needAppendSymbolToTitle(){return"ja"!==window.locale}async _fetch(t){try{const e=function(t){return{proSymbol:t.pro_name||null,locale:t.locale||window.locale,category:m(t.type,t.typespecs),country:t.country||Object(v.b)(window.locale),lang:t.lang||Object(_.a)(window.language),client:"web"}}(t),i=this._getURL(e),n=Date.now(),r=await Object(o.fetch)(i),a=Date.now()-n;if(s.telemetry.sendReport("news","api_time_frame",{value:a}),s.telemetry.sendReport("news","api_http_status",{value:r.status}),!r.ok){const t=await r.text();throw Error(`Error while fetch ${r.url}. Response status ${r.status} ${r.statusText}. Response text: '${t}'`)}return(await r.json()).map(t=>Object.assign(Object.assign(Object.assign({},Object(B.a)(t)),{shortDescription:y(t)}),e))}catch(e){throw $.logError(e.message),e}}_getURL(t){return this._baseUrl+Object(r.createUrlParams)(t)}}},"Ui/w":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45" width="45" height="45" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M11.5 11c-.83 0-1.5.67-1.5 1.5v19a2.5 2.5 0 0 0 2.5 2.5H33.5c.59 0 1.06-.15 1.43-.4.37-.24.61-.57.77-.88a2.96 2.96 0 0 0 .3-1.18v-.04h-.5.5v-11c0-.83-.67-1.5-1.5-1.5H32v-6.5c0-.83-.67-1.5-1.5-1.5h-19zM32 20V31.55a1.97 1.97 0 0 0 .2.73c.1.19.23.36.42.5.2.12.47.22.88.22.41 0 .69-.1.88-.23.2-.13.33-.3.42-.5a1.96 1.96 0 0 0 .2-.76V20.5a.5.5 0 0 0-.5-.5H32zm-.7 12.72l.16.28H12.5a1.5 1.5 0 0 1-1.5-1.5v-19c0-.28.22-.5.5-.5h19c.28 0 .5.22.5.5v19h.5-.5v.04a2.08 2.08 0 0 0 .04.35c.03.22.1.53.26.83zM15.5 15c-.83 0-1.5.67-1.5 1.5v3c0 .83.67 1.5 1.5 1.5h3c.83 0 1.5-.67 1.5-1.5v-3c0-.83-.67-1.5-1.5-1.5h-3zm-.5 1.5c0-.28.22-.5.5-.5h3c.28 0 .5.22.5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3zM28 24H14v-1h14v1zm-6-8h6v-1h-6v1zm6 3h-6v-1h6v1zm-14 8h14v-1H14v1zm7 3h-7v-1h7v1z"/></svg>'},VZBT:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return d}));var n=i("mrSG"),s=i("q1tI"),o=i("TSYQ"),r=i("C1zv"),a=i("IhIr"),l=i("bbtx");i("cj3V");function c(t){const{name:e,size:i,className:o,title:r}=t,c=Object(n.d)(t,["name","size","className","title"]);return s.createElement(a.Badge,Object.assign({className:d(e,i,o),
title:Object(l.isBadgeBrokerWithTitle)(e)?r:void 0,size:i},c))}function d(t,e=a.Size.Medium,i){return o("tv-badge-broker",t===r.a.BrokerExtraFeatured&&["tv-badge-broker__featured","tv-badge-broker__featured--"+e],t===r.a.BrokerPlatinum&&["tv-badge-broker__platinum","tv-badge-broker__platinum--"+e],t===r.a.BrokerGold&&["tv-badge-broker__gold","tv-badge-broker__gold--"+e],t===r.a.BrokerSilver&&["tv-badge-broker__silver","tv-badge-broker__silver--"+e],i)}},Vike:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10" width="20" height="10"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M2 1l8 8 8-8"/></svg>'},WoKq:function(t,e,i){},Wz44:function(t,e,i){t.exports={container:"container-3CL4Geq2",mirror:"mirror-3CL4Geq2",background:"background-3CL4Geq2",arrow:"arrow-3CL4Geq2"}},X19y:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return o}));var n=i("eF8V");function s(t){return Object(n.a)(t)}function o(t){return`<img alt="${t}" src="${s(t)}" class="tv-flag-country tv-flag-country--${t}">`}},XUKQ:function(t,e,i){"use strict";i.r(e),i.d(e,"StreamsTabButton",(function(){return r})),i.d(e,"StreamNotification",(function(){return a}));var n=i("q1tI"),s=i("1WwW"),o=i("vvCS");function r(t){return n.createElement(s.a,Object.assign({},t,{NotificationComponent:a}))}function a(t){const{count:e}=t;return e&&e>0?n.createElement("span",{className:o.counter}):null}},YJLw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){let e,i=0;if(0===t.length)return i;for(var n=0;n<t.length;n++)e=t.charCodeAt(n),i=(i<<5)-i+e,i&=i;return i},t.exports=e.default},YvYu:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45" width="45" height="45"><path fill="currentcolor" d="M16.5 21.5l8.146 8.146a.914.914 0 0 1-1.292 1.293L16.5 24.086l-6.854 6.853a.914.914 0 0 1-1.292-1.293L16.5 21.5zm0 4l6.146 6.146a1.914 1.914 0 0 0 2.708-2.707L16.5 20.086l-8.854 8.853a1.914 1.914 0 1 0 2.708 2.707L16.5 25.5zm13 0l8.146-8.146a.914.914 0 0 0-1.292-1.293L29.5 22.914l-6.854-6.853a.914.914 0 0 0-1.292 1.293L29.5 25.5zm0-4l6.146-6.146a1.914 1.914 0 0 1 2.708 2.707L29.5 26.914l-8.854-8.853a1.914 1.914 0 1 1 2.708-2.707L29.5 21.5z"/></svg>'},Yznx:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m14.5 10a4.5 4.5 0 0 0-4.5 4.5v17.2l4.7-4.7h10.8a4.5 4.5 0 0 0 4.5-4.5v-8a4.5 4.5 0 0 0-4.5-4.5zm0 1h11a3.5 3.5 0 0 1 3.5 3.5v8a3.5 3.5 0 0 1-3.5 3.5H14.3L11 29.3V14.5a3.5 3.5 0 0 1 3.5-3.5zm15 5v1h1a2.5 2.5 0 0 1 2.5 2.5v12.8L29.7 29h-8.2a2.5 2.5 0 0 1-2.5-2.5h-1a3.5 3.5 0 0 0 3.5 3.5h7.8l4.7 4.7V19.5a3.5 3.5 0 0 0-3.5-3.5z"/></svg>'},"Z+Vr":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n="watchlist-widget"},"aE/C":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M22.308 8.606a.5.5 0 0 0-.616 0l-11.5 9a.5.5 0 0 0 0 .788l11.5 9a.5.5 0 0 0 .616 0l11.5-9a.5.5 0 0 0 0-.788l-11.5-9zM22 26.366L11.311 18 22 9.635 32.689 18 22 26.365zm0 4l-11.192-8.76-.616.788 11.5 9a.5.5 0 0 0 .616 0l11.5-9-.616-.788L22 30.366zm0 4l-11.192-8.76-.616.788 11.5 9a.5.5 0 0 0 .616 0l11.5-9-.616-.788L22 34.366z"/></svg>'},aLUT:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11px" height="9px"><path fill="none" fill-rule="evenodd" stroke-width="2" d="M1 3.22l3.415 3.496L10 1"/></svg>'},ai7J:function(t,e,i){t.exports={separator:"separator-3YbwEKtL"}},at9Y:function(t,e,i){},bC7V:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" width="25" height="25"><path d="M15 15v10l-2-2h10l-2 2v-10l2 2h-10l2-2zm-2 0h10v10h-10v-10zm-13 8h10l-2 2v-10l2 2h-10l2-2v10l-2-2zm0 2v-10h10v10h-10zm2-23v10l-2-2h10l-2 2v-10l2 2h-10l2-2zm-2 0h10v10h-10v-10zm19.414-.657l-7.071 7.071v-2.828l7.071 7.071h-2.828l7.071-7.071v2.828l-7.071-7.071h2.828zm-1.414-1.414l7.071 7.071-7.071 7.071-7.071-7.071 7.071-7.071z"/></svg>'},bMzf:function(t,e,i){"use strict";function n(t,e=window){const i="theme-"+t,n=e.document.documentElement.classList;for(const s of Array.from(n))s.startsWith("theme-")&&s!==i&&n.remove(s);n.add(i)}i.r(e),i.d(e,"applyTheme",(function(){return n}))},bZvF:function(t,e,i){},bbtx:function(t,e,i){"use strict";i.r(e),i.d(e,"isBadgeBroker",(function(){return o})),i.d(e,"isFeaturedBroker",(function(){return r})),i.d(e,"isBadgeBrokerWithLink",(function(){return l})),i.d(e,"isBadgeBrokerWithTitle",(function(){return d}));var n=i("C1zv");const s=new Set(Object.values(n.a));function o(t){return s.has(t)}function r(t){return t===n.a.BrokerExtraFeatured}const a=new Set([n.a.BrokerPlatinum,n.a.BrokerGold,n.a.BrokerSilver]);function l(t){return a.has(t)}const c=new Set([n.a.BrokerPlatinum,n.a.BrokerGold,n.a.BrokerSilver]);function d(t){return c.has(t)}},cj3V:function(t,e,i){},clWw:function(t,e,i){"use strict";(function(e,n){i("TdlR"),i("bZvF"),i("AlSh"),i("xNaP");var s=i("9tJu"),o=s.getUserProfilePath,r=s.ProfilePages,a=i("hp/T"),l=i("TxTq"),c=i("sFgq").SidebarCustomScroll,d=i("L7u7").pushChartPage,h=i("bR4N").bindPopupMenu,u=i("PQvG"),g=i("OqB+").ChatLikesHandler,p=i("VPmY"),m=i("c2JX").Spinner,v=i("qjxE"),_=i("FBuY").TVXWindowEvents,f=i("eYFQ").getSymbolPagePath,w=i("0gOL").template,b=i("hPwr").PublishedChartsFilter,y=i("IhIr").Size,C=i("6RdN").renderBadgeAccountWithoutFeaturedBroker,S=i("EhHS").getBadgeAccountTitle,T=i("HKz3").getBadgeAccountLink,P=i("e1ZQ").dateFormatFunctions,B=i("2uTr").appendEllipsis,x=i("7+KO"),O=i("M1lL"),k=0,E=1,M=2,I=3,D={};D[b.None]=0,D[b.Following]=1,D[b.Private]=2;function L(t){this._bridge=t;var i=(t.options||{}).type;if("following"!==i&&"user"!==i)throw new Error("NotificationsWidgets: invalid widget type");this._widgetType=i,this._pushStreamChannel="notification:"+i,
this._xEventsChannel="notifications-read:"+i,this._markNotificationsSettingsKey="notifications-mark:"+i,this._onMessage=new e,this._$container=t.$body,this._prepareLayout(this._$container),this._getTemplate(),window.is_authenticated?(this.init(),this._state=E,this._bridge.visible.value()&&this.load()):(this._state=k,this.showSignInMessage()),TradingView.notificationsChanged.subscribe(null,function(){this.updateSettings()}.bind(this))}function N(t,e){if(t.length<e)return t.trim();t+=" ";for(var i,n=/\s+/g,s="",o=0;null!=(i=n.exec(t));){if(i.index>=e){s=t.substring(0,o).trim()+"...";break}o=i.index}return s||t.substring(0,e)+"..."}L.prototype.updateSettings=function(){this.getWidgetData().done(function(t){if(this._settings=t.settings,"user"===this._widgetType){var e=new p;e.ready.then((function(){e.data.notification_popup=t.settings.notification_popup,e.data.notification_sound=t.settings.notification_sound})),TVSettings.setValue("messages.show_onsite_notifications",0!=(1&t.settings.notification_mention_in_chat)),TVSettings.setValue("publicchats.send_email_notifications",0!=(2&t.settings.notification_mention_in_chat))}}.bind(this))},L.prototype._getTemplate=function(){
this._itemTemplate='<div class="js-notifications-event-block tv-notifications-widget-item" data-id="{{id}}"><div class="tv-notifications-widget-item__wrap"><div class="tv-notifications-widget-item__icon-time-wrap tv-notifications-widget-item__icon-time-wrap--event-type_{{eventType}}"><div class="js-icon-place"></div></div><div class="tv-notifications-widget-item__header"><a class="js-userlink-popup tv-notifications-widget-item__user-avatar" href="{{profileUrl}}" target="_blank" data-username="{{username}}"><img src="{{avatar}}" alt=""/></a><div class="tv-notifications-widget-item__user-info"><div class="tv-notifications-widget-item__user-name"><a class="js-userlink-popup tv-notifications-widget-item__user-name-link" href="{{profileUrl}}" target="_blank" data-username="{{username}}">{{username}}</a><span class="js-badge-wrapper"></span></div><time class="js-ago-timer"></time><div>{{event}}</div></div></div>{{^templateOptions.noBody}}<div class="tv-notifications-widget-item__body">{{#templateOptions.title}}<span class="tv-notifications-widget-item__chart-title"><span>{{chartTitle}}</span> {{^templateOptions.noSymbol}}<a href="{{ symbolPageUrl }}" target="_blank" class="tv-notifications-widget-item__chart-symbol">{{chartSymbol}}</a>{{/templateOptions.noSymbol}}</span>{{/templateOptions.title}}{{#templateOptions.chartPreview}}<div class="tv-notifications-widget-item__chart-preview-wrap">{{^templateOptions.noLikes}}'+w+'{{/templateOptions.noLikes}}<a class="js-chart-preview tv-notifications-widget-item__chart-preview" href="{{chartURL}}"><img src="{{chartPreview}}"/>{{#isVideo}}<div class="tv-idea-preview-button__play-icon">'+i("IRk6")+'</div>{{/isVideo}}{{#videoCam}}<div class="tv-idea-preview-button__video-cam">'+i("n5P/")+'</div>{{/videoCam}}</a></div>{{/templateOptions.chartPreview}}{{#templateOptions.description}}<div class="tv-notifications-widget-item__description {{#shortDescription}}tv-notifications-widget-item__description--short {{/shortDescription}} tv-notifications__description--ellipsis">{{description}}</div>{{/templateOptions.description}}{{#templateOptions.descriptionLink}}<div class="tv-notifications-widget-item__entity-link"><a href="{{descriptionLink}}" target="_blank">'+window.t("Link")+"</a></div>{{/templateOptions.descriptionLink}}</div>{{/templateOptions.noBody}}</div></div>"},L.prototype.showSignInMessage=function(){this._$data.append('<div class="ch-item-empty">'+window.t("If you want to use this service - please __signInLink__!",{signInLink:'<a class="js-notifications-widgets-sign-in" href="#signin">'+window.t("sign in or register")+"</a>"})+"</div>"),this._$data.find("a.js-notifications-widgets-sign-in").on("click",(function(){return runOrSignIn((function(){}),{source:"Notifications widget placeholder",sourceMeta:"Chart"}),!1}))},L.prototype.showEmptyMessage=function(){this._$data.append('<div class="ch-item-empty js-empty-message">'+window.t("You have no notifications yet.")+"</div>"),this._onMessage.subscribe(this,function(){this._$data.find(".js-empty-message").remove()}.bind(this),!0)},
L.prototype.load=function(t){var e=new m("mini").spin(this._$widget.get(0));this._state=M,this.getWidgetData().done(function(i){e.stop(),this.onData(i),this.highlightUnread(),this.read(),t&&t()}.bind(this))},L.prototype.onData=function(t){var e=this,i=$.map(this._events,(function(t,e){return"notification_"+e}));this._settings=t.settings,i.forEach((function(t){if(!(t in e._settings))throw new Error("NotificationsWidgets: missing notification settings")})),t.notifications.length?this.renderItems(t.notifications):this.showEmptyMessage(),t.notifications.length<20&&(this._history_loaded=!0),this.initLoadMore(),this._state=I},L.prototype.init=function(){var t=this;l.on(this._pushStreamChannel,$.proxy(this,"onMessage")),_.on(this._xEventsChannel,this.onRead.bind(this)),this._likesHandler=g.getChartsHandler(),this._$container.parent().on("click",this.onFocus.bind(this)),this._getEvents(),this._count=window.user.notification_count?window.user.notification_count[this._widgetType]:0,this._count&&this._bridge.notify(this._count),this._settings={};var e=new p;e.ready.then((function(){for(var i in e.data)e.data.hasOwnProperty(i)&&(t._settings[i]=e.data[i])})),this._bridge.visible.subscribe(this.visibilityChange.bind(this)),this._bridge.active.subscribe(this.activeStateChange.bind(this))},L.prototype.destroy=function(){this._likesHandler&&this._likesHandler.destroy(),this._publishedChartsWatchedProps&&(this._publishedChartsWatchedProps.visible.unsubscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps.filter.unsubscribe(this,this._publishedChartsUpdateControls)),this._publishedChartsActiveChangedBound&&this._bridge.getChartWidgetCollection().activeChartWidget.unsubscribe(this._publishedChartsActiveChangedBound),l.off(this._pushStreamChannel),_.off(this._xEventsChannel)},L.prototype.getWidgetData=function(){return $.get("/notifications-data/",{widget_type:this._widgetType},"json")},L.prototype.visibilityChange=function(t){t&&this._state===E?this.load(this.visibilityChange.bind(this,t)):(t&&this.updateLayout(),t||this.read())},L.prototype.activeStateChange=function(t){t&&this._state!==M&&(this.highlightUnread(),this.read())},L.prototype.onFocus=function(){this.stopHighlight(),this.read()},L.prototype.markAsRead=function(){var t=this._$data.find(".js-notifications-event-block.js-notifications-unread").removeClass("js-notifications-unread").addClass("js-notifications-new");if(t.length){setTimeout((function(){t.removeClass(".js-notifications-new")}),36e5);var e=t.map((function(){return $(this).data("id")})),i=TVSettings.getJSON(this._markNotificationsSettingsKey,{},!0);i[(new Date).getTime()]=[Math.min.apply(null,e),Math.max.apply(null,e)],TVSettings.setJSON(this._markNotificationsSettingsKey,i)}},L.prototype.markNew=function(){var t,e=(new Date).getTime(),i=TVSettings.getJSON(this._markNotificationsSettingsKey,{},!0),n=!1;for(t in i)e-parseInt(t,10)>36e5&&(delete i[t],n=!0);n&&TVSettings.setJSON(this._markNotificationsSettingsKey,i),
this._$data.find(".js-notifications-event-block:not(.js-notifications-new)").each((function(){var n=$(this),s=n.data("id");function o(){n.removeClass("js-notifications-new")}for(t in i){var r=i[t];if(s>=r[0]&&s<=r[1]){n.addClass("js-notifications-new");var a=parseInt(t,10)+36e5-e;setTimeout(o,a)}}})).slice(0,this._count||0).addClass("js-notifications-unread")},L.prototype.highlightUnread=function(){this._$data.find(".js-notifications-event-block.js-notifications-unread").highlight(3)},L.prototype.stopHighlight=function(){this._$data.find(".js-notifications-event-block.js-notifications-unread").filter(":animated").stop(!0,!1).highlight(!1)},L.prototype.read=function(){this._count&&($.post("/notifications-reset-counter/",{widget_type:this._widgetType},(function(){})),this.onRead(),_.emit(this._xEventsChannel))},L.prototype.onRead=function(){this.markAsRead(),this._count=0,setTimeout(function(){this._bridge.clearNotifications()}.bind(this),0)},L.prototype.onMessage=function(t){t&&"stream_start"===t.type&&t.user_id===window.user.id||!t||"user"!==this._widgetType&&t.lang!==window.locale&&"publish_pine"!==t.type&&"pubscript_updates"!==t.type||(this._state!==E&&(this.addNewNotification(t),this._onMessage.fire()),this.incrementCounter(),this._bridge.visible.value()||this.showDesktopNotification(t),this.playSound())},L.prototype.incrementCounter=function(){this._count++,this._bridge.notify(1)},L.prototype.addNewNotification=function(t){var e=this.renderItem(t);this._$data.prepend(e),e.addClass("js-notifications-unread"),this._bridge.active.value()&&this.updateLayout(),this._bridge.visible.value()&&e.highlight(3)},L.prototype.showDesktopNotification=function(t){var e=this,i=new p;i.ready.then((function(){if(i.data.notification_popup&&l.ownPushStream()){var n=e._events[t.type],s=n.desktopNotification.messageTitle,o="function"==typeof s?s.call(e,t):s.format(t.user.username,t.chart_title||"",t.chart_symbol||""),r="";r=(r=n.desktopNotification.noDescription?window.t("Click here to open widget..."):n.desktopNotification.useChartTitle?t.chart_title:n.desktopNotification.description?"function"==typeof n.desktopNotification.description?n.desktopNotification.description.call(e,t):n.desktopNotification.description:t.description.trim()).slice(0,256),u.show(o,r,t.user.mid_picture_url)}}))},L.prototype._prepareLayout=function(t){if(this._$widget=$('<div class="tv-notifications">').appendTo(t),this._$data=$('<div class="nf-data">').appendTo(this._$widget),this._scroll=new c(this._$widget,this._$data),this._bridge.height.subscribe(this.resize.bind(this)),this._bridge.visible.subscribe(this.resize.bind(this)),"following"===this._widgetType&&this._bridge.getChartWidgetCollection()&&this._initPublishedCharts(),window.is_authenticated){this._$settings=this._addHeaderButton({classes:"button apply-common-tooltip",title:window.t("Settings"),icon:i("jJ9P"),iconWidth:17,iconHeight:17});var e=this;this._$settings.on("click",(function(t){$(this).hasClass("open")?$(this).trigger("hide-popup"):e._settingsMenu(t)})),h(this._$settings,null,{
event:"show-popup",hideEvent:"hide-popup",addClass:"nf-popup nf-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0})}this._$widget.on("contextmenu",(function(t){t.target.classList.contains("tv-notifications")&&t.preventDefault()}))},L.prototype._addHeaderButton=function(t){var e=$('<a class="'+t.classes+'" title="'+t.title+'"></a>'),i=$(t.icon).attr({width:t.iconWidth,height:t.iconHeight});return e.append(i).appendTo(this._bridge.$headerspace)},L.prototype._initPublishedCharts=function(){var t={classes:"apply-common-tooltip button",title:window.t("Ideas for this symbol will appear as different color dots on the chart. Red for short ideas, yellow for neutral and green for long. The dot appears on the day when they were published."),icon:x},e={classes:"apply-common-tooltip button button-half button-nomarginleft",title:window.t("Published ideas settings"),icon:i("SmzL"),iconWidth:8,iconHeight:4};this._publishedChartsFilterPopupItems=[{title:window.t("Show All Ideas"),action:this._signInOrRunFilterHandler(b.None)},{title:window.t("Show Ideas of Followed Users"),action:this._signInOrRunFilterHandler(b.Following)},{title:window.t("Show My Ideas Only"),action:this._signInOrRunFilterHandler(b.Private)}],this._$publishedChartsToggle=this._addHeaderButton(t),this._$publishedChartsFilter=this._addHeaderButton(e),this._$publishedChartsToggle.on("click",this._handlePublishedChartsToggle.bind(this,void 0)),h(this._$publishedChartsFilter,this._publishedChartsFilterPopupItems,{direction:"down",reverse:!0}),this._publishedChartsActiveChangedBound=this._publishedChartsActiveChanged.bind(this),this._bridge.getChartWidgetCollection().activeChartWidget.subscribe(this._publishedChartsActiveChangedBound,{callWithLast:!0})},L.prototype._publishedChartsActiveChanged=function(t){if(this._bridge.getChartWidget()===t){var e=t.model();if(e){var i=e.publishedChartsTimelineSource().properties().visible,n=e.publishedChartsTimelineSource().properties().filter;i.subscribe(this,this._publishedChartsUpdateControls),n.subscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps?(this._publishedChartsWatchedProps.visible.unsubscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps.filter.unsubscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps.visible=i,this._publishedChartsWatchedProps.filter=n):this._publishedChartsWatchedProps={visible:i,filter:n},this._publishedChartsUpdateControls()}else t.modelCreated().subscribe(this,(function(){this._publishedChartsActiveChanged(t)}),!0)}},L.prototype._publishedChartsUpdateControls=function(){var t=this._publishedChartsWatchedProps,e=t.visible.value(),i=t.filter.value();this._publishedChartsFilterPopupItems.forEach((function(t,e){t.addClass=D[i]===e?"active-item-backlight":void 0})),this._$publishedChartsToggle.toggleClass("active",e);var n=$(e?O:x).css("margin-top",e?-4:0);this._$publishedChartsToggle.find("svg").replaceWith(n)},L.prototype._handlePublishedChartsToggle=function(t){
if(this._publishedChartsWatchedProps){var e=window.t("Show Published Charts Timeline"),i=window.t("Hide Published Charts Timeline"),n=this._publishedChartsWatchedProps.visible,s=!n.value();void 0!==t&&t!==s||n.setValue(s,s?e:i)}},L.prototype._signInOrRunFilterHandler=function(t){return window.runOrSignIn.bind(null,this._handlePublishedChartsFilter.bind(this,t),{source:"Published charts timeline in widgetbar",sourceMeta:"Chart",feature:"publish"})},L.prototype._handlePublishedChartsFilter=function(t){if(this._publishedChartsWatchedProps){var e=window.t("Change Ideas filter");this._publishedChartsWatchedProps.filter.setValue(t,e),this._handlePublishedChartsToggle(!0)}},L.prototype._getEvents=function(){"following"===this._widgetType&&(this._events={publish:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("Published new idea"),iconSvgCode:i("AJki"),settingName:window.t("Ideas"),desktopNotification:{messageTitle:window.t("New idea by {0}"),useChartTitle:!0}},publish_pine:{templateOptions:{title:!0,description:!0,chartPreview:!0,noSymbol:!0},eventName:window.t("Published new script"),iconSvgCode:i("AJki"),settingName:window.t("Ideas"),desktopNotification:{messageTitle:window.t("New script by {0}"),useChartTitle:!0}},chart_updates:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("Updated idea"),iconSvgCode:i("RMt/"),settingName:window.t("Updates"),desktopNotification:{messageTitle:window.t("{0} updated the {1} idea")}},pubscript_updates:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("New script version"),iconSvgCode:i("RMt/"),settingName:window.t("Scripts Updates"),desktopNotification:{messageTitle:window.t("{0} updated the {1} script")}},change_status:{templateOptions:{description:!0},eventName:window.t("Updated status"),iconSvgCode:i("pM3Z"),settingName:window.t("Status Updates"),desktopNotification:{messageTitle:window.t("{0} has a new status")}},follow_symbol:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("Published new idea"),iconSvgCode:i("AJki"),settingName:window.t("Ideas"),desktopNotification:{messageTitle:window.t("New idea by {0} on symbol {2}"),useChartTitle:!0}}},this._settingsGroups=[{title:window.t("Authors Followed"),items:["publish","change_status"]},{title:window.t("Ideas Followed"),items:["chart_updates"]},{title:window.t("Symbols Followed"),items:["follow_symbol"]}]),"user"===this._widgetType&&(this._events={follow_user:{templateOptions:{noBody:!0},eventName:window.t("Follows you"),iconSvgCode:i("Aml6"),settingName:window.t("New Follower"),desktopNotification:{messageTitle:window.t("User {0} now follows you"),noDescription:!0}},stream_start:{templateOptions:{descriptionLink:!0},eventName:window.t("Started a new live stream"),iconSvgCode:i("yTtm"),settingName:window.t("New Stream"),desktopNotification:{messageTitle:window.t("User {0} just started a new live stream")}},comment:{templateOptions:{title:!0,description:!0,descriptionLink:!0,chartPreview:!0},eventName:function(t){
return t.coins?window.t("Donated {amount} coin on your idea",{plural:"Donated {amount} coins on your idea",count:t.coins}).format({amount:t.coins}):window.t("Commented on your idea")},iconSvgCode:i("ioEH"),settingName:window.t("Comments"),desktopNotification:{messageTitle:function(t){return t.coins?window.t("{username} donated {amount} coin on your idea {name}",{plural:"{username} donated {amount} coins on your idea {name}",count:t.coins}).format({amount:t.coins,username:t.user.username,name:t.chart_title||""}):window.t("{username} commented on your idea {name}").format({username:t.user.username,name:t.chart_title||""})}}},comment_pine:{templateOptions:{title:!0,description:!0,descriptionLink:!0,chartPreview:!0,noSymbol:!0},eventName:function(t){return t.coins?window.t("Donated {amount} coin on your script",{plural:"Donated {amount} coins on your script",count:t.coins}).format({amount:t.coins}):window.t("Commented your script")},iconSvgCode:i("ioEH"),settingName:window.t("Comments"),desktopNotification:{messageTitle:function(t){return t.coins?window.t("{username} donated {amount} coin on your script {name}",{plural:"{username} donated {amount} coins on your script {name}",count:t.coins}).format({amount:t.coins,username:t.user.username,name:t.chart_title||""}):window.t("{username} commented your script {name}").format({username:t.user.username,name:t.chart_title||""})}}},vote:{templateOptions:{title:!0,chartPreview:!0},eventName:window.t("Agreed with your idea"),iconSvgCode:i("w68K"),settingName:window.t("Likes"),desktopNotification:{messageTitle:window.t("{0} agreed with your idea"),useChartTitle:!0}},vote_pine:{templateOptions:{title:!0,chartPreview:!0,noSymbol:!0},eventName:window.t("Liked your script"),iconSvgCode:i("w68K"),settingName:window.t("Likes"),desktopNotification:{messageTitle:window.t("{0} liked your script {1}"),useChartTitle:!0}},mention_in_ideas_comment:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Mentioned you in idea comment"),iconSvgCode:i("ioEH"),settingName:window.t("Mentions in Idea Comment"),desktopNotification:{messageTitle:window.t("{0} mentioned you in idea comment")}},mention_in_script_comment:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Mentioned you in script comment"),iconSvgCode:i("ioEH"),settingName:window.t("Mentions in Script Comment"),desktopNotification:{messageTitle:window.t("{0} mentioned you in script comment")}},mention_in_chat:{templateOptions:{description:!0,descriptionLink:!0},eventName:function(t){return window.t("Mentioned you in{chatRoom}chat").format({chatRoom:t.chat_room?" "+t.chat_room+" ":" "})},iconSvgCode:i("ioEH"),settingName:window.t("Mentions in Chat"),desktopNotification:{messageTitle:window.t("{0} mentioned you in chat")}},access_to_script:{templateOptions:{title:!0,description:!0,chartPreview:!0,noSymbol:!0,noLikes:!0},eventName:function(t){return t.expiration?window.t("Granted you access to a script that expires on {expiration}").format({expiration:P["dd MMM 'yy"](new Date(t.expiration),!1)
}):window.t("Granted you access to a script")},iconSvgCode:i("AJki"),desktopNotification:{messageTitle:window.t("Granted access to a script"),description:function(t){return t.script_name}},processViewData:function(t,e){t.chartTitle=e.script_name,t.description=window.t("Refresh your page to see it in the Indicators window.")}},broker_review:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Left you a review"),iconSvgCode:i("pM3Z"),desktopNotification:{messageTitle:window.t("{0} left you a review")}},broker_review_update:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Updated a review"),iconSvgCode:i("pM3Z"),desktopNotification:{messageTitle:window.t("{0} updated a review")}},broker_reply:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Replied to your review"),iconSvgCode:i("pM3Z"),desktopNotification:{messageTitle:window.t("{0} replied to your review")}}},this._settingsGroups=[{title:window.t("You"),items:["follow_user","mention_in_ideas_comment","mention_in_chat"]},{title:window.t("Your Ideas"),items:["comment","vote"]}])},L.prototype._settingsMenu=function(t){var e=this;if(this._settings){var n=[];e._settingsGroups.forEach((function(s){var o=h.Group({title:s.title.toUpperCase()});s.items.forEach((function(n){var s=e._settings,r="notification_"+n;o.push({title:e._events[n].settingName,action:function(){s[r]^=1;var i={widget_type:e._widgetType};i[r]=s[r];var n=$('input[name="'+r+'_onsite"]');$.post("/notifications-settings/",i,(function(t){if(t&&t.success){if(n[0]){1&s[r]?n.attr("checked","checked"):n.removeAttr("checked")}}else s[r]^=1}),"json"),setTimeout((function(){e._settingsMenu(t)}),0)},icon:{image:"url('"+i("4AmR")+"')",offset:1&s[r]?"0 -16px":void 0}})})),n.push(o)})),n.push({separator:!0}),n.push({title:B(window.t("Additional Notifications Settings")),action:function(){window.open(o(window.user,{page:r.Notifications}),"_blank")},addClass:"with-indent"}),$(t.target).trigger("show-popup",[n])}t.stopPropagation()},L.prototype.updateLayout=function(t){this.resize()},L.prototype.resize=function(t){this._scroll.resize()},L.prototype.renderItems=function(t){for(var e=0;e<t.length;e++)this._$data.append(this.renderItem(t[e]));this.markNew(),this.updateLayout()},L.prototype.openChartPopup=function(t,e,i,n){return d({chartId:t,chartName:e,publishedUrl:i,shortSymbol:n,chartWidgetCollection:this._bridge.getChartWidgetCollection()}),!1},L.prototype.renderItem=function(t){var e=this._events[t.type],i=window.t("Like",{context:"like_button"}),s=window.t("Likes",{context:"like_button_amount_of_likes"}),r={eventType:t.type.replace("_","-"),templateOptions:e.templateOptions,id:t.id,username:t.user.username,profileUrl:o(t.user),avatar:t.user.picture_url,event:"function"==typeof e.eventName?e.eventName(t):e.eventName,chartURL:t.published_chart_url,chartTitle:t.chart_title,chartSymbol:t.chart_symbol,symbolPageUrl:t.chart_pro_symbol?f({proName:t.chart_pro_symbol}):"",chartPreview:t.chart_preview,description:t.description&&N(t.description,254),
shortDescription:e.templateOptions.description&&!(e.templateOptions.chartPreview&&e.templateOptions.title),descriptionLink:t.entity_url,isVideo:t.is_video,videoCam:t.video_cam,typeClass:"js-chart-like",titleTooltip:t.chart_user_id===window.user.id?s:i};e.processViewData&&e.processViewData.call(this,r,t);var a=$(n.render(this._itemTemplate,r));a.find(".js-icon-place").append($(e.iconSvgCode));var l=a[0].querySelector(".js-badge-wrapper");return null!==l&&C(l,{badges:t.user.badges,size:y.Small,getTitle:S,getLink:T}),e.templateOptions.chartPreview&&!e.templateOptions.noLikes&&(this._likesHandler.addIdea(a.find(".js-chart-like")[0],t.image_url,t.chart_likes,"user"===this._widgetType?-1:t.chart_voted),a.find(".js-chart-preview").on("click",this.openChartPopup.bind(this,t.image_url,t.chart_title,t.published_chart_url,t.chart_symbol))),v.jQueryCompatibleAgoDateFormatter(a.find(".js-ago-timer"),new Date(1e3*t.timestamp)),a},L.prototype.playSound=function(){this._settings.notification_sound&&l.ownPushStream()&&a.play(a.DEFAULT_SOUNDS.sound)},L.prototype.initLoadMore=function(){this._history_loaded||this._scroll.scrolltoend.subscribe(this,this.loadMore.bind(this))},L.prototype.loadMore=function(t){if(!this._history_loading&&!this._history_loaded){this._history_loading=!0,this._$data.addClass("js-notifications-loading");var e=this._$data.find(".js-notifications-event-block:last").data("id");$.get("/notifications-history/",{widget_type:this._widgetType,last:e,limit:20},function(t){t.length<20&&(this._history_loaded=!0),t.length&&this.renderItems(t)}.bind(this),"json").always(function(){t||this._scroll.updateScrollBar(),this._history_loading=!1,this._$data.removeClass("js-notifications-loading")}.bind(this))}},t.exports=L}).call(this,i("aIyQ"),i("nbsC"))},dCE3:function(t,e,i){t.exports={button:"button-2OmDro4I",icon:"icon-2OmDro4I"}},dECE:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m29.5 11a4.5 4.5 0 0 1 4.5 4.5v14a4.5 4.5 0 0 1-4.5 4.5h-15a4.5 4.5 0 0 1-4.5-4.5v-14a4.5 4.5 0 0 1 4.5-4.5m0 1a3.5 3.5 0 0 0-3.5 3.5v14a3.5 3.5 0 0 0 3.5 3.5h15a3.5 3.5 0 0 0 3.5-3.5v-14a3.5 3.5 0 0 0-3.5-3.5M15 17v-1h14v1zm0 4v-1h14v1zm0 4v-1h14v1zm0 4v-1h14v1z"/></svg>'},dkCg:function(t,e,i){"use strict";i.r(e);var n=i("q1tI"),s=i("i8i4"),o=(i("EsMY"),i("17x9")),r=i("TSYQ"),a=i("Iivm"),l=i("dCE3"),c=i("Opoj");function d(t){const e=r(t.className,l.button,t.isGrayed&&l.isGrayed);return n.createElement("div",{className:e,onClick:t.onClick,"data-role":"button","data-name":t.name},n.createElement(a.a,{className:l.icon,icon:c}))}var h=i("5AaZ"),u=i("1WwW"),g=i("vOQ2"),p=i("Eyy1"),m=i("1TxM"),v=i("PW1O");const _=window.t("DOM"),f=Object(m.b)();class w extends n.PureComponent{constructor(t,e){super(t,e),this._handleClick=()=>{const{setDomPanelVisibility:t}=Object(p.ensure)(this.context.widgetBar.tradingPanelAccessor);t(!this.state.isActive)},this._handleIsOpenedChange=()=>{this.setState({isActive:this._tradingPanel.isPageOpened(g.d.DomPanel)})},this._handleActivePageChange=t=>{
this._tradingPanel.isOpened.value()&&this.setState({isActive:t===g.d.DomPanel})},Object(m.d)(e,{widgetBar:o.any.isRequired}),this._tradingPanel=Object(p.ensure)(this.context.widgetBar.tradingPanelAccessor).tradingPanel,this.state={isActive:this._tradingPanel.isPageOpened(g.d.DomPanel)}}componentDidMount(){this._tradingPanel.isOpened.subscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.subscribe(this._handleActivePageChange)}componentWillUnmount(){this._tradingPanel.isOpened.unsubscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.unsubscribe(this._handleActivePageChange)}render(){return n.createElement(u.a,Object.assign({},this.props,{icon:v,hint:_,isActive:this.state.isActive,onClick:this._handleClick}))}}w.contextType=f;var b=i("JWMC"),y=i("YvYu");const C=window.t("Order Panel"),S=Object(m.b)();class T extends n.PureComponent{constructor(t,e){super(t,e),this._handleClick=()=>{const{setOrderPanelVisibility:t}=Object(p.ensure)(this.context.widgetBar.tradingPanelAccessor),e=!this.state.isActive;t(e),e&&Object(b.trackEvent)("GUI","Open Order Panel")},this._handleIsOpenedChange=()=>{this.setState({isActive:this._tradingPanel.isPageOpened(g.d.OrderPanel)})},this._handleActivePageChange=t=>{this._tradingPanel.isOpened.value()&&this.setState({isActive:t===g.d.OrderPanel})},Object(m.d)(e,{widgetBar:o.any.isRequired}),this._tradingPanel=Object(p.ensure)(this.context.widgetBar.tradingPanelAccessor).tradingPanel,this.state={isActive:this._tradingPanel.isPageOpened(g.d.OrderPanel)}}componentDidMount(){this._tradingPanel.isOpened.subscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.subscribe(this._handleActivePageChange)}componentWillUnmount(){this._tradingPanel.isOpened.unsubscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.unsubscribe(this._handleActivePageChange)}render(){return n.createElement(u.a,Object.assign({},this.props,{icon:y,hint:C,isActive:this.state.isActive,onClick:this._handleClick}))}}T.contextType=S;var P=i("ai7J");function B(t){return n.createElement("div",{className:r(t.className,P.separator)})}var $=i("HSWI");function x(t){return n.createElement("div",{className:r($.filler,t.className)})}function O(t,e){return class extends n.PureComponent{constructor(t){super(t),this._bindedForceUpdate=()=>this.forceUpdate(),this.state={viewModel:e}}componentDidMount(){const{viewModel:t}=this.state;t.notificationsCount.subscribe(this._bindedForceUpdate),t.isActive.subscribe(this._bindedForceUpdate)}componentWillUnmount(){const{viewModel:t}=this.state;t.notificationsCount.unsubscribe(this._bindedForceUpdate),t.isActive.unsubscribe(this._bindedForceUpdate)}render(){const{viewModel:e}=this.state,i=e.notificationsCount.value();return n.createElement(t,Object.assign({},this.props,{icon:e.icon.value(),isActive:e.isActive.value(),onClick:e.onClick.value(),hint:e.hint.value(),count:i}))}}}var k=i("XAms"),E=i("txPx"),M=i("8d0Q"),I=i("If+W");const D=Object(E.getLogger)("Platform.GUI.RightToolbar"),L=Object(m.b)();class N extends n.PureComponent{constructor(t,e){super(t,e),
this._pages={},this._isTradingPanelCanBeShown=null,this._tradingActivePage=null,this._isTradingPanelOpened=null,this._handleMouseOver=t=>{Object(M.a)(t)&&this.setState({isHovered:!0})},this._handleMouseOut=t=>{Object(M.a)(t)&&this.setState({isHovered:!1})},this._handleFullscreenChange=t=>{this.setState({isFullscreen:t})},this._handleCloseClick=()=>{const{widgetBar:t}=this.context;t.layout.setMinimizedState(!0)},this._handleGrayedChange=()=>{this.setState({isGrayed:this._isGrayed()})},this._handleDomButtonVisibilityChange=t=>{this.setState({isTradingButtonsVisible:t})},this._isGrayed=()=>{let t=this._isMinimized.value();return null!==this._isTradingPanelOpened&&(t=t&&!this._isTradingPanelOpened.value()),!t},Object(m.d)(e,{widgetBar:o.any.isRequired});const{widgetBar:i}=this.context;if(this._isMinimized=i.layout.isMinimized.spawn(),this._isFullscreen=i.resizerBridge.fullscreen.spawn(),i.tradingPanelAccessor){const t=i.tradingPanelAccessor.tradingPanel;this._isTradingPanelCanBeShown=t.isAvailable.spawn(),this._tradingActivePage=t.activePage.spawn(),this._isTradingPanelOpened=t.isOpened.spawn()}this.state={isHovered:!1,isGrayed:this._isGrayed(),isFullscreen:this._isFullscreen.value(),isTradingButtonsVisible:!1},this._isTradingPanelCanBeShown&&(this.state=Object.assign(Object.assign({},this.state),{isTradingButtonsVisible:this._isTradingPanelCanBeShown.value()})),i.layout.pages.forEach(t=>{var e;void 0===t.name&&D.logWarn('Page does not provide required field "name"'),this._pages[t.name]=O(null!==(e=t.tab.TabButtonComponent)&&void 0!==e?e:u.a,t.tab)}),this._toolset=this._createToolset()}componentDidMount(){this._isFullscreen.subscribe(this._handleFullscreenChange),this._isMinimized.subscribe(this._handleGrayedChange),null!==this._isTradingPanelCanBeShown&&this._isTradingPanelCanBeShown.subscribe(this._handleDomButtonVisibilityChange),null!==this._isTradingPanelOpened&&this._isTradingPanelOpened.subscribe(this._handleGrayedChange)}componentWillUnmount(){this._isFullscreen.destroy(),this._isMinimized.destroy(),null!==this._isTradingPanelCanBeShown&&this._isTradingPanelCanBeShown.destroy(),null!==this._tradingActivePage&&this._tradingActivePage.destroy(),null!==this._isTradingPanelOpened&&this._isTradingPanelOpened.destroy()}render(){const{className:t,isDomButtonAvailable:e,isOrderPanelButtonAvailable:i}=this.props,{isHovered:s,isGrayed:o,isFullscreen:a,isTradingButtonsVisible:l}=this.state,{widgetBar:c}=this.context,u=this._toolset,g=i&&l,p=e&&l;return n.createElement(h.a,{isVisibleFade:Modernizr.mobiletouch,isVisibleButtons:!Modernizr.mobiletouch&&s,isVisibleScrollbar:!1,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut},n.createElement("div",{className:r(t,I.toolbar,o&&I.isGrayed),"data-name":"right-toolbar",onContextMenu:k.a},c.adaptive&&a&&n.createElement(d,{name:"close-button",onClick:this._handleCloseClick}),this._renderPages(),(g||p)&&n.createElement(B,null),g&&n.createElement(T,{name:"order-panel-button",isGrayed:o}),p&&n.createElement(w,{name:"dom-button",isGrayed:o
}),n.createElement(x,null),this._renderPages(!0),u.SupportTicketButton&&n.createElement(u.SupportTicketButton,{name:"bug-report-button",isGrayed:o,isTab:!1}),u.HelpButton&&n.createElement(u.HelpButton,{name:"help-button",isGrayed:o,isTab:!1})))}_renderPages(t){const e=[],{isGrayed:i}=this.state,{widgetBar:s}=this.context,{pages:o}=s.layout;return o.forEach(s=>{if(s.name in this._pages&&Boolean(s.onBottom)===Boolean(t)){const t=this._pages[s.name];e.push(n.createElement(t,{name:s.name,isGrayed:i,key:s.name})),s.spaceBottom&&e.push(n.createElement(B,{key:s.spaceBottomText}))}}),e}_createToolset(){const{widgetBar:t}=this.context;return{SupportTicketButton:this.props.isSupportTicketButtonAvailable?O(u.a,t.ensureSupportTicketButtonViewModel()):void 0,HelpButton:this.props.isHelpButtonAvailable?O(u.a,t.ensureHelpButtonViewModel()):void 0}}}N.contextType=L;const R={widgetBar:o.any};class A extends n.PureComponent{constructor(t){super(t),this._registry={widgetBar:this.props.widgetBar}}render(){return n.createElement(m.a,{validation:R,value:this._registry},this.props.children)}}i.d(e,"RightToolbarRenderer",(function(){return W}));class W{constructor(t,e,i){this._widgetBar=t,this._container=e,this._options=i,this._render()}updateOptions(t){this._options=t,this._render()}destroy(){s.unmountComponentAtNode(this._container)}_render(){s.render(n.createElement(A,{widgetBar:this._widgetBar},n.createElement(N,{isDomButtonAvailable:this._options.isDomButtonAvailable,isOrderPanelButtonAvailable:this._options.isOrderPanelButtonAvailable,isHelpButtonAvailable:this._options.isHelpButtonAvailable,isSupportTicketButtonAvailable:this._options.isSupportTicketButtonAvailable})),this._container)}}},dlie:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n={true:[0,1],false:[-1,0,1]}},e1ZQ:function(t,e,i){"use strict";i.r(e),i.d(e,"monthFormatFunction",(function(){return g})),i.d(e,"dateFormatFunctions",(function(){return p})),i.d(e,"availableDateFormats",(function(){return m})),i.d(e,"defaultDateFormat",(function(){return v}));var n=i("YFKU"),s=i("kcTO");const o={1:()=>n.t("Jan"),2:()=>n.t("Feb"),3:()=>n.t("Mar"),4:()=>n.t("Apr"),5:()=>n.t("May",{context:"short"}),6:()=>n.t("Jun"),7:()=>n.t("Jul"),8:()=>n.t("Aug"),9:()=>n.t("Sep"),10:()=>n.t("Oct"),11:()=>n.t("Nov"),12:()=>n.t("Dec")},r=(t,e)=>(e?t.getMonth():t.getUTCMonth())+1,a=(t,e)=>e?t.getFullYear():t.getUTCFullYear(),l=(t,e)=>Object(s.numberToStringWithLeadingZero)(((t,e)=>e?t.getDate():t.getUTCDate())(t,e),2),c=(t,e)=>o[r(t,e)](),d=(t,e)=>Object(s.numberToStringWithLeadingZero)(r(t,e),2),h=(t,e)=>Object(s.numberToStringWithLeadingZero)(a(t,e)%100,2),u=(t,e)=>Object(s.numberToStringWithLeadingZero)(a(t,e),4),g=(t,e)=>c(t,e),p={"dd MMM 'yy":(t,e)=>`${l(t,e)} ${c(t,e)} '${h(t,e)}`,"MMM dd, yyyy":(t,e)=>`${c(t,e)} ${l(t,e)}, ${u(t,e)}`,"MMM dd":(t,e)=>`${c(t,e)} ${l(t,e)}`,"yyyy-MM-dd":(t,e)=>`${u(t,e)}-${d(t,e)}-${l(t,e)}`,"yy-MM-dd":(t,e)=>`${h(t,e)}-${d(t,e)}-${l(t,e)}`,"yy/MM/dd":(t,e)=>`${h(t,e)}/${d(t,e)}/${l(t,e)}`,"yyyy/MM/dd":(t,e)=>`${u(t,e)}/${d(t,e)}/${l(t,e)}`,
"dd-MM-yyyy":(t,e)=>`${l(t,e)}-${d(t,e)}-${u(t,e)}`,"dd-MM-yy":(t,e)=>`${l(t,e)}-${d(t,e)}-${h(t,e)}`,"dd/MM/yy":(t,e)=>`${l(t,e)}/${d(t,e)}/${h(t,e)}`,"dd/MM/yyyy":(t,e)=>`${l(t,e)}/${d(t,e)}/${u(t,e)}`,"MM/dd/yy":(t,e)=>`${d(t,e)}/${l(t,e)}/${h(t,e)}`,"MM/dd/yyyy":(t,e)=>`${d(t,e)}/${l(t,e)}/${u(t,e)}`},m=Object.keys(p),v=()=>-1!==["ja","ko","zh","zh_TW"].indexOf(window.language||"")?"yyyy-MM-dd":"dd MMM 'yy"},e9Yb:function(t,e,i){t.exports={"css-value-widgetbar-tabs-width":"45px","css-value-widgetbar-border-width":"1px"}},e9uC:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("YFKU");var n=i("kTIc");const s=window.t("Get Widget");function o(t,e){let i="tv-get-widget-button apply-common-tooltip";e&&(i+=" "+e);return`<a class="${i}" href="${`/widget/${t}/`}" target="_blank" title="${s}">${n}</a>`}},eKOu:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 12"><path d="M4 0C2.347 0 1 1.347 1 3v2H.3c-.165 0-.3.135-.3.3v6.4c0 .165.135.3.3.3h8.4c.165 0 .3-.135.3-.3V5.3c0-.165-.135-.3-.3-.3H8V3c0-1.653-1.347-3-3-3H4zm0 1h1c1.117 0 2 .883 2 2v2H2V3c0-1.117.883-2 2-2z"/></svg>'},fZEr:function(t,e,i){"use strict";async function n(t,e){const n=await Promise.all([i.e("vendors"),i.e(0),i.e(1),i.e(2),i.e(6),i.e(7),i.e(9),i.e(11),i.e(12),i.e(14),i.e(20),i.e(216),i.e(416),i.e(8),i.e(10),i.e(188),i.e(330),i.e("simple-dialog")]).then(i.bind(null,"EcUf"));return n.showSimpleDialog(t,n.renameModule,e)}async function s(t,e){const n=await Promise.all([i.e("vendors"),i.e(0),i.e(1),i.e(2),i.e(6),i.e(7),i.e(9),i.e(11),i.e(12),i.e(14),i.e(20),i.e(216),i.e(416),i.e(8),i.e(10),i.e(188),i.e(330),i.e("simple-dialog")]).then(i.bind(null,"EcUf"));return n.showSimpleDialog(t,n.confirmModule,e)}async function o(t,e){const n=await Promise.all([i.e("vendors"),i.e(0),i.e(1),i.e(2),i.e(6),i.e(7),i.e(9),i.e(11),i.e(12),i.e(14),i.e(20),i.e(216),i.e(416),i.e(8),i.e(10),i.e(188),i.e(330),i.e("simple-dialog")]).then(i.bind(null,"EcUf"));return n.showSimpleDialog(t,n.warningModule,e)}i.r(e),i.d(e,"showRename",(function(){return n})),i.d(e,"showConfirm",(function(){return s})),i.d(e,"showWarning",(function(){return o}))},g996:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100px" height="100px"><path d="M50.008 0C29.768 0 9.526.342 7.144 1.03.544 2.93.4 3.64.066 35.444-.097 50.977.04 65.6.374 67.94c.808 5.67 3.695 8.535 9.47 9.398 6.977 1.044 7.848 2.302 7.848 11.355 0 4.23.436 8.537.97 9.57 1.826 3.543 4.7 2.06 15.778-8.146 5.987-5.515 11.518-10.438 12.29-10.938.772-.5 11.54-1.13 23.93-1.398 25.646-.554 26.73-.85 28.54-7.83.665-2.57.923-14.208.738-33.35-.32-33.097-.434-33.663-7.068-35.575C90.488.34 70.248 0 50.008 0zM15.002 20.608h69.94v10.37h-69.94V20.61zm0 25.927h69.94v10.37h-69.94v-10.37z"/><path fill="none" d="M64.358-.26h52.402v6.945H64.358z"/></svg>'},hPwr:function(t,e,i){"use strict";var n;i.r(e),i.d(e,"PublishedChartsFilter",(function(){return n})),function(t){t.None="all",t.Following="following",t.Private="private"}(n||(n={}))},hpIU:function(t,e,i){"use strict"
;i.r(e);var n=i("txPx"),s=i("IWXC"),o=i("hOqT"),r=i("hY0g"),a=i.n(r),l=i("ku9n"),c=i("vGOY");let d=null;var h=i("YXQd");i.d(e,"Widget",(function(){return p}));const u=Object(n.getLogger)("Platform.GUI.Widgetbar.DetailsWidget");class g extends l.a{constructor(t){super(t),this._quoteSessionScreenerMultiplexer=null,this._mounted=!1,this._headerRenderer=null,this._contentRenderer=null,this._updateHeader=()=>{this._headerRenderer&&this._headerRenderer()},this._updateContent=()=>{this._contentRenderer&&this._contentRenderer()},this._unsubscribe=t=>{var e;t&&(null===(e=this._quoteSessionScreenerMultiplexer)||void 0===e||e.unsubscribe(this._bridge.id,this._symbol))},this._subscribe=t=>{var e;this._unsubscribe(this._symbol),this._symbol=t,this._headerProps.setValue({symbolName:this._symbol}),this._contentProps.setValue({source:"RightToolbar",symbol:this._symbol,widgetWidth:this._bridge.width.value()}),t&&(null===(e=this._quoteSessionScreenerMultiplexer)||void 0===e||e.subscribe(this._bridge.id,this._symbol,this._handleQuoteSessionScreenerUpdate.bind(this)))},this._handleOnConnect=()=>{this._subscribe(this._symbol)},this._handleWidgetWidthUpdate=t=>{this._contentProps.setValue(Object.assign(Object.assign({},this._contentProps.value()),{widgetWidth:t}))},this._bridge=t,this._quoteSessionMultiplexer=Object(s.getQuoteSessionInstance)("full"),this._quoteSessionScreenerMultiplexer=new c.a(this._quoteSessionMultiplexer),this._symbol=t.symbol.value(),this._headerProps=new a.a({symbolName:this._symbol}),this._contentProps=new a.a({source:"RightToolbar",symbol:this._symbol,widgetWidth:this._bridge.width.value()}),this.mount()}mount(){this._mounted?u.logWarn("Mount was called on already mounted widget"):(this._mounted=!0,this._bridge.symbol.subscribe(this._subscribe,{callWithLast:!0}),this._bridge.width.subscribe(this._handleWidgetWidthUpdate),this._headerProps.subscribe(this._updateHeader),this._contentProps.subscribe(this._updateContent),this._quoteSessionMultiplexer.onConnect.subscribe(this,this._handleOnConnect),this._subscribe(this._symbol),this._load())}unmount(){this._mounted?(this._mounted=!1,this._bridge.symbol.unsubscribe(this._subscribe),this._bridge.width.unsubscribe(this._handleWidgetWidthUpdate),this._headerProps.unsubscribe(this._updateHeader),this._contentProps.unsubscribe(this._updateContent),this._quoteSessionMultiplexer.onConnect.unsubscribe(this,this._handleOnConnect),super.unmount(),this._loadModulePromise=null):u.logWarn("Unmount was called on already unmounted widget")}_load(){if(this._headerRenderer&&this._contentRenderer)return this._headerRenderer(),void this._contentRenderer()
;const t=this._loadModulePromise=Promise.all([Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(23),i.e(31),i.e(50),i.e(51),i.e(169),i.e(223),i.e(283),i.e(285),i.e(317),i.e(4),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(68),i.e(74),i.e(148),i.e(192),i.e(218),i.e(258),i.e(299),i.e("symbol-details")]).then(i.bind(null,"mF3H")),Promise.all([i.e("vendors"),i.e(0),i.e(3),i.e(5),i.e(23),i.e(31),i.e(50),i.e(51),i.e(169),i.e(223),i.e(283),i.e(285),i.e(317),i.e(4),i.e(43),i.e(44),i.e(47),i.e(61),i.e(62),i.e(68),i.e(74),i.e(148),i.e(192),i.e(218),i.e(258),i.e(299),i.e("symbol-details")]).then(i.bind(null,"TuZa")),Promise.resolve().then(i.t.bind(null,"q1tI",7)),Promise.resolve().then(i.t.bind(null,"i8i4",7))]).then(([e,i,n,s])=>{t===this._loadModulePromise&&(this._headerRenderer=()=>{s.render(n.createElement(e.DetailsHeader,Object.assign({},this._headerProps.value())),this._headerContainer)},this._contentRenderer=()=>{s.render(n.createElement(i.Details,Object.assign({},this._contentProps.value())),this._container)},this._headerRenderer(),this._contentRenderer())})}_handleQuoteSessionScreenerUpdate(t){if(this._symbol!==t.symbolname)return;const{header:e,body:n}=Object(h.e)(this._symbol,t),{symbolname:s,description:o,listedExchange:r,type:a,pricescale:l,typespecs:c}=Object(h.f)(t);n.showTechnicalsDialog=s&&o&&r&&a?()=>function(t,e,n,s,o,r){return Promise.all([i.e("vendors"),i.e(0),i.e(1),i.e(7),i.e(11),i.e(27),i.e(60),i.e(223),i.e(261),i.e(401),i.e(571),i.e(10),i.e(68),i.e(148),i.e(218),i.e(256),i.e(336),i.e("technicals-dialog")]).then(i.bind(null,"ZUkS")).then(i=>{const a=new(0,i.TechnicalsDialogRenderer)(t,e,n,s,o,r);return null!==d&&d.hide(),a.show(),d=a,a})}(s,o,r,a,c,l):void 0,this._setHeaderProps(Object.assign(Object.assign({},e),{complete:Boolean(t.complete)})),this._setProps(Object.assign(Object.assign({},n),{complete:Boolean(t.complete&&t.completeScreener)}))}_handleQuoteSessionUpdate(t){if(this._symbol!==t.symbolname)return;const{average_volume:e,last_price:i,open_price:n,low_price:s,high_price:r,ask:a,bid:l,pricescale:c,volume:d,short_name:h,minmov:u,minmove2:g,fractional:p,change:m,change_percent:v,current_session:_,exchange:f,pro_name:w,type:b,sector:y,industry:C}=t.values;this._setProps({averageVolume:e,lastPrice:i,openPrice:n,lowPrice:s,highPrice:r,ask:a,bid:l,pricescale:c,volume:d,shortName:h,minMovePrimary:u,minMoveSecondary:g,fractional:p,change:m,changePercent:v,currentSession:_,exchange:f,proName:w,type:b,sector:y,industry:C,invalid:"ok"!==t.status,symbolDescription:Object(o.getTranslatedSymbolDescription)(t.values)})}_setHeaderProps(t){this._headerProps.setValue(Object.assign(Object.assign({},this._headerProps.value()),t))}_setProps(t){this._contentProps.setValue(Object.assign(Object.assign({},this._contentProps.value()),t))}}const p=g},ikwP:function(t,e,i){"use strict";i.r(e),i.d(e,"Size",(function(){return r})),i.d(e,"getCanvasDevicePixelRatio",(function(){return a})),i.d(e,"getContext2D",(function(){return l})),i.d(e,"getPrescaledContext2D",(function(){return c})),
i.d(e,"getPretransformedContext2D",(function(){return d})),i.d(e,"hardResizeCanvas",(function(){return h})),i.d(e,"resizeCanvasPreservingContent",(function(){return u})),i.d(e,"fillRect",(function(){return g})),i.d(e,"clearRect",(function(){return p})),i.d(e,"drawScaled",(function(){return m})),i.d(e,"createDisconnectedCanvas",(function(){return v})),i.d(e,"createDisconnectedBoundCanvas",(function(){return _})),i.d(e,"createBoundCanvas",(function(){return w})),i.d(e,"calcTextHorizontalShift",(function(){return b})),i.d(e,"disableSelection",(function(){return y}));var n=i("f2KN"),s=i("Eyy1"),o=i("Ialn");class r{constructor(t,e){this.w=t,this.h=e}equals(t){return this.w===t.w&&this.h===t.h}}function a(t){var e,i;return Math.max(1,(null===(i=null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||void 0===i?void 0:i.devicePixelRatio)||1)}function l(t){const e=Object(s.ensureNotNull)(t.getContext("2d"));return e.setTransform(1,0,0,1,0,0),e}function c(t){const e=Object(s.ensureNotNull)(t.getContext("2d")),i=a(t);return e.setTransform(i,0,0,i,0,0),e}function d(t){const e=Object(s.ensureNotNull)(t.canvas.getContext("2d"));return e.setTransform(t.pixelRatio,0,0,t.pixelRatio,0,0),e.translate(.5,.5),e}function h(t,e){t.resizeCanvas({width:0,height:0}),t.resizeCanvas({width:e.w,height:e.h})}function u(t,e){const i=_(document,e),n=c(i.canvas);return n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(t.canvas,0,0,t.canvasSize.width*t.pixelRatio,t.canvasSize.height*t.pixelRatio),n.restore(),i}function g(t,e,i,n,s,o){t.save(),t.translate(-.5,-.5),t.fillStyle=o,t.fillRect(e,i,n,s),t.restore()}function p(t,e,i,n,s,o){t.save(),t.translate(-.5,-.5),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(e,i,n,s),t.restore()}function m(t,e,i){t.save(),t.scale(e,e),i(),t.restore()}function v(t,e,i){const n=f(t);return void 0===i&&(i=a(n)),n.width=e.w*i,n.height=e.h*i,n}function _(t,e){const i=f(t),s=Object(n.a)(i,{allowDownsampling:!1});return s.resizeCanvas({width:e.w,height:e.h}),s}function f(t){const e=t.createElement("canvas");return y(e),e}function w(t,e){const i=f(Object(s.ensureNotNull)(t.ownerDocument));t.appendChild(i);const o=Object(n.a)(i,{allowDownsampling:!1});return o.resizeCanvas({width:e.w,height:e.h}),o}function b(t,e){return"center"===t.textAlign?0:Object(o.isRtl)()?"start"===t.textAlign||"right"===t.textAlign?e:0:"start"===t.textAlign||"left"===t.textAlign?0:e}function y(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.msUserSelect="none",t.style.MozUserSelect="none",t.style.webkitTapHighlightColor="transparent"}},ioEH:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" width="16px" height="15px"><path fill-rule="evenodd" d="M1.6 0C.72 0 .008.675.008 1.5L0 15l3.2-3h11.2c.88 0 1.6-.675 1.6-1.5v-9c0-.825-.72-1.5-1.6-1.5H1.6zm4.823 6.36L8.73 8.37c.38.332 1.004.265 1.286-.138l2.856-4.082c.245-.35.128-.814-.26-1.035-.39-.22-.905-.115-1.15.235L9.15 6.648 6.907 4.693c-.362-.315-.95-.272-1.25.09l-2.492 3.02c-.275.332-.198.802.17 1.05.37.246.892.177 1.167-.156l1.92-2.338z"/></svg>'},jAh7:function(t,e,i){"use strict";i.r(e),i.d(e,"OverlapManager",(function(){return o})),i.d(e,"getRootOverlapManager",(function(){return a}));var n=i("Eyy1");class s{constructor(){this._storage=[]}add(t){this._storage.push(t)}remove(t){this._storage=this._storage.filter(e=>t!==e)}has(t){return this._storage.includes(t)}getItems(){return this._storage}}class o{constructor(t=document){this._storage=new s,this._windows=new Map,this._index=0,this._document=t,this._container=t.createDocumentFragment()}setContainer(t){const e=this._container,i=null===t?this._document.createDocumentFragment():t;!function(t,e){Array.from(t.childNodes).forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&e.appendChild(t)})}(e,i),this._container=i}registerWindow(t){this._storage.has(t)||this._storage.add(t)}ensureWindow(t,e={position:"fixed",direction:"normal"}){const i=this._windows.get(t);if(void 0!==i)return i;this.registerWindow(t);const n=this._document.createElement("div");if(n.style.position=e.position,n.style.zIndex=this._index.toString(),n.dataset.id=t,void 0!==e.index){const t=this._container.childNodes.length;if(e.index>=t)this._container.appendChild(n);else if(e.index<=0)this._container.insertBefore(n,this._container.firstChild);else{const t=this._container.childNodes[e.index];this._container.insertBefore(n,t)}}else"reverse"===e.direction?this._container.insertBefore(n,this._container.firstChild):this._container.appendChild(n);return this._windows.set(t,n),++this._index,n}unregisterWindow(t){this._storage.remove(t);const e=this._windows.get(t);void 0!==e&&(null!==e.parentElement&&e.parentElement.removeChild(e),this._windows.delete(t))}getZindex(t){const e=this.ensureWindow(t);return parseInt(e.style.zIndex||"0")}moveToTop(t){if(this.getZindex(t)!==this._index){this.ensureWindow(t).style.zIndex=(++this._index).toString()}}removeWindow(t){this.unregisterWindow(t)}}const r=new WeakMap;function a(t=document){const e=t.getElementById("overlap-manager-root");if(null!==e)return Object(n.ensureDefined)(r.get(e));{const e=new o(t),i=function(t){const e=t.createElement("div");return e.style.position="absolute",e.style.zIndex=150..toString(),e.style.top="0px",e.style.left="0px",e.id="overlap-manager-root",e}(t);return r.set(i,e),e.setContainer(i),t.body.appendChild(i),e}}},jJ9P:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><g stroke="#cdbd28" stroke-linecap="round" stroke-width="0"><path d="M0 13h2v2H0zM3 13h13v2H3zM0 9h2v2H0zM3 5h13v2H3zM0 4.998h2v2H0zM3 9h13v2H3zM0 1h2v2H0zM3 1h13v2H3z"/></g></svg>'},jkvV:function(t,e,i){"use strict"
;i.r(e);i("YFKU");var n=i("q1tI"),s=i("TSYQ"),o=i("XAms"),r=i("Wz44");const a="http://www.w3.org/2000/svg";function l(t){const{direction:e,theme:i=r}=t;return n.createElement("svg",{xmlns:a,width:"9",height:"27",viewBox:"0 0 9 27",className:s(i.container,"right"===e?i.mirror:null),onContextMenu:o.a},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{className:i.background,d:"M4.5.5a4 4 0 0 1 4 4v18a4 4 0 1 1-8 0v-18a4 4 0 0 1 4-4z"}),n.createElement("path",{className:i.arrow,d:"M5.5 10l-2 3.5 2 3.5"})))}i.d(e,"Hider",(function(){return h}));const c=window.t("Hide Tab"),d=window.t("Open Tab");function h(t){const e=s(t.className,"apply-common-tooltip","common-tooltip-vertical","common-tooltip-otl");return n.createElement("div",{className:e,onClick:t.onClick,title:t.isMinimized?d:c},n.createElement(l,{direction:t.isMinimized?"left":"right"}))}},kGUJ:function(t,e,i){"use strict";i.r(e);var n=i("q1tI"),s=i("i8i4"),o=i("0UyP"),r=i("ku9n"),a=i("CYdy"),l=i("34Bw"),c=i("4Hmh"),d=i("R1a7"),h=i("hY0g"),u=i.n(h);class g{constructor(){var t;this._count=new u.a(0),this._filterer=a.a.getInstance(),this._prevCount=0,this._updateCountWithPushStream=t=>{t.locale===window.locale&&(t.state===l.j.Live?(++this._prevCount,this._setCounter()):t.state===l.j.Ended&&(--this._prevCount,this._setCounter()))},this._setCounter=()=>{null!==this._filterer&&null!==this._filterer.getFiltersState().live&&null!==this._filterer.getFiltersState().notificationLive&&this._filterer.getFiltersState().notificationLive?this._count.setValue(this._prevCount):this._count.setValue(0)},this._onLoadListLiveStreams(),null===(t=this._filterer)||void 0===t||t.subscribe(this._setCounter),Object(d.a)().then(t=>{t.globalStreamsChange().subscribe(null,this._updateCountWithPushStream)})}getCount(){return this._count}destroy(){var t;null===(t=this._filterer)||void 0===t||t.unsubscribe(this._setCounter),Object(d.a)().then(t=>{t.globalStreamsChange().unsubscribe(null,this._updateCountWithPushStream)}),this._filterer=null}_onLoadListLiveStreams(){Promise.all([i.e(133),i.e("gql-request")]).then(i.bind(null,"3Acn")).then(t=>{(new t.GqlRequest).getListLiveStreamUrl(window.locale).then(t=>null!==t&&this._notifications(t))})}_notifications(t){this._prevCount=t.streams.length,this._setCounter()}}i.d(e,"StreamsWidgetRenderer",(function(){return p}));class p extends r.a{constructor(t){super(t),this._streamNotificationService=new g,this._streams=null,this._mounted=!1,this._headerRenderer=null,this._contentRenderer=null,this._updateHeader=()=>{this._headerRenderer&&this._headerRenderer()},this._updateContent=()=>{this._contentRenderer&&this._contentRenderer()},this._updateStateStreamStorage=t=>{this._mounted||t.state===l.j.Scheduled||(this._streams=c.StreamStorage.getInstance("widget"),this._streams.isFilled=!1)},this._sendSnowPlowAnalytics=()=>{Object(o.getTracker)().then(t=>{null!==t&&t.trackStreamsActions(window.locale,"settingsStreamWidget",null)})},this._setCounter=()=>{this._bridge.clearNotifications(),this._bridge.notify(null,{
notificationValue:this._streamNotificationService.getCount().value(),force:!0})},this._bridge=t,this._filterer=a.a.getInstance(),this._streamNotificationService.getCount().subscribe(this._setCounter),Object(d.a)().then(t=>{t.globalStreamsChange().subscribe(null,this._updateStateStreamStorage)})}mount(){this._mounted||(this._mounted=!0,this._filterer.subscribe(this._updateHeader),this._filterer.subscribe(this._updateContent),this._filterer.subscribe(this._sendSnowPlowAnalytics),this._load(),Object(o.getTracker)().then(t=>{null!==t&&t.trackStreamsActions(window.locale,"openStreamWidget",null)}))}unmount(){this._mounted&&(this._mounted=!1,this._filterer.unsubscribe(this._updateHeader),this._filterer.unsubscribe(this._updateContent),this._filterer.unsubscribe(this._sendSnowPlowAnalytics),super.unmount(),this._loadModulePromise=null)}destroy(){this._streamNotificationService.getCount().unsubscribe(this._setCounter),this._streamNotificationService.destroy(),super.destroy()}_load(){if(this._headerRenderer&&this._contentRenderer)return this._headerRenderer(),void this._contentRenderer();const t=()=>({filtersState:this._filterer.getFiltersState(),settingsCallbacks:{onLiveClick:()=>this._filterer.toggleFilter("live"),onRecentClick:()=>this._filterer.toggleFilter("recent"),onNotificationLiveClick:()=>this._filterer.toggleFilter("notificationLive")}}),e=this._loadModulePromise=Promise.all([Promise.all([i.e(2),i.e(6),i.e(34),i.e(40),i.e(50),i.e(64),i.e(123),i.e(221),i.e(477),i.e(47),i.e(198),i.e("streams-widget")]).then(i.bind(null,"EW6+")),Promise.all([i.e(2),i.e(6),i.e(34),i.e(40),i.e(50),i.e(64),i.e(123),i.e(221),i.e(477),i.e(47),i.e(198),i.e("streams-widget")]).then(i.bind(null,"moSK"))]).then(([i,o])=>{e===this._loadModulePromise&&(this._headerRenderer=()=>{s.render(n.createElement(o.StreamHeader,Object.assign({},t())),this._headerContainer)},this._contentRenderer=()=>{s.render(n.createElement(i.WrapperStreamList,null),this._container)},this._headerRenderer(),this._contentRenderer())})}}},kTIc:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 15" width="18" height="15"><g fill="none" stroke="currentColor"><path d="M12.5 2.5l5 5-5 5M10.5.5l-3 14M5.5 2.5l-5 5 5 5"/></g></svg>'},ku9n:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t){this.hasLifecycle=!0,this._loadModulePromise=null;const{container:e,header:i,id:n}=t;this._container=e,this._headerContainer=i,this._widgetId=n}unmount(){const t=i.c.i8i4;if(t){const e=t.exports;e.unmountComponentAtNode(this._container),e.unmountComponentAtNode(this._headerContainer)}}destroy(){this._loadModulePromise=null,this.unmount()}}},lpmC:function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"Earnings",(function(){return h}));i("+Lx6");var n=i("sFgq"),s=i("c2JX"),o=i("MwoA"),r=i("X19y"),a=i("Vdly"),l=i.n(a),c=i("xlbu"),d=i("55Xp");function h(t){this._bridge=t,this._properties=t.properties,this.settingsKey="ecalendar.market",this._defaultMarket=Object(o.a)(window.locale||"en"),
this._market=l.a.getValue(this.settingsKey)||this._defaultMarket,this._$container=t.$body,this._bridgeSymbol=t.symbol,this._initMe(),this._initFeed(!0),this._createHeaderButtons()}h.prototype.lastData=null,h.prototype.resize=function(){var t=Math.max(0,this._$container.height()-this.$headerContent.outerHeight());this._$widget.height(t),this._scroll&&this._scroll.resize()},h.prototype._initMe=function(){this._$container.on("contextmenu",t=>t.preventDefault()),this.$headerContent=$("<div>").addClass("calendar-widget header").appendTo(this._$container),$("<div title = "+$.t("Symbol")+">"+$.t("Symbol")+"</div>").addClass("calendar-widget-w-20").appendTo(this.$headerContent),$("<div title = "+$.t("Company")+">"+$.t("Company")+"</div>").addClass("calendar-widget-w-60").appendTo(this.$headerContent),$("<div title = "+$.t("Estimate")+">"+$.t("Estimate")+"</div>").addClass("calendar-widget-w-20 i-align_right").appendTo(this.$headerContent),this._$widget=$('<div class="calendar-widget-scnt">').appendTo(this._$container),this._$data=$('<div class="calendar-widget-dcnt">').appendTo(this._$widget),this._bridgeSymbol.subscribe(function(t){if(t){var e=t.split(":");if(e[1]&&this._activeSymbol!==t&&(this._activeSymbol=t,null!==this.lastData)){this._dropActive();var i=this._currentSymbols[e[1]]||this._currentSymbols[t];i&&i[0].addClass("active")}}}.bind(this),{callWithLast:!0}),this._scroll=new n.SidebarCustomScroll(this._$widget,this._$data),this._bridge.height.subscribe(this.resize.bind(this),{callWithLast:!0})},h.prototype._closeConfigPopup=function(){this._$popup&&(this._$popup.remove(),this._$popup=null)},h.prototype._createConfigPopup=function(){if(this._$popup)return;var t=this._$configButton,e=$("<div>").addClass("tv-e-calendar-popup");this._$popup=e,e.on("mousedownoutside",function(e){$(e.target).parents().andSelf().is(t)||this._closeConfigPopup()}.bind(this)),t.addClass("active");var i=$("<div>").addClass("tv-e-calendar-config").appendTo(e);this._createConfigPopupMarkets().appendTo(i);var n=t.offset();n.width=t.outerWidth(),n.height=t.outerHeight(),t.parents().each((function(){var t=$(this);n.left-=t.scrollLeft()||0,n.top-=t.scrollTop()||0})),e.css({position:"fixed",left:0,top:n.top+n.height+1}),e.appendTo(document.body);const s=e.get(0).getBoundingClientRect();e.css({left:n.left+n.width-s.width,height:s.height-Math.abs(window.innerHeight-(s.top+s.height))-20})},h.prototype._getMarketTitle=function(t){return`${t.title} (${t.stocks.join(", ")})`},h.prototype._createConfigPopupMarkets=function(){const t=Object(o.d)("stocks"),e=$("<div>").addClass("tv-e-calendar-config__markets");let i;const n=Object.keys(t).sort((t,e)=>t<e?-1:t>e?1:0),s=n.indexOf(this._defaultMarket);return~s&&n.splice(s,1),n.unshift(this._defaultMarket),n.forEach(n=>{i=t[n],
$("<div>").addClass("tv-e-calendar-config__market-button js-e-calendar-choose-market").data("market",n).toggleClass("tv-e-calendar-config__market-button--active",n===this._market).append($(Object(r.a)(i.flag))).append(`<span class="tv-e-calendar-config__market-button-title">${this._getMarketTitle(i)}</span>`).appendTo(e)}),e.on("click",".js-e-calendar-choose-market",t=>{const e=this._market=$(t.currentTarget).data("market");e&&(l.a.setValue(this.settingsKey,e,{forceFlush:!0}),this._closeConfigPopup(),this._initFeed(!0),this._createHeaderButtons())}),e},h.prototype._createHeaderButtons=function(){const t=Object(o.d)("stocks")[this._market];this._$configButton&&this._$configButton.remove(),this._$configButton=$("<a>").addClass(`apply-common-tooltip tv-flag-country tv-flag-country--${t.flag} tv-e-calendarwidget-inline-select-wrapper`).attr("title",this._getMarketTitle(t)).html(Object(r.a)(t.flag)).appendTo(this._bridge.$headerspace).on("click",function(t){t.preventDefault(),this._$popup?this._closeConfigPopup():this._createConfigPopup()}.bind(this))},h.prototype.toggleDay=function(t){$(t.data.hider).toggleClass("hidden"),t.data.me.resize()},h.prototype._setSymbol=function(t,e){this._bridgeSymbol.setValue&&this._bridgeSymbol.setValue(t)},h.prototype._activeSymbol=null,h.prototype._dropActive=function(){this._$data.find("div.calendar-widget.active").removeClass("active")},h.prototype._currentSymbols={},h.prototype._renderMe=function(){var e=this;e._currentSymbols={};var i=this.lastData;if(i){for(var n=t().startOf("day").valueOf(),s=t().startOf("day").add(5,"days").valueOf(),o=0,r=i.length;o<r;o++)n<=1e3*i[o].d[3]&&1e3*i[o].d[3]<=s&&(i[o].d[1]=i[o].d[3],i[o].d[2]=i[o].d[4]);i=i.sort((function(t,e){var i=t.d[1],n=e.d[1];return i<n?-1:i>n?1:0})),this._$data.empty();var a=[$.t("January"),$.t("February"),$.t("March"),$.t("April"),$.t("May"),$.t("June"),$.t("July"),$.t("August"),$.t("September"),$.t("October"),$.t("November"),$.t("December")],l=e._activeSymbol;l&&(l=""+l.split(":")[1]);for(o=0,r=i.length;o<r;o++){var c=i[o],h=c.d,u=h[0];if(!h||!u)continue;const n=t(),s=`${a[n.month()]} ${n.date()}`;var g,p=t(1e3*h[1]),m=a[p.month()]+" "+p.date(),v=p.format("L").replace(" ","");this._currentDayname!==m&&(this._currentDayname=m,g=$("<div>").addClass("calendar-widget day hand "+v),m===s&&g.addClass("today"),g.html(m).appendTo(this._$data),g.on("click",{hider:".erc"+v,me:e},e.toggleDay));var _=c.s;if(_){var f,w=_.split(":")[1],b=w===l?"active":"";f=h[2]?Object(d.roundToFirstValuable)(h[2]):"&nbsp;",e._currentSymbols[_]||(e._currentSymbols[_]=[]);var y=$("<div>").addClass("calendar-widget erc"+v+" "+b).appendTo(this._$data);y.addClass("regular").on("click",{symbol:_,container:y,me:e},(function(t){var e=t.data;e.me._dropActive(),e.me._setSymbol(e.symbol,e.container)})),y.symbol=$('<div title="'+_+'">'+w+"</div>").addClass("calendar-widget-w-20 symbol").appendTo(y),y.title=$('<div title="'+u+'">'+u+"</div>").addClass("calendar-widget-w-60").appendTo(y),
y.est=$('<div title="'+f+'">'+f+"</div>").addClass("calendar-widget-w-20 i-align_right").appendTo(y),e._currentSymbols[_].push(y)}}delete this._currentDayname}},h.prototype.backendUrl=function(){return(window.EARNINGS_CALENDAR_URL||"")+"/"+this._market+"/"},h.prototype._initFeed=function(e){e&&(this._spinner=new s.Spinner("mini").spin(this._$widget.get(0)));var i=Date.now(),n=36e5;$.ajax(this.backendUrl()+"scan",{type:"POST",data:JSON.stringify({filter:[{left:"earnings_release_date,earnings_release_next_date",operation:"in_range",right:[t().startOf("day").valueOf()/1e3,t().startOf("day").add(5,"days").valueOf()/1e3]}],columns:["description","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_release_date","earnings_per_share_forecast_fq"]}),dataType:"json",xhrFields:{withCredentials:!0}}).done(function(t,s,o){var r=Date.now()-i;c.telemetry.sendReport("calendars","earnings_http_status",{value:o.status,additional:{source:"EarningsCalendarWidget"}}),c.telemetry.sendReport("calendars","earnings_response_time_frame",{value:r,additional:{source:"EarningsCalendarWidget"}}),t&&!t.error&&t.data?(e&&(this._spinner.stop(),delete this._spinner),n=t.expiration||n,this.lastData=t.data||this.lastData,this._renderMe.call(this),c.telemetry.sendReport("calendars","earnings_ok")):c.telemetry.sendReport("calendars","earnings_error"),window.setTimeout(function(){this._initFeed.call(this)}.bind(this),n)}.bind(this)).fail(function(t){var e=Date.now()-i;c.telemetry.sendReport("calendars","earnings_http_status",{value:t.status,additional:{source:"EarningsCalendarWidget"}}),c.telemetry.sendReport("calendars","earnings_response_time_frame",{value:e,additional:{source:"EarningsCalendarWidget"}}),window.setTimeout(function(){this._initFeed.call(this)}.bind(this),n)}.bind(this))}}.call(this,i("ldgD"))},"m2+w":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("VVxS"),s=i("Kxc7");const o=["short_name","last_price","change","change_percent"],r=["short_name","last_price","change_percent"];class a{get(){if(s.enabled("widget"))return r;const t=n.TVLocalStorage.getItem("widget.watchlist.view-state");return this._parse(t)||o}set(t){s.enabled("widget")||(null===t?n.TVLocalStorage.removeItem("widget.watchlist.view-state"):n.TVLocalStorage.setItem("widget.watchlist.view-state",JSON.stringify(this._normalize(t))))}_parse(t){if(null===t)return null;try{const e=JSON.parse(t);return Array.isArray(e)?this._normalize(e):null}catch(e){return null}}_normalize(t){const e=t.filter(t=>"string"==typeof t),i=new Set(e),n=new Set(["short_name","volume","last_price","change","change_percent","rchp"]);return Array.from(i).filter(t=>n.has(t))}}},n2KA:function(t,e,i){"use strict";i.r(e),i.d(e,"BadgeAccount",(function(){return d})),i.d(e,"renderBadgeAccount",(function(){return h}));var n=i("mrSG"),s=i("q1tI"),o=i("i8i4"),r=i("o9lb"),a=i("VZBT"),l=i("LsFU"),c=i("bbtx");function d(t){const{name:e,href:i}=t,o=Object(n.d)(t,["name","href"]);return Object(l.isBadgeUser)(e)?s.createElement(r.a,Object.assign({name:e,href:i
},o)):Object(c.isBadgeBroker)(e)?s.createElement(a.a,Object.assign({name:e,href:i},o)):null}function h(t,e){o.render(s.createElement(d,Object.assign({},e)),t)}},nVo0:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="22" height="22"><path d="M6.5 1C5.67 1 5 1.67 5 2.5v1C5 4.33 5.67 5 6.5 5S8 4.33 8 3.5v-1C8 1.67 7.33 1 6.5 1zm8 0c-.83 0-1.5.67-1.5 1.5v1c0 .83.67 1.5 1.5 1.5S16 4.33 16 3.5v-1c0-.83-.67-1.5-1.5-1.5zM1 4v16h19V4h-3.05c-.238 1.164-1.262 2-2.45 2-1.186-.002-2.208-.838-2.445-2H8.95C8.71 5.164 7.687 6 6.5 6c-1.186-.002-2.208-.838-2.445-2H1zm20 2v15H3v1h19V6h-1zM2 8h17v11H2V8zm3 1v3h3V9H5zm4 0v3h3V9H9zm4 0v3h3V9h-3zm-8 4v3h3v-3H5zm4 0v3h3v-3H9zm4 0v3h3v-3h-3z"/></svg>'},o0rh:function(t,e,i){"use strict";i.r(e),i.d(e,"AlertsManageWidget",(function(){return s}));var n=i("ku9n");class s extends n.a{constructor(t){super(t),this._props=t,this.mount()}mount(){const t=Promise.all([i.e("vendors"),i.e(2),i.e(34),i.e(50),i.e(64),i.e(180),i.e(358),i.e(380),i.e(450),i.e(41),i.e(47),i.e(90),i.e(158),i.e(305),i.e(307),i.e("alerts-manage-widget-impl")]).then(i.bind(null,"CvwY")).then(e=>{this._loadModulePromise===t&&(this._impl=new e.AlertsManageWidgetImpl(this._props))});this._loadModulePromise=t}unmount(){var t;this._loadModulePromise=null,null===(t=this._impl)||void 0===t||t.destroy(),delete this._impl,super.unmount()}}},o9lb:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i("mrSG"),s=i("q1tI"),o=i("TSYQ"),r=i("LsFU"),a=i("IhIr");i("w78M");function l(t){const{name:e,size:i,className:o,title:l}=t,d=Object(n.d)(t,["name","size","className","title"]);return s.createElement(a.Badge,Object.assign({className:c(e,i,o),title:Object(r.isBadgeUserWithTitle)(e)?l:void 0,size:i},d))}function c(t,e=a.Size.Medium,i){return o("tv-badge-user",Object(r.isProPremium)(t)&&["tv-badge-user__pro-premium","tv-badge-user__pro-premium--"+e],Object(r.isProRealtime)(t)&&["tv-badge-user__pro-realtime","tv-badge-user__pro-realtime--"+e],Object(r.isPro)(t)&&["tv-badge-user__pro","tv-badge-user__pro--"+e],Object(r.isTop)(t)&&["tv-badge-user__top","tv-badge-user__top--"+e],Object(r.isModerator)(t)&&["tv-badge-user__moderator","tv-badge-user__moderator--"+e],Object(r.isTrial)(t)&&"tv-badge-user--trial",i)}},ohw9:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m29.5 10a4.5 4.5 0 0 1 4.5 4.5v15a4.5 4.5 0 0 1-4.5 4.5h-15a4.5 4.5 0 0 1-4.5-4.5v-15a4.5 4.5 0 0 1 4.5-4.5m0 1a3.5 3.5 0 0 0-3.5 3.5v15a3.5 3.5 0 0 0 3.5 3.5h15a3.5 3.5 0 0 0 3.5-3.5v-15a3.5 3.5 0 0 0-3.5-3.5M16 8h1v5h-1m11-5h1v5h-1M16 27a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m-6-7a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m-12-7a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2"/></svg>'},oiRj:function(t,e,i){"use strict";i.r(e),i.d(e,"publishChart",(function(){return c})),i.d(e,"publishChartWidget",(function(){return d})),i.d(e,"setPublishChartOptions",(function(){return h}));i("P5fv");var n=i("xFpA"),s=i("DIB2"),o=i("Vdly");let r,a=0;function l(){clearTimeout(a),$(".publish-chart-button").removeClass("process")}function c(t,e){const c=Object.assign(Object.assign({},t),r);return new Promise(t=>{window.runOrSignIn(()=>{!function(){const t=$(".publish-chart-button");0!==t.length&&(t.addClass("process"),a=setTimeout(l,3e4))}(),Object(n.whenVerified)({showDialog:!0,source:"Publish chart",silentPhoneVerification:null==c?void 0:c.silentPhoneVerification}).done(()=>{t(async function(t,e){if(!0===e||!o.getBool("publish.showIntroText",!0))return window.saver.publishChart(t);const{createPublishIntroDialog:n}=await Promise.all([i.e("vendors"),i.e(0),i.e(1),i.e(2),i.e(7),i.e(11),i.e(13),i.e(15),i.e(16),i.e(176),i.e(10),i.e(153),i.e("publish-intro-dialog")]).then(i.bind(null,"1ePh")),r=await n({type:s.a.Idea});return o.setValue("publish.showIntroText",!r),window.saver.publishChart(t)}(c,e))}).fail(t=>(null==c?void 0:c.onPublishError)&&c.onPublishError(t)).always(l)},{source:"Publish chart",sourceMeta:"Chart"})})}function d(t){c(t,!0)}function h(t){r=t}},oiZD:function(t,e,i){"use strict";i.r(e),i.d(e,"watchedTheme",(function(){return r})),i.d(e,"setTheme",(function(){return a}));var n=i("hY0g"),s=i.n(n),o=i("bMzf");const r=new s.a;function a(t){r.setValue(t)}r.subscribe(t=>{Object(o.applyTheme)(t,window)})},pM3Z:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 14" width="15px" height="14px"><path d="M1.25 0C.562 0 .006.573.006 1.273L0 14l2.5-3h11.25c.688 0 1.25-.573 1.25-1.273V1.273C15 .573 14.437 0 13.75 0H1.25zM12 8H3V6h9v2zm0-3H3V3h9v2z"/></svg>'},tBUM:function(t,e,i){"use strict";i.r(e),i.d(e,"WidgetBarTabButtonViewModel",(function(){return r}));var n=i("hY0g"),s=i.n(n);const o={isActive:!1,notificationCount:0};class r{constructor(t){const e=Object.assign(Object.assign({},o),t);this.isActive=new s.a(e.isActive),this.notificationsCount=new s.a(e.notificationCount),this.icon=new s.a(e.icon),this.hint=new s.a(e.hint),
this.onClick=new s.a(e.onClick),this.TabButtonComponent=t.TabButtonComponent}onActiveStateChange(t){this.isActive.setValue(t)}updateNotifications(t){this.notificationsCount.setValue(t)}}},tWVy:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));var n=i("aIyQ");const s=new(i.n(n).a);function o(){s.fire()}},uDbD:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="M22.5 12a1 1 0 0 1 0 21 1 1 0 0 1 0-21m0 1a1 1 0 0 0 0 19 1 1 0 0 0 0-19m-7.15 16.85l.8.6-2.05 2.75-.8-.6zm13.48.57l.8-.6 2.07 2.78-.8.6zM22 22v-7h1v8h-6v-1zm9.93-2.95l-.58-.81a4 4 0 1 0-5.84-5.2l-.87-.49a5 5 0 1 1 7.3 6.5zm-11.57-6.5l-.87.48a4 4 0 1 0-5.9 5.17l-.6.8a5 5 0 1 1 7.36-6.46z"/></svg>'},uJ8n:function(t,e,i){t.exports={wrap:"wrap-379NmUSU",scrollWrap:"scrollWrap-379NmUSU",noScrollBar:"noScrollBar-379NmUSU",content:"content-379NmUSU",icon:"icon-379NmUSU",scrollBot:"scrollBot-379NmUSU",scrollTop:"scrollTop-379NmUSU",isVisible:"isVisible-379NmUSU",iconWrap:"iconWrap-379NmUSU",fadeBot:"fadeBot-379NmUSU",fadeTop:"fadeTop-379NmUSU"}},uo4K:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="currentColor" d="M5.18 6.6L1.3 2.7.6 2 2 .59l.7.7 3.9 3.9 3.89-3.9.7-.7L12.61 2l-.71.7L8 6.6l3.89 3.89.7.7-1.4 1.42-.71-.71L6.58 8 2.72 11.9l-.71.7-1.41-1.4.7-.71 3.9-3.9z"/></svg>'},vOQ2:function(t,e,i){"use strict";var n;i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return r})),function(t){t.DomPanel="domPanel",t.OrderPanel="orderPanel"}(n||(n={}));const s=400,o=315,r=451},vTLT:function(t,e,i){t.exports={tableContainer:"tableContainer-3G2BFxc6",table:"table-3G2BFxc6"}},vqb8:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("q1tI");const s=t=>{const e="watchedValue"in t?t.watchedValue:void 0,i="defaultValue"in t?t.defaultValue:t.watchedValue.value(),[s,o]=Object(n.useState)(e?e.value():i);return Object(n.useEffect)(()=>{if(e){o(e.value());const t=t=>o(t);return e.subscribe(t),()=>e.unsubscribe(t)}return()=>{}},[e]),s}},vvCS:function(t,e,i){t.exports={counter:"counter-1nuJd9UN"}},w68K:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" width="16px" height="15px"><path fill-rule="evenodd" d="M0 14.66h2.91V5.864H0v8.796zm16-8.063c0-.806-.655-1.466-1.455-1.466h-4.59l.692-3.35.022-.232c0-.3-.126-.58-.32-.777L9.576 0 4.793 4.83c-.27.264-.43.63-.43 1.034v7.33c0 .806.655 1.466 1.455 1.466h6.546c.603 0 1.12-.367 1.338-.895l2.196-5.167c.066-.17.102-.345.102-.535v-1.4l-.007-.008.007-.058z"/></svg>'},w78M:function(t,e,i){},wfKj:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("zM7N"),s=i("YFKU"),o=i("IMMp"),r=i("NWKS"),a=i("HGP3");const l={[n.StdTheme.Light]:{name:n.StdTheme.Light,label:()=>Object(s.t)("Light",{context:"colorThemeName"}),order:2,getThemedColor:t=>Object(a.getHexColorByName)(t)},[n.StdTheme.Dark]:{name:n.StdTheme.Dark,
label:()=>Object(s.t)("Dark",{context:"colorThemeName"}),order:1,getThemedColor:t=>{const e=o[t]||t;return Object(a.getHexColorByName)(e)}}};l.sa={isPrivate:!0,noChartTheme:!0,name:"sa",getThemedColor:t=>{const e=r[t]||t;return Object(a.getHexColorByName)(e)}}},whzu:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("eYFQ"),s=i("9nb6"),o=i("ogJP"),r=i("vTLT");function a(t){if(void 0!==t.children)return function t(e){for(const i of e)if("string"!=typeof i)if("table"!==i.type){if(i.children&&t(i.children),"symbol"===i.type){const t=Object(s.a)(i.params.symbol);i.params.pageUrl=Object(n.makeSymbolPageUrl)(t),i.params.text=t.shortName}}else{const t=Object(o.clone)(i);t.className=r.table,i.type="div",i.children=[t],i.className=r.tableContainer}return e}(t.children),t}function l(t){var e;const i=null===(e=t.relatedSymbols)||void 0===e?void 0:e.sort((t,e)=>t.logoid||t["currency-logoid"]||t["base-currency-logoid"]?-1:1).slice(0,5);return Object.assign(Object.assign({},t),{relatedSymbols:i,astDescription:t.astDescription&&a(t.astDescription),published:1e3*t.published})}},wtQX:function(t,e,i){"use strict";i.r(e),i.d(e,"isExists",(function(){return c})),i.d(e,"load",(function(){return d})),i.d(e,"isLoaded",(function(){return h})),i.d(e,"onReady",(function(){return u}));var n=[],s={},o=!1;function r(t){return n.filter((function(e){return e.m===t}))[0]}function a(t){const e=r(t);e&&e.cb&&$.when(e.cb()).done((function(){e.state="loaded",e.args=Array.prototype.slice.call(arguments),delete e.cb,l(e.m)}))}function l(t){var e=r(t),i=t=>{t&&!t.length||(t.shift().apply(null,e.args),i(t))},n=s[t];n&&i(n)}function c(t){return!!r(t)}function d(t,e,i){if(e){const i=r(t);i?i.cb=e:n.push({m:t,cb:e})}(void 0!==i||o)&&function(t,e){"number"==typeof e?setTimeout(()=>a(t),e):(!0===e||o)&&a(t)}(t,i)}function h(t){var e=r(t);return e&&"loaded"===e.state}function u(t,e){var i=r(t);s[t]=s[t]||[],s[t].push(e),i&&"loaded"===i.state&&l(t)}setTimeout((function(){var t;for(o=!0,t=0;t<n.length;t+=1)a(n[t].m)}),5e3)},wvCj:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21" width="21" height="21"><path d="M6 1.5A4.5 1.5 0 0 0 1.5 3 4.5 1.5 0 0 0 6 4.5 4.5 1.5 0 0 0 10.5 3 4.5 1.5 0 0 0 6 1.5zm8.8 2.7a4.5 1.5 0 0 0-4.5 1.5 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-4.5-1.5zm-12.6.7a4.5 1.5 0 0 0-.7.8A4.5 1.5 0 0 0 6 7.2a4.5 1.5 0 0 0 3.8-.7v-.8c0-.2.1-.5.2-.7a4.5 1.5 0 0 0-.2-.1 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zm0 2.7a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 3 1.4v-.3c0-.4.2-.7.5-1 .2-.1.3-.1.4-.2a4.5 1.5 0 0 1-3.2-.7zm16.4 0a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-1.3-.1c.2.1.3.2.5.3.3.3.5.6.5 1v.4a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM9.5 8A4.5 1.5 0 0 0 5 9.5 4.5 1.5 0 0 0 9.5 11 4.5 1.5 0 0 0 14 9.5 4.5 1.5 0 0 0 9.5 8zm-7.3 2.3a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 3 1.4v-1.6a4.5 1.5 0 0 1-2.3-.6zm16.4 0a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-.3 0v1.6a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM5.7 11.4a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zM18.6 13a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-.3 0v1.6a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM5.7 14.1a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zm0 2.7a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7z"/></svg>'},wy57:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M2.5 14.5c1.68-1.26 3.7-2 6.5-2s4.91.74 6.5 2m-13-11c1.68 1.26 3.7 2 6.5 2s4.91-.74 6.5-2"/><circle stroke="currentColor" cx="9" cy="9" r="8.5"/><path stroke="currentColor" d="M13.5 9c0 2.42-.55 4.58-1.4 6.12-.87 1.56-1.98 2.38-3.1 2.38s-2.23-.82-3.1-2.38c-.85-1.54-1.4-3.7-1.4-6.12s.55-4.58 1.4-6.12C6.77 1.32 7.88.5 9 .5s2.23.82 3.1 2.38c.85 1.54 1.4 3.7 1.4 6.12z"/></svg>'},wyNs:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return d}));var n=i("txPx");const s=Object(n.getLogger)("Lib.CountryCode"),o=/^[A-Z]{2}$/;function r(t){if(function(t){return o.test(t)}(t))return t;throw new Error("Invalid country code")}const a={ae:"AE",ar_AE:"SA",ar:"AR",au:"AU",be:"BE",bh:"BH",br:"BR",ca:"CA",ch:"CH",cl:"CL",co:"CO",de_DE:"DE",dk:"DK",ee:"EE",eg:"EG",es:"ES",fi:"FI",fr:"FR",hk:"HK",id:"ID",il:"IL",in:"IN",is:"IS",it:"IT",ja:"JP",kr:"KR",lt:"LT",lv:"LV",ms_MY:"MY",mx:"MX",ng:"NG",nl:"NL",no:"NO",nz:"NZ",pe:"PE",pl:"PL",pt:"PT",qa:"QA",rs:"RS",ru:"RU",sg:"SG",sv_SE:"SE",th_TH:"TH",tr:"TR",uk:"GB",us:"US",vi_VN:"VN",za:"ZA",zh_CN:"CN",zh_TW:"TW"};function l(t){try{return r(a[t])}catch(e){return s.logError(`Get ISO country code from country "${t}" failed: ${e.message}`),r(a.us)}}const c={ar_AE:"AE",br:"BR",ca:"CA",de_DE:"DE",en:"US",es:"ES",fr:"FR",he_IL:"IL",id:"ID",in:"IN",it:"IT",ja:"JP",kr:"KR",ms_MY:"MY",pl:"PL",ru:"RU",sv_SE:"SE",th_TH:"TH",tr:"TR",
uk:"GB",vi_VN:"VN",zh_CN:"CN",zh_TW:"TW"};function d(t){try{return r(c[t])}catch(e){return s.logError(`Get ISO country code from locale "${t}" failed: ${e.message}`),r(c.en)}}},xrkQ:function(t,e,i){t.exports={"css-value-widgets-margin":"4px",widget:"widget-1quyc-Kt",widgetHeader:"widgetHeader-1quyc-Kt",widgetTitle:"widgetTitle-1quyc-Kt",headerSpace:"headerSpace-1quyc-Kt"}},yLMQ:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" d="M23 18c0 2.75-2.25 5-5 5a5.02 5.02 0 0 1-3.23-8.83c.49-.46 1.03-.87 1.6-1.31l.15-.1c.46-.37.94-.74 1.4-1.15l.19.34c.26.48.49 1.08.49 1.65a10.9 10.9 0 0 1-.45 2.85l-.06.23-.01.06-.01.02-.18.64h.66c1.1 0 1.93-.4 2.5-1.06.38-.43.64-.95.8-1.5A4.84 4.84 0 0 1 23 18zm-1.79-5l-.13.8a3.8 3.8 0 0 1-.78 1.88c-.26.3-.62.54-1.09.65l.1-.46c.14-.66.29-1.53.29-2.27 0-.8-.32-1.58-.6-2.13a7.11 7.11 0 0 0-.6-.92l-.36-.45-.4.4c-.52.52-1.11.98-1.73 1.46l-.15.1c-.56.44-1.15.89-1.68 1.38A6.02 6.02 0 0 0 18 24c3.3 0 6-2.7 6-6a5.82 5.82 0 0 0-2.12-4.52zM10 4H9v2H6.5A2.5 2.5 0 0 0 4 8.5v11A2.5 2.5 0 0 0 6.5 22H10v-1H6.5A1.5 1.5 0 0 1 5 19.5v-11A1.5 1.5 0 0 1 6.5 7h13A1.5 1.5 0 0 1 21 8.5V10h1V8.5A2.5 2.5 0 0 0 19.5 6H17V4h-1v2h-6zm4 5h-2v2h2zM9 9H7v2h2zm-2 4h2v2H7zm0 4h2v2H7z"/></svg>'},yTtm:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 20" width="24" height="20" fill="none" stroke="currentColor"><path d="M.5 15.5V.5h23v15H.5zM4 19.5h15m-11-2h7"/><path d="M9.5 10.66V5.34c0-.38.4-.62.74-.44l4.94 2.66a.5.5 0 0 1 0 .88l-4.94 2.66a.5.5 0 0 1-.74-.44z"/></svg>'}}]);