(window.webpackJsonp=window.webpackJsonp||[]).push([[112,"chat-widget"],{UJOg:function(t,e,s){"use strict";s.r(e),function(t,e){s("v9OY");var o=s("IWoC");s("Lqq7");const i={wrap:'<span class="tv-control-select__wrap tv-dropdown-behavior {{ class }}{{# touch }} tv-control-select__wrap--touch{{/ touch }}{{# disabled }} i-disabled{{/ disabled }}{{# readonly }} tv-control-select__wrap--readonly{{/ readonly}}"><span class="tv-control-select__control{{^ touch }} tv-dropdown-behavior__button{{/ touch }}{{# disabled }} i-disabled{{/ disabled }}"><span class="tv-control-select__control-inner"></span></span>{{^ touch }}<span class="tv-control-select__dropdown tv-dropdown-behavior__body {{ dropdown_class }} i-hidden"><span class="tv-control-select__scroll tv-dropdown-behavior__scroll"><span class="tv-dropdown-behavior__inscroll">{{> route }}</span></span></span>{{/ touch }}<span class="tv-control-select__caret js-dropdown-toggle"></span></span>',route:"{{# items }}{{# option }}{{> option }}{{/ option }}{{^ option }}{{# optgroup }}{{> optgroup }}{{/ optgroup }}{{/ option }}{{/ items }}",optgroup:'{{# label }}<span class="tv-dropdown-behavior__item tv-control-select__optgroup-label">{{ label }}</span>{{/ label }}{{> route }}{{# separator }}<hr class="tv-control-select__optgroup-separator">{{/ separator }}',option:`<span data-id="{{ id }}" class="tv-dropdown-behavior__item tv-control-select__option{{# disabled }} i-disabled{{/ disabled }}">\n\t\t\t<span class="tv-control-select__option-wrap">\n\t\t\t{{# multiple }}\n\t\t\t\t<span class="tv-control-checkbox">\n\t\t\t\t\t<input class="tv-control-checkbox__input" type="checkbox" {{# selected }} checked{{/ selected }}>\n\t\t\t\t\t<span class="tv-control-checkbox__box">${s("aLUT")}</span>\n\t\t\t\t\t<span class="tv-control-checkbox__ripple js-ripple"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="tv-control-checkbox__label">{{ label }}</span>\n\t\t\t{{/ multiple }}\n\t\t\t{{^ multiple }}\n\t\t\t\t{{ label }}\n\t\t\t{{/ multiple }}\n\t\t\t</span>\n\t\t</span>`};class n{constructor(t={}){this._options=Object.assign({noAnimation:!0},t),this.touch=Modernizr.mobiletouch,this.$select=this._options.$select,this._selectElement=this.$select[0],this.multiple=!!this.$select.attr("multiple"),this._minDisplayCount=this._options.minDisplayCount||1,this._emptyString=this._options.emptyString||$.t("Nothing selected",{context:"combobox_input"}),this._defaultPlaceHoder=this._options.defaultPlaceHoder||!1,this.disabled=!!this.$select.is(":disabled"),this.readonly=this._options.readonly,this.options=[],this.filterQuery=[],this.items=this._parseDomItems(this.$select),this._render(),t.initialValue&&this.val(t.initialValue),this.$el.insertBefore(this.$select),this.$select.detach().addClass("i-inited").appendTo(this.$el)}val(t){this.multiple?this._setMultipleValues(t):this._setSingleValue(this._findOption(t))}enable(){this.disabled=!1,this.$el.add(this.$dropdown).removeClass("i-disabled"),this.touch||(this.$el.tvDropdown("enable"),this.$control.attr("tabindex",this.$select.attr("tabindex")||0))}disable(){
this.disabled=!0,this.$el.add(this.$dropdown).addClass("i-disabled"),this.touch||(this.$el.tvDropdown("disable"),this.$control.removeAttr("tabindex"))}setReadonly(t){this.readonly=t,this.$el.toggleClass("tv-control-select__wrap--readonly",t),this.$controlInner.toggleClass("tv-control-select__control-inner--readonly",t),this.$el.tvDropdown("setReadonly",t)}toggle(){this.disabled||this.readonly||(this.touch?this.$select.click():this.$el.tvDropdown("toggle"))}open(){this.disabled||this.readonly||(this.touch?this.$select.click():this.$el.tvDropdown("open"))}close(){this.disabled||this.readonly||(this.touch?this.$select.click():(this._focusOption(this._selectElement.selectedIndex),this.$el.tvDropdown("close")))}destroy(){this.$select.off("change"),this.$dropdown&&this.$dropdown.off("click"),this.$select.removeClass("i-inited").insertBefore(this.$el),this.$el.tvDropdown("destroy"),this.$el.remove()}updateItems(){this.options=[],this.items=this._parseDomItems(this.$select);const t=this._renderDropdown();if(!this.touch){this.$dropdown.find(".tv-control-select__option").remove();const e=this.$dropdown.find(".tv-dropdown-behavior__inscroll");this.$options=t.find(".tv-control-select__option");for(let t=0;t<this.$options.length;t++){const s=$(this.$options[t]),o=s.data("id");this.options[o]&&(this.options[o].$el=s,e.append(s))}}this.multiple?(this._updateSelectBoxTitle(),this._updateCheckBoxes()):this._updateSingleView(this._selectElement.selectedIndex)}_focusOption(t){const e=this.options[t].$el;if(this._focusedOption=t,!this.touch){if(this._clearFocus(),e.addClass("i-active"),!this.dropdownScroll||!this.opened)return;const t=this.dropdownScroll.currentPosition(),s=e.outerHeight(),o=e.position().top,i=this.dropdownScroll.getContainerHeightWithoutHeader(),n=-t+i<o+s;o<-t?this.dropdownScroll.scrollTo(o):n&&this.dropdownScroll.scrollTo(o+s)}}_setSingleValue(t){const e=this.options[t].value;(this.$select.val()&&this.$select.val().toString())!==e.toString()&&this.$select.val(e).trigger("change")}_updateSingleView(t){const e=this.options[t];e&&(this._focusOption(t),this._selectElement.selectedIndex=t,this.$controlInner.text(e.label),this.$controlInner.toggleClass("tv-control-select__control-inner--option-disabled",e.disabled))}_toggleOption(t){const e=this.options[t].value,s=this.$select.val()||[],o=s.indexOf(e);if(-1!==o)s.splice(o,1);else if(s.length){const t=this.options[this._findOption(e)].id,o=s.find(e=>this.options[this._findOption(e)].id>t);s.splice(o?s.indexOf(o):0,0,e)}else s.push(e);this._setMultipleValues(s)}_updateCheckBoxes(){const t=this.$select.val()||[];for(let e=0;e<this.items.length;e++){const s=this.items[e];s.$el.find(".tv-control-checkbox__input").prop("checked",-1!==t.indexOf(s.value))}}_updateSelectBoxTitle(){const t=this.$select.val()||[];if(t.length&&!this._defaultPlaceHoder)if(t.length===this.items.length)this.$controlInner.text($.t("All items",{context:"combobox_input"}));else if(t.length>this._minDisplayCount)this.$controlInner.text($.t("{0} item",{plural:"{0} items",count:t.length,
context:"combobox_input"}).format(t.length));else{const e=t.map(t=>this.options[this._findOption(t)].label);this.$controlInner.text(e.join(", "))}else this.$controlInner.text(this._emptyString)}_setMultipleValues(t){this.$select.find("option").prop("selected",!1);for(let e=0;e<t.length;e++){const s=t[e];this.$select.find(`option[value="${s}"]`).prop("selected",!0)}this.$select.trigger("change")}_clearFocus(){this.$options.removeClass("i-active")}_findOption(t){const e=Object.keys(this.options);for(let s=0;s<e.length;s++)if(this.options[e[s]].value.toString()===t.toString())return this.options[e[s]].id}_parseDomItems(t){const e=t.children(),s=[];for(let o=0;o<e.length;o++){const t=$(e[o]);let i;"optgroup"===t.prop("tagName").toLowerCase()?i={optgroup:!0,separator:Boolean(this._options.showOptgroupSeparators),label:t.attr("label"),items:this._parseDomItems(t)}:"option"===t.prop("tagName").toLowerCase()&&(i={id:t[0].index,option:!0,label:t.text().replace(/\//g,"​$&​"),value:t.attr("value"),disabled:t.is(":disabled")},this.options[i.id]=i),s.push(i)}return s}_render(){if(this.$el=this._renderDropdown(),this.$control=this.$el.find(".tv-control-select__control"),this.$controlInner=this.$el.find(".tv-control-select__control-inner"),!this.touch){this.$dropdown=this.$el.find(".tv-control-select__dropdown"),this.$options=this.$el.find(".tv-control-select__option");for(let t=0;t<this.$options.length;t++){const e=$(this.$options[t]),s=e.data("id");this.options[s]&&(this.options[s].$el=e)}}this.multiple?(this._updateSelectBoxTitle(),this._updateCheckBoxes()):(-1===this._selectElement.selectedIndex&&(this._selectElement.selectedIndex=0),this._updateSingleView(this._selectElement.selectedIndex)),this.$select.on("change",t=>{this.multiple?(this._updateSelectBoxTitle(),this._updateCheckBoxes()):this._updateSingleView(this._findOption(this.$select.val()))}),this.touch||(this.$el.tvDropdown({scroll:!0,adaptBody:!0,boundingElement:this._options.boundingElement,maxHeight:this._options.maxHeight,dropdownWidth:this._options.dropdownWidth,noAnimation:this._options.noAnimation,closeWithEsc:this._options.closeWithEsc}),this.dropdownScroll=this.$el.tvDropdown("get","scroll"),this.$dropdown.on("click",".tv-control-select__option",t=>{const e=parseInt($(t.currentTarget).data("id"));this.options[e]&&!this.options[e].disabled&&(this.multiple?this._toggleOption(e):(this._setSingleValue(e),this.close()))}),this.$el.on("beforeOpenMenu",()=>{this.opened=!0}),this.$el.on("afterCloseMenu",()=>{this.opened=!1,this.filterQuery=[],this.multiple||this._focusedOption.toString()===this._selectElement.selectedIndex.toString()||this._focusOption(this._selectElement.selectedIndex),this.multiple&&this._clearFocus()}),this.$el.on("click",()=>{this.$control.focus()}),this.$el.on("keydown",t=>{this._filter(t)}),this.disabled?this.disable():this.enable())}_renderDropdown(){return $(t.render(i.wrap,{items:this.items,class:this.$select.attr("class"),touch:this.touch,multiple:this.multiple,disabled:this.disabled,readonly:this.readonly,
dropdown_class:this._options.addDropdownClass},i)).removeClass("tv-control-select")}_filter(t){if(9===t.which)return void this.close();if(13===t.which&&!this.opened)return;if((40===t.which||32===t.which)&&!this.opened)return this.open(),void t.preventDefault();t.preventDefault(),this.opened||this.open();const e=String.fromCharCode(t.which).toLowerCase();if(e&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(e);const t=this.filterQuery.join("");let s;const o=Object.keys(this.options);for(let e=0;e<o.length;e++)if(0===this.options[o[e]].label.toLowerCase().indexOf(t)&&!this.options[o[e]].disabled){s=this.options[o[e]].id;break}void 0!==s&&this._focusOption(s),this.clearFilter&&clearTimeout(this.clearFilter),this.clearFilter=setTimeout(()=>{this.filterQuery=[]},500)}32!==t.which&&13!==t.which||!this.opened||(this.multiple?this._toggleOption(this._focusedOption):(this._setSingleValue(this._focusedOption),this.close(),this.$el.one("keyup",t=>t.stopPropagation())));const s=t=>{let e;if(this.options[this._focusedOption]){const s=this.options[this._focusedOption].$el[t](this.$dropdown,".tv-control-select__option:not(.i-disabled)");e=s.length?s.data("id"):this._focusedOption}else e=this.$options.first(".tv-control-select__option:not(.i-disabled)").data("id");return e};40===t.which&&(this.filterQuery=[],this._focusOption(s("nextUntil"))),38===t.which&&(this.filterQuery=[],this._focusOption(s("prevUntil"))),27===t.which&&this.close()}}$.fn.tvControlSelect=Object(o.createTvBlockWithInstance)("tv-control-select",(function(t,s={}){return new n(e.extend(s,{$select:t}))}))}.call(this,s("nbsC"),s("F/us"))},aLUT:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11px" height="9px"><path fill="none" fill-rule="evenodd" stroke-width="2" d="M1 3.22l3.415 3.496L10 1"/></svg>'},v9OY:function(t,e,s){}}]);