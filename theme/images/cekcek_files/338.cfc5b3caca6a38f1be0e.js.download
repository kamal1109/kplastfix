(window.webpackJsonp=window.webpackJsonp||[]).push([[338],{"/yp2":function(e,t,n){"use strict";n.r(t),n.d(t,"getTemplates",(function(){return o})),n.d(t,"setTemplates",(function(){return r})),n.d(t,"addTemplate",(function(){return l})),n.d(t,"startRemoveTemplate",(function(){return c})),n.d(t,"removeTemplate",(function(){return s})),n.d(t,"saveTemplate",(function(){return i})),n.d(t,"loadTemplate",(function(){return u})),n.d(t,"applyDefaults",(function(){return m}));var a=n("7/Mh");function o(e,t){return{type:a.c,toolName:e,callback:t}}function r(e,t){return{type:a.g,templates:t,toolName:e}}function l(e,t){return{type:a.a,templateName:t,toolName:e}}function c(e,t){return{type:a.h,templateName:t,toolName:e}}function s(e,t){return{type:a.e,templateName:t,toolName:e}}function i(e,t,n){return{type:a.f,templateName:t,toolName:e,content:n}}function u(e,t,n){return{type:a.d,toolName:e,templateName:t,callback:n}}function m(e,t){return{type:a.b,model:e,source:t}}},"7/Mh":function(e,t,n){"use strict";function a(e){return"LINE_TOOL_TEMPLATE__"+e}n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return m}));const o=a("GET_TEMPLATES"),r=a("SET_TEMPLATES"),l=a("START_REMOVE_TEMPLATE"),c=a("REMOVE_TEMPLATE"),s=a("SAVE_TEMPLATE"),i=a("ADD_TEMPLATE"),u=a("LOAD_TEMPLATE"),m=a("APPLY_DEFAULTS")},"LC+v":function(e,t,n){"use strict";n.r(t);var a=n("ANjH"),o=n("rRWa"),r=n("5rFJ"),l=n("7/Mh"),c=n("txPx"),s=n("/yp2");function i(e,t){return t}var u=n("zUrt");const m=Object(c.getLogger)("Chart.LineToolTemplatesList");function d(e,t){return t}function*p(){for(;;){const{toolName:t,templateName:n,content:a}=d(l.f,yield Object(r.i)(l.f));try{yield Object(r.b)(u.backend.saveDrawingTemplate,t,n,a),yield Object(r.g)(Object(s.addTemplate)(t,n))}catch(e){m.logWarn(e)}}}function*f(){for(;;){const{toolName:t,templateName:n}=d(l.h,yield Object(r.i)(l.h));try{yield Object(r.b)(u.backend.removeDrawingTemplate,t,n),yield Object(r.g)(Object(s.removeTemplate)(t,n))}catch(e){m.logWarn(e)}}}function*b(){for(;;){const{toolName:t,callback:n}=d(l.c,yield Object(r.i)(l.c));try{const e=i(u.backend.getDrawingTemplates,yield Object(r.b)(u.backend.getDrawingTemplates,t));yield Object(r.g)(Object(s.setTemplates)(t,e)),n&&n()}catch(e){m.logWarn(e)}}}function*T(){for(;;){const{toolName:t,templateName:n,callback:a}=d(l.d,yield Object(r.i)(l.d));try{const e=i(u.backend.loadDrawingTemplate,yield Object(r.b)(u.backend.loadDrawingTemplate,t,n));a&&a(e)}catch(e){m.logWarn(e)}}}function*g(){for(;;){const{model:t,source:n}=d(l.b,yield Object(r.i)(l.b));try{yield Object(r.b)([t,t.restorePropertiesForSource],n)}catch(e){m.logWarn(e)}}}function*E(){yield Object(r.a)([Object(r.b)(b),Object(r.b)(p),Object(r.b)(f),Object(r.b)(T),Object(r.b)(g)])}const O={templates:{}};function w(e,t){return e.localeCompare(t,void 0,{numeric:!0})}function h(e=O,t){switch(t.type){case l.a:{
const{toolName:n,templateName:a}=t;if(!e.templates[n].includes(a)){const t=[...e.templates[n],a].sort(w);return Object.assign(Object.assign({},e),{templates:Object.assign(Object.assign({},e.templates),{[n]:t})})}return e}case l.g:{const{toolName:n,templates:a}=t;return Object.assign(Object.assign({},e),{templates:Object.assign(Object.assign({},e.templates),{[n]:[...a].sort(w)})})}case l.e:{const{toolName:n,templateName:a}=t;return Object.assign(Object.assign({},e),{templates:Object.assign(Object.assign({},e.templates),{[n]:e.templates[n].filter(e=>e!==a)})})}default:return e}}n.d(t,"store",(function(){return j}));const j=function(){const e=Object(o.b)(),t=Object(a.createStore)(h,Object(a.applyMiddleware)(e));return e.run(E),t}()},LWBq:function(e,t,n){"use strict";var a=n("q1tI"),o=n("ybVX");const r={"Elliott Impulse Wave (12345)Degree":"normal","Elliott Triangle Wave (ABCDE)Degree":"normal","Elliott Triple Combo Wave (WXYXZ)Degree":"normal","Elliott Correction Wave (ABC)Degree":"normal","Elliott Double Combo Wave (WXY)Degree":"normal",BarsPatternMode:"normal",StudyInputSource:"normal"},l={TextText:"big",AnchoredTextText:"big",NoteText:"big",AnchoredNoteText:"big",CalloutText:"big",BalloonText:"big"};var c=n("Q+1u"),s=n("bvfV");function i(e){return a.createElement(o.a.Provider,{value:l},a.createElement(o.b.Provider,{value:r},e.page&&a.createElement(c.a,{reference:e.pageRef,key:e.tableKey},e.page.definitions.value().map(e=>a.createElement(s.a,{key:e.id,definition:e})))))}n.d(t,"a",(function(){return i}))},lpmA:function(e,t,n){e.exports={themesButtonText:"themesButtonText-3JA3MxY8",themesButtonIcon:"themesButtonIcon-3JA3MxY8",defaultsButtonText:"defaultsButtonText-3JA3MxY8",defaultsButtonItem:"defaultsButtonItem-3JA3MxY8"}},pLAj:function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a),r=n("/MKj"),l=n("qFKp"),c=n("Iivm"),s=(n("bSeV"),n("K+KL")),i=n("/KDZ"),u=(n("EsMY"),n("N5tr")),m=n("i/MG"),d=n("8d0Q"),p=n("lpmA");function f(e){const{name:t,onRemove:n,onClick:o}=e,[r,l]=Object(d.b)(),c=a.useCallback(()=>o(t),[o,t]),s=a.useCallback(()=>{n&&n(t)},[n,t]);return a.createElement("div",Object.assign({},l),a.createElement(u.b,{className:p.defaultsButtonItem,isActive:!1,label:t,onClick:c,toolbox:n&&a.createElement(m.a,{hidden:!Modernizr.mobiletouch&&!r,onClick:s})}))}var b=n("KKsp"),T=n("fZEr"),g=n("+EG+"),E=n("2uTr"),O=n("HWhk");function w(e){return e.isTabletWidth?o.a.createElement(c.a,{className:p.themesButtonIcon,icon:O}):o.a.createElement(o.a.Fragment,null,window.t("Template"))}var h=n("/yp2");const j=Object(r.connect)((function(e,t){const n=t.source.toolname;return{templates:e.templates[n]}}),(function(e){return{getTemplates:t=>e(Object(h.getTemplates)(t)),loadTemplate:(t,n,a)=>{e(Object(h.loadTemplate)(n.toolname,a,e=>t.applyLineToolTemplate(n,e,window.t("Apply Drawing Template"))))},removeTemplate:(t,n)=>e(Object(h.startRemoveTemplate)(t,n)),saveTemplate:(t,n,a)=>e(Object(h.saveTemplate)(t,n,a)),applyDefaults:(t,n)=>e(Object(h.applyDefaults)(t,n))}}))((function(e){
const{model:t,source:n,templates:r=[],getTemplates:l}=e,c=n.toolname;Object(a.useEffect)(()=>(e.templates||l(c),()=>{}),[c]);const u=Object(a.useContext)(g.b);return o.a.createElement(i.a,{rule:"screen and (max-width: 768px)"},e=>o.a.createElement(s.a,{id:"footer-menu",className:!e&&p.themesButtonText,hideArrowButton:e,buttonChildren:o.a.createElement(w,{isTabletWidth:e})},o.a.createElement(f,{onClick:h,name:Object(E.appendEllipsis)(window.t("Save As"))}),o.a.createElement(f,{onClick:m,name:window.t("Apply Defaults")}),r.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,null),r.map(e=>o.a.createElement(f,{key:e,name:e,onRemove:d,onClick:O})))));function m(){const{applyDefaults:a}=e;a(t,n)}function d(t){const{removeTemplate:n}=e;window.runOrSignIn(()=>{const e=window.t("Do you really want to delete Drawing Template '{name}' ?").format({name:t});Object(T.showConfirm)({text:e,onConfirm:({dialogClose:e})=>{n(c,t),e()}},u)},{source:"Delete line tool template"})}function O(a){const{loadTemplate:o}=e;o(t,n,a)}function h(){window.runOrSignIn(()=>{Object(T.showRename)({title:window.t("Save Drawing Template As"),text:window.t("Template name")+":",maxLength:64,onRename:({newValue:e,focusInput:t,dialogClose:n,innerManager:a})=>{if(-1!==r.indexOf(e)){const o=window.t("Drawing Template '{name}' already exists. Do you really want to replace it?").format({name:e});Object(T.showConfirm)({text:o,onConfirm:({dialogClose:t})=>{j(e),t(),n()},onClose:t},a)}else j(e),n()}},u)},{source:"Save line tool template",sourceMeta:"Chart"})}function j(t){const n=JSON.stringify(e.source.template());e.saveTemplate(c,t,n)}}));var v=n("LC+v");function y(e){const{model:t,source:n}=e;return o.a.createElement(i.a,{rule:"screen and (max-width: 768px)"},e=>o.a.createElement(s.a,{className:!e&&p.themesButtonText,hideArrowButton:e,buttonChildren:e?o.a.createElement(c.a,{className:p.themesButtonIcon,icon:O}):window.t("Template")},o.a.createElement(f,{onClick:a,name:window.t("Apply Defaults")})));function a(){t.restorePropertiesForSource(n)}}function N(e){return Object(l.onWidget)()?o.a.createElement(y,Object.assign({},e)):o.a.createElement(r.Provider,{store:v.store},o.a.createElement(j,Object.assign({},e)))}n.d(t,"a",(function(){return N}))},vHME:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("q1tI"),o=n("TSYQ"),r=n.n(o),l=(n("YFKU"),n("Iivm")),c=n("K+KL"),s=n("N5tr"),i=n("HWhk"),u=n("wt3x");const m={reset:window.t("Reset Settings"),saveAsDefault:window.t("Save As Default"),defaults:window.t("Defaults")};class d extends a.PureComponent{constructor(){super(...arguments),this._handleResetToDefaults=()=>{this.props.model.restorePropertiesForSource(this.props.source)},this._handleSaveAsDefaults=()=>{this.props.source.properties().saveDefaults()}}render(){const{mode:e}=this.props;return a.createElement(c.a,{id:"study-defaults-manager",className:r()("normal"===e&&u.defaultsButtonText),hideArrowButton:"compact"===e,buttonChildren:this._getPlaceHolderItem("compact"===e)},a.createElement(s.b,{className:u.defaultsButtonItem,
isActive:!1,label:m.reset,onClick:this._handleResetToDefaults}),a.createElement(s.b,{className:u.defaultsButtonItem,isActive:!1,label:m.saveAsDefault,onClick:this._handleSaveAsDefaults}))}_getPlaceHolderItem(e){return e?a.createElement(l.a,{className:u.defaultsButtonIcon,icon:i}):m.defaults}}},wt3x:function(e,t,n){e.exports={defaultsButtonText:"defaultsButtonText-3mn75BN0",defaultsButtonItem:"defaultsButtonItem-3mn75BN0",defaultsButtonIcon:"defaultsButtonIcon-3mn75BN0"}},zUrt:function(e,t,n){"use strict";n.r(t),n.d(t,"backend",(function(){return a}));const a=n("JWp+")}}]);