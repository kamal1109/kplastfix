(window.webpackJsonp=window.webpackJsonp||[]).push([["new-edit-object-dialog"],{"/YRR":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 16.5l5-5a1.414 1.414 0 0 1 2 0m11-1l-5 5a1.414 1.414 0 0 1-2 0"/><path fill="currentColor" d="M14 5h1v2h-1zM14 10h1v2h-1zM14 15h1v2h-1zM14 20h1v2h-1z"/></svg>'},"01Ho":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M14.354 6.646L14 6.293l-.354.353-7 7-.353.354.353.354 7 7 .354.353.354-.353 7-7 .353-.354-.353-.354-7-7z"/></svg>'},"4Njr":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M14 21l7.424-6.114a.5.5 0 0 0-.318-.886H18.5V7h-9v7H6.894a.5.5 0 0 0-.318.886L14 21z"/></svg>'},"4ZyK":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M8.5 22v-5.5m0 0v-8L12 7l4 2.5 3.5-1v8l-3.5 1-4-2.5-3.5 1.5z"/></svg>'},"4pMH":function(e,t,n){},"5ijr":function(e){e.exports=JSON.parse('{"switcherWrapper":"switcherWrapper-1wFH-_jm","size-small":"size-small-1gT-kZYO","size-large":"size-large-MOSirnj_","intent-select":"intent-select-2kut8F29","switcherThumbWrapper":"switcherThumbWrapper-2u191lDO","input":"input-J7QIcTTo","switcherTrack":"switcherTrack-2XruDVTa","intent-default":"intent-default-3soo5rvS","switcherThumb":"switcherThumb-2yuEucci","focus":"focus-uZMRkCO0"}')},"9FXF":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M6.5 12.5v8h3v-8h-3zM12.5 7.5v13h3v-13h-3zM18.5 15.5v5h3v-5h-3z"/></svg>'},D2im:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M17 8.5h7M20.5 12V5M10 19.5h7M13.5 23v-7M3 12.5h7M6.5 16V9"/></svg>'},Dj0x:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M11 18.5h-.5V8.793l.146-.147 3-3L14 5.293l.354.353 3 3 .146.147V18.5H11z"/></svg>'},FzLb:function(e,t,n){"use strict";var l=n("mrSG"),a=n("q1tI"),r=n("TSYQ"),s=n("5ijr");n("4pMH");function o(e){const{className:t="",intent:n="default",size:l="small",disabled:a}=e;return r(t,s.switcherWrapper,s["size-"+l],!a&&s["intent-"+n])}class i extends a.PureComponent{render(){const e=this.props,{reference:t,size:n,intent:i}=e,c=Object(l.d)(e,["reference","size","intent"]),p=r(s.input,-1!==this.props.tabIndex&&s.focus);return a.createElement("div",{className:o(this.props)},a.createElement("input",Object.assign({},c,{type:"checkbox",className:p,ref:t})),a.createElement("div",{className:s.switcherThumbWrapper},a.createElement("div",{className:s.switcherTrack}),a.createElement("div",{className:s.switcherThumb})))}}n.d(t,"a",(function(){return i}))},Ly1u:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M7.5 7.5h13v13h-13z"/></svg>'},MB0Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var l=n("q1tI"),a=n.n(l),r=n("TSYQ"),s=n.n(r),o=n("FzLb"),i=n("ijHL"),c=n("OP2o");const p=c;function d(e){const{className:t,checked:n,id:l,label:r,labelDescription:p,value:d,preventLabelHighlight:h,reference:u,switchReference:m,theme:b=c,disabled:g}=e,v=s()(b.label,n&&!h&&b.labelOn),y=s()(t,b.wrapper,n&&b.wrapperWithOnLabel);return a.a.createElement("label",{className:y,htmlFor:l,ref:u},a.a.createElement("div",{className:b.labelRow},a.a.createElement("div",{className:v},r),p&&a.a.createElement("div",{className:b.labelHint},p)),a.a.createElement(o.a,Object.assign({disabled:g,className:b.switch,reference:m,checked:n,onChange:function(t){const n=t.target.checked;void 0!==e.onChange&&e.onChange(n)},value:d,tabIndex:-1,id:l},Object(i.b)(e))))}},OP2o:function(e,t,n){e.exports={wrapper:"wrapper-1Eudat6L",hovered:"hovered-1Eudat6L",labelRow:"labelRow-1Eudat6L",label:"label-1Eudat6L",labelHint:"labelHint-1Eudat6L",labelOn:"labelOn-1Eudat6L"}},V1YL:function(e,t,n){e.exports={recalculateCheckbox:"recalculateCheckbox-2z5ytJSA",descriptionCell:"descriptionCell-2z5ytJSA"}},W7Dn:function(e,t,n){e.exports={scrollable:"scrollable-2CTvqFKf"}},Y5hB:function(e,t,n){"use strict";n.r(t);var l=n("YFKU"),a=n("i8i4"),r=n("q1tI"),s=n.n(r),o=n("Eyy1"),i=(n("bSeV"),n("CLNU")),c=n("Vdly"),p=n("Kxc7"),d=n("FQhm"),h=n("JWMC"),u=n("aDg1"),m=n("vHME"),b=n("ycFu"),g=n("tWVy"),v=n("tmL0"),y=n("3ClC"),w=n("LWBq"),C=n("CW80"),E=n("pLAj"),f=n("W7Dn");class S extends r.PureComponent{constructor(e){super(e),this._renderFooterLeft=e=>{const{source:t,model:n}=this.props;if(Object(C.isLineTool)(t))return r.createElement(E.a,{source:t,model:n});if(Object(y.isStudy)(t))return r.createElement(m.a,{model:n,source:t,mode:e?"compact":"normal"});throw new TypeError("Unsupported source type.")},this._handleSelect=e=>{this.setState({activeTabId:e},()=>{this._requestResize&&this._requestResize()}),this.props.onActiveTabChanged&&this.props.onActiveTabChanged(e)},this._handleScroll=()=>{g.a.fire()},this._handleSubmit=()=>{this.props.onSubmit(),this.props.onClose()};const{pages:t,initialActiveTab:n}=this.props;this.state={activeTabId:t.allIds.includes(n)?n:t.allIds[0]}}render(){const{title:e,onCancel:t,onClose:n}=this.props,{activeTabId:l}=this.state;return r.createElement(b.AdaptiveConfirmDialog,{dataName:"indicator-properties-dialog",title:e,isOpened:!0,onSubmit:this._handleSubmit,onCancel:t,onClickOutside:n,onClose:n,footerLeftRenderer:this._renderFooterLeft,render:this._renderChildren(l),submitOnEnterKey:!1})}_renderChildren(e){return({requestResize:t})=>{this._requestResize=t;const{pages:n,source:l,model:a}=this.props,s=n.byId[e],o="Component"in s?void 0:s.page;return r.createElement(r.Fragment,null,r.createElement(u.a,{activeTabId:e,onSelect:this._handleSelect,tabs:n}),r.createElement(v.a,{className:f.scrollable,
onScroll:this._handleScroll},"Component"in s?r.createElement(s.Component,{source:l,model:a}):r.createElement(w.a,{page:o,tableKey:e})))}}}var P=n("PjdP"),_=n("HfwS"),x=n("HGyE");class k extends r.PureComponent{render(){const{input:e,value:t,onChange:n,onBlur:l,onKeyDown:a}=this.props,s=e.options.reduce((e,t)=>(e[t]="NONE"===t?window.t("Default"):t,e),{}),o=Object.assign(Object.assign({},e),{optionsTitles:s});return r.createElement(x.b,{input:o,value:t,onChange:n,onBlur:l,onKeyDown:a})}}const O=Object(_.a)(k);var j=n("h5Dg"),L=n("rJEJ"),N=n("XDrA"),T=n("+8gn"),M=n("Q+1u");n("HbRj");const R=r.createContext(null),I=window.t("{currency} per order"),B=window.t("{currency} per contract");class V extends r.PureComponent{render(){const{input:e}=this.props,t=Object(o.ensureNotNull)(this.context),n={percent:"%",cash_per_order:I.format({currency:t}),cash_per_contract:B.format({currency:t})},l=Object.assign(Object.assign({},e),{optionsTitles:n});return r.createElement(x.a,{input:l})}}V.contextType=R;const D=window.t("Contracts"),z=window.t("% of equity");class F extends r.PureComponent{render(){const{input:e}=this.props,t=Object(o.ensureNotNull)(this.context),n={fixed:D,cash_per_order:t,percent_of_equity:z},l=Object.assign(Object.assign({},e),{optionsTitles:n});return r.createElement(x.a,{input:l})}}F.contextType=R;var G=n("+GxX"),A=n("V1YL");class H extends r.PureComponent{render(){const{inputs:e}=this.props;return r.createElement(M.a,null,r.createElement(L.a,{label:window.t("Initial capital")},r.createElement(P.a,{input:e.initial_capital})),r.createElement(L.a,{label:window.t("Base currency")},r.createElement(O,{input:e.currency})),r.createElement(L.a,{label:window.t("Order size"),labelAlign:"adaptive"},r.createElement(N.a,null,r.createElement(P.a,{input:e.default_qty_value}),r.createElement(F,{input:e.default_qty_type}))),r.createElement(L.a,{label:window.t("Pyramiding")},r.createElement("span",null,r.createElement(P.a,{input:e.pyramiding})),r.createElement("span",{className:A.descriptionCell},window.t("orders",{context:"Pyramiding: count orders"}))),r.createElement(M.a.Separator,null),r.createElement(L.a,{label:window.t("Commission"),labelAlign:"adaptive"},r.createElement(N.a,null,r.createElement(P.a,{input:e.commission_value}),r.createElement(V,{input:e.commission_type}))),r.createElement(L.a,{label:window.t("Verify Price for Limit Orders")},r.createElement("span",null,r.createElement(P.a,{input:e.backtest_fill_limits_assumption})),r.createElement("span",{className:A.descriptionCell},window.t("ticks",{context:"slippage ... ticks"}))),r.createElement(L.a,{label:window.t("Slippage")},r.createElement("span",null,r.createElement(P.a,{input:e.slippage})),r.createElement("span",{className:A.descriptionCell},window.t("ticks",{context:"slippage ... ticks"}))),r.createElement(M.a.Separator,null),Object(G.isFeatureEnabled)("show_strategy_margin_inputs")&&e.margin_long&&e.margin_short&&r.createElement(r.Fragment,null,r.createElement(L.a,{label:window.t("Margin For Long Positions")},r.createElement("span",null,r.createElement(P.a,{
input:e.margin_long})),r.createElement("span",{className:A.descriptionCell},"%")),r.createElement(L.a,{label:window.t("Margin For Short Positions")},r.createElement("span",null,r.createElement(P.a,{input:e.margin_short})),r.createElement("span",{className:A.descriptionCell},"%")),r.createElement(M.a.Separator,null)),r.createElement(L.a,{label:window.t("Recalculate"),labelAlign:"top"},r.createElement("div",null,r.createElement("div",{className:A.recalculateCheckbox},r.createElement(j.a,{label:window.t("After Order is Filled"),input:e.calc_on_order_fills})),r.createElement("div",{className:A.recalculateCheckbox},r.createElement(j.a,{label:window.t("On Every Tick"),input:e.calc_on_every_tick})))))}}function W(e){const{property:t,model:n,inputs:l,study:a}=e;return r.createElement(T.a,{property:t.inputs,model:n,study:a},r.createElement(H,{inputs:l}))}H.contextType=T.b;var U=n("z61+"),q=n("txPx");const K=Object(q.getLogger)("Platform.GUI.PropertyDialog.Indicators.StrategyPage");class Y extends r.PureComponent{constructor(e){super(e),this._handleWatchedDataChange=()=>{this.setState({currency:this._getCurrency()})};const{source:t}=this.props;if(this._source=t,!Object(y.isStudy)(this._source))throw new TypeError("Strategy page works only for study.");this._properties=t.properties();const n=t.metaInfo(),l=new U.a(n);this._inputs=l.getStrategyProperties(),this.state={currency:this._getCurrency()}}componentDidMount(){this._source.watchedData.subscribe(this._handleWatchedDataChange)}componentWillUnmount(){this._source.watchedData.unsubscribe(this._handleWatchedDataChange)}render(){return r.createElement(R.Provider,{value:this.state.currency},r.createElement(W,{inputs:this._inputs,property:this._properties,model:this.props.model,study:this.props.source}))}_getCurrency(){const e=this._source,t=e.reportData();if(null===t||void 0===t.currency){void 0!==this.state&&null===this.state.currency||K.logWarn("Can't obtain currency from strategy report");const t=e.metaInfo().inputs.find(e=>"currency"===e.internalID),n=null==t?void 0:t.defval;if(n&&"NONE"!==n)return n.toString();const l=this.props.model.mainSeries().symbolInfo();return(null==l?void 0:l.original_currency_code)||(null==l?void 0:l.currency_code)||null}return t.currency}}var J=n("5Ssy");class Q extends r.PureComponent{constructor(e){super(e),this._properties=this.props.source.properties(),this._inputs=new U.a(this.props.source.metaInfo()).getUserEditableInputs()}render(){return r.createElement(J.a,{property:this._properties,model:this.props.model,study:this.props.source,inputs:this._inputs})}}var Z=n("RMU6"),X=n("23IT"),$=n("0YCj"),ee=n.n($),te=n("Z1Tk"),ne=n("S0KV");const le=window.t("Change Visibility");class ae extends r.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{visible:n}=this.props;n&&Object(ne.b)(n,n=>t(n,e,le))}}render(){const{id:e,title:t,visible:n,disabled:l}=this.props,a=Object(i.clean)(window.t(t,{context:"input"}),!0);return r.createElement(j.b,{label:a,disabled:l,input:{id:e,type:"bool",defval:!0,name:"visible"
},value:!n||Object(ne.a)(n),onChange:this._onChange})}}ae.contextType=te.b;var re=n("KKsp"),se=n("MB0Y"),oe=n("CHgb"),ie=n("xHjM"),ce=n("/YRR"),pe=n("rlj/"),de=n("ZtdB"),he=n("D2im"),ue=n("tH7p"),me=n("tQCG"),be=n("9FXF"),ge=n("sPU+");const ve={[X.LineStudyPlotStyle.Line]:{type:X.LineStudyPlotStyle.Line,order:0,icon:ie,label:window.t("Line")},[X.LineStudyPlotStyle.LineWithBreaks]:{type:X.LineStudyPlotStyle.LineWithBreaks,order:1,icon:ce,label:window.t("Line With Breaks")},[X.LineStudyPlotStyle.StepLine]:{type:X.LineStudyPlotStyle.StepLine,order:2,icon:pe,label:window.t("Step Line")},[X.LineStudyPlotStyle.Histogram]:{type:X.LineStudyPlotStyle.Histogram,order:3,icon:de,label:window.t("Histogram")},[X.LineStudyPlotStyle.Cross]:{type:X.LineStudyPlotStyle.Cross,order:4,icon:he,label:window.t("Cross",{context:"chart_type"})},[X.LineStudyPlotStyle.Area]:{type:X.LineStudyPlotStyle.Area,order:5,icon:ue,label:window.t("Area")},[X.LineStudyPlotStyle.AreaWithBreaks]:{type:X.LineStudyPlotStyle.AreaWithBreaks,order:6,icon:me,label:window.t("Area With Breaks")},[X.LineStudyPlotStyle.Columns]:{type:X.LineStudyPlotStyle.Columns,order:7,icon:be,label:window.t("Columns")},[X.LineStudyPlotStyle.Circles]:{type:X.LineStudyPlotStyle.Circles,order:8,icon:ge,label:window.t("Circles")}},ye=Object.values(ve).sort((e,t)=>e.order-t.order).map(e=>({value:e.type,selectedContent:s.a.createElement(oe.a,{icon:e.icon}),content:s.a.createElement(oe.b,{icon:e.icon,label:e.label})})),we=window.t("Price Line");class Ce extends s.a.PureComponent{render(){const{id:e,plotType:t,className:n,priceLine:l,plotTypeChange:a,priceLineChange:r,disabled:o}=this.props,i={readonly:!0,content:s.a.createElement(s.a.Fragment,null,s.a.createElement(se.b,{id:"PlotTypePriceLineSwitch",checked:l,label:we,preventLabelHighlight:!0,value:"priceLineSwitcher",onChange:r}),s.a.createElement(re.a,null))};return s.a.createElement(oe.c,{id:e,disabled:o,className:n,hideArrowButton:!0,items:[i,...ye],value:t,onChange:a})}}var Ee=n("lkVX"),fe=n("wwEg");const Se=window.t("Change Plot Type"),Pe=window.t("Change Price Line");class _e extends r.PureComponent{constructor(){super(...arguments),this._onPlotTypeChange=e=>{const{setValue:t}=this.context,{styleProp:{plottype:n}}=this.props;n&&t(n,e,Se)},this._onPriceLineChange=e=>{const{setValue:t}=this.context,{styleProp:{trackPrice:n}}=this.props;n&&t(n,e,Pe)}}render(){const{id:e,paletteColor:t,paletteColorProps:n,styleProp:l,isLine:a,hasPlotTypeSelect:s,grouped:o}=this.props,i=n.childs();return r.createElement(L.a,{grouped:o,label:r.createElement("div",{className:fe.childRowContainer},window.t(t.name,{context:"input"}))},r.createElement(Ee.a,{disabled:!l.visible.value(),color:i.color,transparency:l.transparency,thickness:a?i.width:void 0,isPaletteColor:!0}),a&&s&&l.plottype&&l.trackPrice?r.createElement(Ce,{id:Object(Z.a)(e,"plot-type-select"),disabled:!l.visible.value(),className:fe.smallStyleControl,plotType:l.plottype.value(),priceLine:l.trackPrice.value(),plotTypeChange:this._onPlotTypeChange,priceLineChange:this._onPriceLineChange}):null)}
}_e.contextType=te.b;class xe extends r.PureComponent{render(){const{plot:e,area:t,palette:n,paletteProps:l,hideVisibilitySwitch:a,styleProp:s}=this.props,i=e?e.id:Object(o.ensureDefined)(t).id,c=!i.startsWith("fill")&&e&&Object(X.isLinePlot)(e);return r.createElement(r.Fragment,null,!a&&r.createElement(M.a.Row,null,r.createElement(M.a.Cell,{placement:"first",colSpan:2,grouped:!0},r.createElement(ae,{id:i,title:t?t.title:s.title.value(),visible:s.visible}))),function(e,t,n,l,a){const s=t.colors,i=n.colors;return Object.keys(s).map((t,n)=>r.createElement(_e,{key:t,id:e,grouped:!0,paletteColor:Object(o.ensureDefined)(s[t]),paletteColorProps:Object(o.ensureDefined)(i[t]),styleProp:l,isLine:a,hasPlotTypeSelect:0===n}))}(i,n,l,s,c),r.createElement(M.a.GroupSeparator,null))}}xe.contextType=te.b;const ke=window.t("Change Plot Type"),Oe=window.t("Change Price Line");class je extends r.PureComponent{constructor(){super(...arguments),this._onPlotTypeChange=e=>{const{setValue:t}=this.context,{property:{plottype:n}}=this.props;n&&t(n,e,ke)},this._onPriceLineChange=e=>{const{setValue:t}=this.context,{property:{trackPrice:n}}=this.props;n&&t(n,e,Oe)}}render(){const{id:e,isRGB:t,property:{title:n,color:l,plottype:a,linewidth:s,transparency:o,trackPrice:i,visible:c}}=this.props;return r.createElement(L.a,{label:r.createElement(ae,{id:e,title:n.value(),visible:c})},t?null:r.createElement(Ee.a,{disabled:!c.value(),color:l,transparency:o,thickness:s}),r.createElement(Ce,{id:Object(Z.a)(e,"plot-type-select"),disabled:!c.value(),className:fe.smallStyleControl,plotType:a.value(),priceLine:i.value(),plotTypeChange:this._onPlotTypeChange,priceLineChange:this._onPriceLineChange}))}}je.contextType=te.b;const Le=r.createContext(null);class Ne extends r.PureComponent{render(){const{id:e,property:{visible:t}}=this.props;return r.createElement(Le.Consumer,null,n=>r.createElement(L.a,{label:r.createElement(ae,{id:e,title:Te(Object(o.ensureNotNull)(n),e),visible:t})},this._upColorControl(),this._downColorControl()))}_upColorControl(){const{isRGB:e,property:{colorup:t,transparency:n,visible:l}}=this.props;return e?null:r.createElement(Ee.a,{disabled:!l.value(),color:t,transparency:n})}_downColorControl(){const{isRGB:e,property:{colordown:t,transparency:n,visible:l}}=this.props;return e?null:r.createElement("span",{className:fe.additionalSelect},r.createElement(Ee.a,{disabled:!l.value(),color:t,transparency:n}))}}function Te(e,t){const n=Object(o.ensureDefined)(e.metaInfo().styles),{title:l}=Object(o.ensureDefined)(n[t]);return Object(o.ensureDefined)(l)}Ne.contextType=te.b;var Me=n("/SnT"),Re=n.n(Me),Ie=n("TSYQ"),Be=n.n(Ie),Ve=n("wHCJ"),De=n("PECq"),ze=n("972a");const Fe={[ze.MarkLocation.AboveBar]:{value:ze.MarkLocation.AboveBar,content:window.t("Above Bar"),order:0},[ze.MarkLocation.BelowBar]:{value:ze.MarkLocation.BelowBar,content:window.t("Below Bar"),order:1},[ze.MarkLocation.Top]:{value:ze.MarkLocation.Top,content:window.t("Top"),order:2},[ze.MarkLocation.Bottom]:{value:ze.MarkLocation.Bottom,content:window.t("Bottom"),order:3},
[ze.MarkLocation.Absolute]:{value:ze.MarkLocation.Absolute,content:window.t("Absolute"),order:4}},Ge=Object.values(Fe).sort((e,t)=>e.order-t.order);class Ae extends r.PureComponent{render(){const{id:e,shapeLocation:t,className:n,menuItemClassName:l,shapeLocationChange:a,disabled:s}=this.props;return r.createElement(De.a,{id:e,disabled:s,className:n,menuItemClassName:l,items:Ge,value:t,onChange:a})}}const He=window.t("Change Char"),We=window.t("Change Location");class Ue extends r.PureComponent{constructor(){super(...arguments),this._onCharChange=e=>{const{setValue:t}=this.context,n=e.currentTarget.value.trim(),l=Re()(n),a=0===l.length?"":l[l.length-1],{property:{char:r}}=this.props;t(r,a,He)},this._onLocationChange=e=>{const{setValue:t}=this.context,{property:{location:n}}=this.props;t(n,e,We)}}render(){const{id:e,isRGB:t,property:{title:n,color:l,transparency:a,char:s,location:o,visible:i},hasPalette:c}=this.props;return r.createElement(L.a,{grouped:c,label:r.createElement(ae,{id:e,title:n.value(),visible:i})},!c&&!t&&r.createElement(Ee.a,{disabled:!i.value(),color:l,transparency:a}),r.createElement(Ve.b,{disabled:!i.value(),className:fe.smallStyleControl,value:s.value(),onChange:this._onCharChange}),r.createElement(Ae,{id:Object(Z.a)(e,"shape-style-select"),disabled:!i.value(),className:Ie(fe.defaultSelect,fe.additionalSelect),menuItemClassName:fe.defaultSelectItem,shapeLocation:o.value(),shapeLocationChange:this._onLocationChange}))}}Ue.contextType=te.b;var qe=n("Nu4p");const Ke={arrow_down:n("4Njr"),arrow_up:n("lOpG"),circle:n("br6c"),cross:n("m+Gx"),diamond:n("01Ho"),flag:n("4ZyK"),label_down:n("kMtk"),label_up:n("Dj0x"),square:n("Ly1u"),triangle_down:n("leq5"),triangle_up:n("flzi"),x_cross:n("iB0j")};function Ye(e){return Ke[e]}const Je=[];Object.keys(qe.a).forEach(e=>{const t=qe.a[e];Je.push({id:t.id,value:t.id,selectedContent:s.a.createElement(oe.a,{icon:Ye(t.icon)}),content:s.a.createElement(oe.b,{icon:Ye(t.icon),label:t.guiName})})});class Qe extends s.a.PureComponent{render(){const{id:e,shapeStyleId:t,className:n,shapeStyleChange:l,disabled:a}=this.props;return s.a.createElement(oe.c,{id:e,disabled:a,className:n,hideArrowButton:!0,items:Je,value:t,onChange:l})}}const Ze=window.t("Change Shape"),Xe=window.t("Change Location");class $e extends r.PureComponent{constructor(){super(...arguments),this._onPlotTypeChange=e=>{const{setValue:t}=this.context,{property:{plottype:n}}=this.props;t(n,e,Ze)},this._onLocationChange=e=>{const{setValue:t}=this.context,{property:{location:n}}=this.props;t(n,e,Xe)}}render(){const{id:e,isRGB:t,hasPalette:n,property:{title:l,color:a,transparency:s,plottype:o,location:i,visible:c}}=this.props;return r.createElement(L.a,{grouped:n,label:r.createElement(ae,{id:e,title:l.value(),visible:c})},!n&&!t&&r.createElement(Ee.a,{disabled:!c.value(),color:a,transparency:s}),r.createElement(Qe,{id:Object(Z.a)(e,"shape-style-select"),disabled:!c.value(),className:fe.smallStyleControl,shapeStyleId:o.value(),shapeStyleChange:this._onPlotTypeChange}),r.createElement(Ae,{
id:Object(Z.a)(e,"shape-location-select"),disabled:!c.value(),className:Ie(fe.defaultSelect,fe.additionalSelect),menuItemClassName:fe.defaultSelectItem,shapeLocation:i.value(),shapeLocationChange:this._onLocationChange}))}}$e.contextType=te.b;class et extends r.PureComponent{render(){const{id:e,isRGB:t,title:n,visible:l,color:a,transparency:s,thickness:o,children:i,switchable:c=!0}=this.props;return r.createElement(L.a,{label:c?r.createElement(ae,{id:e,title:n,visible:l}):n},t?null:r.createElement(Ee.a,{disabled:l&&!(Array.isArray(l)?l[0].value():l.value()),color:a,transparency:s,thickness:o}),i)}}et.contextType=te.b;var tt=n("m/cY");const nt=Object(q.getLogger)("Chart.Study.PropertyPage"),lt=Object(l.t)("Wick"),at=Object(l.t)("Border"),rt=Object(l.t)("Arrow Up Color"),st=Object(l.t)("Arrow Down Color");class ot extends r.PureComponent{render(){const{plot:e,palettes:t,study:n}=this.props,l=e.id,a=n.properties().styles[l],s=e.type,i=!!n.metaInfo().isRGB;if("line"===s||"bar_colorer"===s||"bg_colorer"===s){const n=t.main;return n&&n.palette&&n.paletteProps?r.createElement(xe,{plot:e,palette:n.palette,paletteProps:n.paletteProps,styleProp:a}):r.createElement(je,{id:l,property:a,isRGB:i})}if("arrows"===s){const n=t.up,s=t.down;return n||s?r.createElement(r.Fragment,null,n&&n.palette&&n.paletteProps?r.createElement(xe,{plot:e,palette:n.palette,paletteProps:n.paletteProps,styleProp:Object.assign(Object.assign({},a),{title:Object(tt.a)(rt)})}):r.createElement(et,{id:l,isRGB:i,title:rt,color:a.colorup,visible:a.visible,transparency:a.transparency}),s&&s.palette&&s.paletteProps?r.createElement(xe,{plot:e,palette:s.palette,paletteProps:s.paletteProps,styleProp:Object.assign(Object.assign({},a),{title:Object(tt.a)(st)})}):r.createElement(et,{id:l,isRGB:i,title:st,color:a.colordown,visible:a.visible,transparency:a.transparency})):r.createElement(Ne,{id:l,property:a,isRGB:i,plot:e,palettes:t,styleProp:a})}if("chars"===s||"shapes"===s){const n=t.main;return r.createElement(r.Fragment,null,"chars"===s?r.createElement(Ue,{id:l,property:a,hasPalette:Boolean(n&&n.palette),isRGB:i}):r.createElement($e,{id:l,property:a,hasPalette:Boolean(n&&n.palette),isRGB:i}),n&&n.palette&&n.paletteProps&&r.createElement(xe,{plot:e,palette:n.palette,paletteProps:n.paletteProps,hideVisibilitySwitch:!0,styleProp:a}))}if(Object(X.isOhlcPlot)(e)){const l=e.target,a=Object(o.ensureDefined)(n.metaInfo().defaults.ohlcPlots)[l],s=n.properties().ohlcPlots[l],c=t.main;let p,d;return p=c&&c.palette&&c.paletteProps?r.createElement(xe,{plot:e,palette:c.palette,paletteProps:c.paletteProps,styleProp:s}):r.createElement(et,{id:l,isRGB:i,title:s.title.value(),color:s.color,visible:s.visible,transparency:s.transparency}),void 0!==a&&Object(X.isOhlcPlotStyleCandles)(a)&&(d=r.createElement(r.Fragment,null,t.wick&&t.wick.palette&&t.wick.paletteProps?r.createElement(xe,{plot:e,palette:t.wick.palette,paletteProps:t.wick.paletteProps,styleProp:Object.assign(Object.assign({},s),{title:Object(tt.a)(lt)})}):r.createElement(et,{id:l,isRGB:i,title:lt,visible:s.drawWick,
color:s.wickColor,transparency:s.transparency}),t.border&&t.border.palette&&t.border.paletteProps?r.createElement(xe,{plot:e,palette:t.border.palette,paletteProps:t.border.paletteProps,styleProp:Object.assign(Object.assign({},s),{title:Object(tt.a)(at)})}):r.createElement(et,{id:l,isRGB:i,title:at,visible:s.drawBorder,color:s.borderColor,transparency:s.transparency}))),r.createElement(r.Fragment,null,p,d)}return nt.logError("Unknown plot type: "+s),null}}var it=n("YS4w"),ct=n("mrSG"),pt=n("KacW");const dt=window.t("Change Line Style");class ht extends s.a.PureComponent{constructor(){super(...arguments),this._onLineStyleChange=e=>{const{setValue:t}=this.context,{lineStyle:n}=this.props;Object(ne.b)(n,n=>t(n,e,dt))}}render(){const e=this.props,{lineStyle:t}=e,n=Object(ct.d)(e,["lineStyle"]);return s.a.createElement(pt.a,Object.assign({},n,{lineStyle:Object(ne.a)(t),lineStyleChange:this._onLineStyleChange}))}}ht.contextType=te.b;const ut=window.t("Change Value");class mt extends r.PureComponent{constructor(){super(...arguments),this._onValueChange=e=>{const{setValue:t}=this.context,{value:n}=this.props.property;t(n,e,ut)}}render(){const{id:e,property:{name:t,color:n,linestyle:l,linewidth:a,transparency:s,value:o,visible:i}}=this.props;return r.createElement(L.a,{labelAlign:"adaptive",label:r.createElement(ae,{id:e,title:t.value(),visible:i})},r.createElement("div",{className:fe.block},r.createElement("div",{className:fe.group},r.createElement(Ee.a,{disabled:!i.value(),color:n,transparency:s,thickness:a}),r.createElement(ht,{id:Object(Z.a)(e,"line-style-select"),disabled:!i.value(),className:fe.smallStyleControl,lineStyle:l})),r.createElement("div",{className:Ie(fe.wrapGroup,fe.defaultSelect,fe.additionalSelect)},r.createElement(it.b,{input:{id:"",name:"",type:"float",defval:0},value:o.value(),disabled:!i.value(),onChange:this._onValueChange}))))}}mt.contextType=te.b;class bt extends r.PureComponent{render(){const{orders:{visible:e,showLabels:t,showQty:n}}=this.props;return r.createElement(r.Fragment,null,r.createElement(M.a.Row,null,r.createElement(M.a.Cell,{placement:"first",colSpan:2},r.createElement(ae,{id:"chart-orders-switch",title:window.t("Trades on Chart"),visible:e}))),r.createElement(M.a.Row,null,r.createElement(M.a.Cell,{placement:"first",colSpan:2},r.createElement(ae,{id:"chart-orders-labels-switch",title:window.t("Signal Labels"),visible:t}))),r.createElement(M.a.Row,null,r.createElement(M.a.Cell,{placement:"first",colSpan:2},r.createElement(ae,{id:"chart-orders-qty-switch",title:window.t("Quantity"),visible:n}))))}}bt.contextType=te.b;var gt=n("kk0y");const vt=window.t("Change Size");class yt extends r.PureComponent{constructor(){super(...arguments),this._onSizeChange=e=>{const{setValue:t}=this.context,{size:n}=this.props.property.childs();t(n,e,vt)}}render(){const{name:e,color:t,transparency:n,size:l,visible:a}=this.props.property.childs();return r.createElement(L.a,{label:r.createElement(ae,{id:e.value(),title:e.value(),visible:a})},r.createElement(Ee.a,{disabled:!a.value(),color:t,transparency:n
}),r.createElement("div",{className:fe.additionalSelect},r.createElement(gt.b,{input:{id:"",name:"",type:"integer",defval:0},value:l.value(),disabled:!a.value(),onChange:this._onSizeChange})))}}yt.contextType=te.b;const wt=window.t("Change Font"),Ct=["Verdana","Courier New","Times New Roman","Arial"].map(e=>({value:e,content:e}));class Et extends r.PureComponent{constructor(){super(...arguments),this._onFontFamilyChange=e=>{const{setValue:t}=this.context,{fontFamily:n}=this.props;t(n,e,wt)}}render(){const{id:e,fontFamily:t,className:n,disabled:l}=this.props;return r.createElement(De.a,{id:e,disabled:l,className:Be()(n,fe.defaultSelect),menuItemClassName:fe.defaultSelectItem,items:Ct,value:t.value(),onChange:this._onFontFamilyChange})}}Et.contextType=te.b;var ft=n("UXjO");const St=window.t("Change Font Size"),Pt=[10,11,12,14,16,20,24,28,32,40].map(e=>({value:e,title:e.toString()}));class _t extends r.PureComponent{constructor(){super(...arguments),this._onFontSizeChange=e=>{const{setValue:t}=this.context,{fontSize:n}=this.props;t(n,e,St)}}render(){const e=this.props,{fontSize:t}=e,n=Object(ct.d)(e,["fontSize"]);return r.createElement(ft.a,Object.assign({},n,{fontSizes:Pt,fontSize:t.value(),fontSizeChange:this._onFontSizeChange}))}}_t.contextType=te.b;var xt=n("vK+T");class kt extends s.a.PureComponent{constructor(){super(...arguments),this._handleClick=()=>{const{setValue:e}=this.context,{property:t,undoMessage:n}=this.props;e(t,!t.value(),n)}}render(){const e=this.props,{property:t}=e,n=Object(ct.d)(e,["property"]);return s.a.createElement(xt.a,Object.assign({},n,{checked:t.value(),onClick:this._handleClick}))}}kt.contextType=te.b;var Ot=n("/KDZ"),jt=n("rRJX"),Lt=n("4Fxa");const Nt=window.t("Change Text Font Bold"),Tt=window.t("Change Text Font Italic");class Mt extends r.PureComponent{render(){const{name:e,fontColor:t,fontFamily:n,fontSize:l,fontBold:a,fontItalic:s,transparency:o,shape:i,color:c}=this.props.property.childs(),p="rectangle"!==i.value();return r.createElement(L.a,{label:e.value()},r.createElement(Ot.a,{rule:"screen and (max-width: 460px)"},i=>r.createElement("div",{className:fe.textMarkGraphicBlock},r.createElement("div",{className:fe.group},p&&r.createElement(Ee.a,{color:c,transparency:o}),r.createElement("span",{className:Ie({[fe.additionalSelect]:p})},r.createElement(Ee.a,{color:t,transparency:o})),r.createElement(Et,{id:Object(Z.a)(e,"font-family-select"),className:fe.additionalSelect,fontFamily:n}),!i&&r.createElement("div",{className:fe.additionalSelect},r.createElement(_t,{id:Object(Z.a)(e,"font-size-select"),fontSize:l}))),r.createElement("div",{className:Ie(fe.textMarkGraphicWrapGroup,fe.additionalSelect)},i&&r.createElement(_t,{id:Object(Z.a)(e,"additional-font-size-select"),fontSize:l}),r.createElement(kt,{className:Ie({[fe.additionalSelect]:i}),icon:jt,property:a,undoMessage:Nt}),r.createElement(kt,{className:fe.additionalSelect,icon:Lt,property:s,undoMessage:Tt})))))}}Mt.contextType=te.b;const Rt=window.t("Show Price");class It extends r.PureComponent{render(){
const{value:e,onChange:t}=this.props;return r.createElement(r.Fragment,null,r.createElement(se.b,{checked:e,label:Rt,preventLabelHighlight:!0,value:"showPriceSwitcher",onChange:t}),r.createElement(re.a,null))}}const Bt=window.t("Change Show Price");class Vt extends r.PureComponent{constructor(){super(...arguments),this._onShowPriceChange=e=>{const{setValue:t}=this.context,{showPrice:n}=this.props.property.childs();t(n,e,Bt)}}render(){const{name:e,color:t,style:n,width:l,transparency:a,showPrice:s,visible:o}=this.props.property.childs();return r.createElement(L.a,{label:r.createElement(ae,{id:e.value(),title:e.value(),visible:o})},r.createElement(Ee.a,{disabled:!o.value(),color:t,transparency:a,thickness:l}),r.createElement(ht,{id:Object(Z.a)(e.value(),"line-style-select"),disabled:!o.value(),className:fe.smallStyleControl,lineStyle:n,additionalItems:r.createElement(It,{value:s.value(),onChange:this._onShowPriceChange})}))}}Vt.contextType=te.b;class Dt extends r.PureComponent{render(){const{title:e,visible:t}=this.props.property.childs();return r.createElement(M.a.Row,null,r.createElement(M.a.Cell,{placement:"first",grouped:!0,colSpan:2},r.createElement(ae,{id:e.value(),title:e.value(),visible:t})))}}Dt.contextType=te.b;var zt=n("KG+6");const Ft=[{value:zt.a.LeftToRight,content:window.t("Left")},{value:zt.a.RightToLeft,content:window.t("Right")}],Gt=window.t("Width (% of the Box)"),At=window.t("Placement"),Ht=window.t("Show Values"),Wt=window.t("Text Color"),Ut=window.t("Change Percent Width"),qt=window.t("Change Placement"),Kt=window.t("Change Show Values");class Yt extends r.PureComponent{constructor(){super(...arguments),this._onPercentWidthChange=e=>{const{setValue:t}=this.context,{percentWidth:n}=this.props.property.childs();t(n,e,Ut)},this._onPlacementChange=e=>{const{setValue:t}=this.context,{direction:n}=this.props.property.childs();t(n,e,qt)},this._onShowValuesChange=e=>{const{setValue:t}=this.context,{showValues:n}=this.props.property.childs();t(n,e,Kt)}}render(){const{title:e,percentWidth:t,direction:n,showValues:l,valuesColor:a,visible:s}=this.props.property.childs();return r.createElement(r.Fragment,null,r.createElement(M.a.Row,null,r.createElement(M.a.Cell,{placement:"first",colSpan:2,grouped:!0},r.createElement(ae,{id:e.value(),title:e.value(),visible:s}))),r.createElement(L.a,{label:r.createElement("div",{className:fe.childRowContainer},Gt),grouped:!0},r.createElement(gt.b,{input:{id:"",name:"",type:"integer",defval:0},value:t.value(),disabled:!s.value(),onChange:this._onPercentWidthChange})),r.createElement(L.a,{label:r.createElement("div",{className:fe.childRowContainer},At),grouped:!0},r.createElement(De.a,{id:"hhist-graphic-placement-select",disabled:!s.value(),className:fe.defaultSelect,menuItemClassName:fe.defaultSelectItem,items:Ft,value:n.value(),onChange:this._onPlacementChange})),r.createElement(M.a.Row,null,r.createElement(M.a.Cell,{className:fe.childRowContainer,placement:"first",colSpan:2,grouped:!0},r.createElement(j.b,{label:Ht,input:{id:e.value()+"_showValues",type:"bool",defval:!0,
name:"visible"},value:!l||l.value(),disabled:!s.value(),onChange:this._onShowValuesChange}))),r.createElement(L.a,{label:r.createElement("div",{className:fe.childRowContainer},Wt),grouped:!0},r.createElement(Ee.a,{disabled:s&&!s.value(),color:a})),this._renderColors(),r.createElement(M.a.GroupSeparator,null))}_renderColors(){const{colors:e,titles:t,transparencies:n,visible:l}=this.props.property.childs();return e.childNames().map(a=>r.createElement(L.a,{key:a,grouped:!0,label:r.createElement("div",{className:fe.childRowContainer},t.childs()[a].value())},r.createElement(Ee.a,{disabled:!l.value(),color:e.childs()[a],transparency:n.childs()[a]})))}}Yt.contextType=te.b;class Jt extends r.PureComponent{render(){const{title:e}=this.props,{color:t,transparency:n,width:l,style:a,visible:s}=this.props.property.childs();return r.createElement(L.a,{label:r.createElement(ae,{id:e.value(),title:e.value(),visible:s})},r.createElement(Ee.a,{disabled:!s.value(),color:t,transparency:n,thickness:l}),r.createElement(ht,{id:Object(Z.a)(e.value(),"line-style-select"),disabled:!s.value(),className:fe.smallStyleControl,lineStyle:a}))}}Jt.contextType=te.b;class Qt extends r.PureComponent{render(){const{graphicType:e,study:t}=this.props,n=t.metaInfo().graphics,l=t.properties().graphics,a=Object(o.ensureDefined)(n[e]);return Object.keys(a).map((t,n)=>{const a=l[e][t];return"backgrounds"===e?r.createElement(et,{key:t,id:a.name.value(),title:a.name.value(),color:a.color,visible:a.visible,transparency:a.transparency}):"polygons"===e||"trendchannels"===e?r.createElement(L.a,{key:t,label:a.name.value()},r.createElement(Ee.a,{disabled:a.visible&&!a.visible.value(),color:a.color,transparency:a.transparency})):"shapemarks"===e?r.createElement(yt,{key:t,property:a}):"horizlines"===e||"vertlines"===e||"lines"===e?r.createElement(Jt,{key:t,title:"lines"===e?a.title:a.name,property:a}):"hhists"===e?r.createElement(Yt,{key:t,property:a}):"textmarks"===e?r.createElement(Mt,{key:t,property:a}):"hlines"===e?r.createElement(Vt,{key:t,property:a}):"dwglabels"===e||"dwglines"===e||"dwgtables"===e||"dwgboxes"===e?r.createElement(Dt,{key:t,property:a}):null})}}const Zt=window.t("Change Visibility"),Xt=window.t("Labels Font"),$t=window.t("Show Labels"),en={Traditional:new Set(["S5/R5","S4/R4","S3/R3","S2/R2","S1/R1","P"]),Fibonacci:new Set(["S3/R3","S2/R2","S1/R1","P"]),Woodie:new Set(["S4/R4","S3/R3","S2/R2","S1/R1","P"]),Classic:new Set(["S4/R4","S3/R3","S2/R2","S1/R1","P"]),DM:new Set(["S1/R1","P"]),DeMark:new Set(["S1/R1","P"]),Camarilla:new Set(["S4/R4","S3/R3","S2/R2","S1/R1","P"])};class tn extends s.a.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{levelsStyle:n}=this.props.property.childs(),{showLabels:l}=n.childs();t(l,e,Zt)}}render(){const{font:e,fontsize:t,levelsStyle:n}=this.props.property.childs();return s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,{labelAlign:"adaptive",label:s.a.createElement("span",null,Xt)},s.a.createElement("div",{className:fe.block},s.a.createElement("div",{
className:fe.group},s.a.createElement(Et,{id:"pivot-points-standard-font-family-select",fontFamily:e})),s.a.createElement("div",{className:Ie(fe.wrapGroup,fe.additionalSelect)},s.a.createElement(_t,{id:"pivot-points-standard-font-size-select",fontSize:t})))),s.a.createElement(M.a.Row,null,s.a.createElement(M.a.Cell,{placement:"first",colSpan:2},s.a.createElement(j.b,{label:$t,input:{id:"ShowLabels",type:"bool",defval:!0,name:"visible"},value:n.childs().showLabels.value(),onChange:this._onChange}))),this._renderColors())}_renderColors(){const{levelsStyle:e,inputs:t}=this.props.property.childs(),{colors:n,widths:l,visibility:a}=e.childs(),{kind:r}=t.childs(),i=Object(o.ensureDefined)(en[r.value()]);return n.childNames().filter(e=>i.has(e)).map(e=>s.a.createElement(et,{key:e,id:e,title:e,color:n.childs()[e],visible:a.childs()[e],thickness:l.childs()[e]}))}}tn.contextType=te.b;const nn=Object(l.t)("Change Visibility"),ln=Object(l.t)("Volume Profile"),an=Object(l.t)("Show Values"),rn=Object(l.t)("Width (% of the Box)"),sn=Object(l.t)("Placement"),on=Object(l.t)("Developing VA"),cn=[{value:zt.a.RightToLeft,content:Object(l.t)("Right")},{value:zt.a.LeftToRight,content:Object(l.t)("Left")}];class pn extends s.a.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this._setHhistsProperty("visible",e)},this._onShowValuesChange=e=>{this._setHhistsProperty("showValues",e)},this._onValueChange=e=>{this._setHhistsProperty("percentWidth",e)},this._onDirectionChange=e=>{this._setHhistsProperty("direction",e)}}render(){var e,t;const{metaInfo:n}=this.props,{graphics:a,styles:r}=this.props.property.childs(),{hhists:i,horizlines:c,polygons:p}=a.childs(),d=Object(o.ensureDefined)(n.graphics.hhists),h=Object.keys(d),u=i.childs()[h[0]],m=u.childs().visible,b=h.map(e=>i.childs()[e].childs().showValues),g=u.childs().percentWidth,v=u.childs().direction,y=h.map(e=>i.childs()[e].childs().valuesColor),w=c.childs().pocLines,C=Object(o.ensureDefined)(null===(e=n.graphics.horizlines)||void 0===e?void 0:e.pocLines),E=r.childs().developingPoc,f=Object(o.ensureDefined)(null===(t=n.styles)||void 0===t?void 0:t.developingPoc),S=r.childs().developingVAHigh,P=r.childs().developingVALow,_=n.graphics.polygons&&n.graphics.polygons.histBoxBg;return s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a.Row,null,s.a.createElement(M.a.Cell,{placement:"first",colSpan:2},s.a.createElement(j.b,{label:ln,input:{id:"VolumeProfile",type:"bool",defval:!0,name:"visible"},value:m.value(),onChange:this._onChange}))),s.a.createElement(M.a.Row,null,s.a.createElement(M.a.Cell,{placement:"first"},s.a.createElement("div",{className:fe.childRowContainer},s.a.createElement(j.b,{disabled:!m.value(),label:an,input:{id:"ShowValues",type:"bool",defval:!0,name:"visible"},value:b[0].value(),onChange:this._onShowValuesChange}))),s.a.createElement(M.a.Cell,{placement:"last"},s.a.createElement(Ee.a,{disabled:!m.value()||!b[0].value(),color:y}))),s.a.createElement(M.a.Row,null,s.a.createElement(M.a.Cell,{placement:"first"},s.a.createElement("div",{
className:fe.childRowContainer},rn)),s.a.createElement(M.a.Cell,{placement:"last"},s.a.createElement(gt.b,{disabled:!m.value(),input:{id:"",name:"",type:"integer",defval:0},value:g.value(),onChange:this._onValueChange}))),s.a.createElement(M.a.Row,null,s.a.createElement(M.a.Cell,{placement:"first"},s.a.createElement("div",{className:fe.childRowContainer},sn)),s.a.createElement(M.a.Cell,{placement:"last"},s.a.createElement(De.a,{id:"hhist-direction-select",disabled:!m.value(),className:fe.defaultSelect,menuItemClassName:fe.defaultSelectItem,items:cn,value:v.value(),onChange:this._onDirectionChange}))),h.map(e=>s.a.createElement(s.a.Fragment,{key:e},i.childs()[e].childs().colors.childNames().map((t,n)=>{const a=d[e];return s.a.createElement(L.a,{key:n,label:s.a.createElement("div",{className:fe.childRowContainer},a&&Object(l.t)(a.titles[n])||"")},s.a.createElement(Ee.a,{disabled:!m.value(),color:i.childs()[e].childs().colors.childs()[n],transparency:i.childs()[e].childs().transparencies.childs()[n]}))}))),s.a.createElement(et,{id:"pocLines",title:C.name,color:w.childs().color,visible:w.childs().visible,thickness:w.childs().width},s.a.createElement(ht,{id:"poc-lines-line-style-select",disabled:!w.childs().visible.value(),className:fe.smallStyleControl,lineStyle:w.childs().style})),E&&s.a.createElement(et,{id:"developingPoc",title:f.title&&Object(l.t)(f.title)||"",color:E.childs().color,visible:E.childs().visible,thickness:E.childs().linewidth},s.a.createElement(ht,{id:"developing-poc-line-style-select",disabled:!E.childs().visible.value(),className:fe.smallStyleControl,lineStyle:E.childs().linestyle})),S&&P&&s.a.createElement(et,{id:"developingPoc",title:on,color:[S.childs().color,P.childs().color],visible:[S.childs().visible,P.childs().visible],thickness:[S.childs().linewidth,P.childs().linewidth]},s.a.createElement(ht,{id:"developing-VA-line-style-select",disabled:!S.childs().visible.value()&&!P.childs().visible.value(),className:fe.smallStyleControl,lineStyle:[S.childs().linestyle,P.childs().linestyle]})),p&&s.a.createElement(L.a,{label:s.a.createElement("div",null,_&&Object(l.t)(_.name)||"")},s.a.createElement(Ee.a,{color:p.childs().histBoxBg.childs().color,transparency:p.childs().histBoxBg.childs().transparency})))}_setHhistsProperty(e,t){const{setValue:n}=this.context,{metaInfo:l,property:a}=this.props,r=a.childs().graphics.childs().hhists,s=Object.keys(Object(o.ensureDefined)(l.graphics.hhists));for(let i=0;i<s.length;i++){const l=r.childs()[s[i]].child(e);n(Object(o.ensureDefined)(l),t,nn)}}}function dn(){const e=Object(o.ensureNotNull)(Object(r.useContext)(Le)),t=e.metaInfo(),n=e.properties();return s.a.createElement(pn,{metaInfo:t,property:n})}pn.contextType=te.b;const hn=window.t("Change Visibility"),un=window.t("Pearson's R"),mn=window.t("Extend Lines"),bn=window.t("Base"),gn=window.t("Up"),vn=window.t("Down");class yn extends s.a.PureComponent{constructor(){super(...arguments),this._onPearsonsChange=e=>{const{setValue:t}=this.context,{styles:n}=this.props.property.childs(),{showPearsons:l}=n.childs()
;t(l,e,hn)},this._onExtendLinesChange=e=>{const{setValue:t}=this.context,{styles:n}=this.props.property.childs(),{extendLines:l}=n.childs();t(l,e,hn)}}render(){const{styles:e}=this.props.property.childs(),{baseLine:t,upLine:n,downLine:l}=e.childs();return s.a.createElement(s.a.Fragment,null,this._renderLineProp(bn,t),this._renderLineProp(gn,n),this._renderLineProp(vn,l),s.a.createElement(M.a.Row,null,s.a.createElement(M.a.Cell,{placement:"first",colSpan:2},s.a.createElement(j.b,{label:un,input:{id:"PearsonsR",type:"bool",defval:!0,name:"visible"},value:e.childs().showPearsons.value(),onChange:this._onPearsonsChange}))),s.a.createElement(M.a.Row,null,s.a.createElement(M.a.Cell,{placement:"first",colSpan:2},s.a.createElement(j.b,{label:mn,input:{id:"ExtendLines",type:"bool",defval:!0,name:"visible"},value:e.childs().extendLines.value(),onChange:this._onExtendLinesChange}))))}_renderLineProp(e,t){return s.a.createElement(et,{id:e,title:e,color:t.childs().color,visible:t.childs().visible,thickness:t.childs().linewidth},s.a.createElement(ht,{id:Object(Z.a)(e,"line-style-select"),disabled:!t.childs().visible.value(),className:fe.smallStyleControl,lineStyle:t.childs().linestyle}))}}yn.contextType=te.b;const wn=window.t("Text"),Cn=window.t("Border Color"),En=window.t("Background");const fn=window.t("Line",{context:"input"});var Sn=n("KJt4");const Pn={LinearRegression:function(){const e=Object(o.ensureNotNull)(Object(r.useContext)(Le)).properties();return s.a.createElement(yn,{property:e})},PivotPointsHighLow:function(){const e=Object(o.ensureNotNull)(Object(r.useContext)(Le)).properties(),{textColor:t,borderColor:n,backColor:l,font:a,fontsize:i}=e.childs();return s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,{labelAlign:"adaptive",label:s.a.createElement("span",null,wn)},s.a.createElement("div",{className:fe.block},s.a.createElement("div",{className:fe.group},s.a.createElement(Ee.a,{color:t}),s.a.createElement(Et,{id:"pivot-points-high-low-font-family-select",className:fe.additionalSelect,fontFamily:a})),s.a.createElement("div",{className:Ie(fe.wrapGroup,fe.additionalSelect)},s.a.createElement(_t,{id:"pivot-points-high-low-font-size-select",fontSize:i})))),s.a.createElement(et,{id:"PivotPointsHighLowBorder",title:Cn,color:n,switchable:!1}),s.a.createElement(et,{id:"PivotPointsHighLowBackground",title:En,color:l,switchable:!1}))},VbPSessions:dn,VbPFixed:dn,ZigZag:function(){const e=Object(o.ensureNotNull)(Object(r.useContext)(Le)),t=e.metaInfo(),n=e.properties();return s.a.createElement(et,{id:t.shortId,title:fn,color:n.color,visible:n.visible,thickness:n.linewidth})},PivotPointsStandard:function(){const e=Object(o.ensureNotNull)(Object(r.useContext)(Le)).properties();return s.a.createElement(tn,{property:e})},VbPVisible:dn};class _n extends r.PureComponent{render(){const e=Object(o.ensureNotNull)(this.context);return r.createElement(Le.Consumer,null,t=>r.createElement(te.a,{property:Object(o.ensureNotNull)(t).properties(),model:e
},r.createElement(M.a,null,this._renderCustomContent(Object(o.ensureNotNull)(t).metaInfo().shortId))))}_renderCustomContent(e){if(e in Pn){const t=Pn[e];return r.createElement(t,null)}return null}}_n.contextType=Sn.a;var xn=n("Ecpn");const kn=window.t("Default"),On=window.t("Precision"),jn=window.t("Change Precision"),Ln=[{value:"default",content:kn}];for(let Un=0;Un<=8;Un++)Ln.push({value:Un,content:Un.toString()});class Nn extends r.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{precision:n}=this.props;t(n,e,jn)}}render(){const{id:e,precision:t}=this.props;return r.createElement(L.a,{label:On},r.createElement(De.a,{id:e,className:fe.defaultSelect,menuItemClassName:fe.defaultSelectItem,items:Ln,value:t.value(),onChange:this._onChange}))}}Nn.contextType=te.b;const Tn=window.t("Default"),Mn=window.t("Override Min Tick"),Rn=window.t("Change Min Tick"),In=[{priceScale:1,minMove:1,frac:!1},{priceScale:10,minMove:1,frac:!1},{priceScale:100,minMove:1,frac:!1},{priceScale:1e3,minMove:1,frac:!1},{priceScale:1e4,minMove:1,frac:!1},{priceScale:1e5,minMove:1,frac:!1},{priceScale:1e6,minMove:1,frac:!1},{priceScale:1e7,minMove:1,frac:!1},{priceScale:1e8,minMove:1,frac:!1},{priceScale:2,minMove:1,frac:!0},{priceScale:4,minMove:1,frac:!0},{priceScale:8,minMove:1,frac:!0},{priceScale:16,minMove:1,frac:!0},{priceScale:32,minMove:1,frac:!0},{priceScale:64,minMove:1,frac:!0},{priceScale:128,minMove:1,frac:!0},{priceScale:320,minMove:1,frac:!0}],Bn=[{id:"tick-default",value:"default",content:Tn}];for(let Un=0;Un<In.length;Un++){const e=In[Un];Bn.push({value:e.priceScale+","+e.minMove+","+e.frac,content:e.minMove+"/"+e.priceScale})}class Vn extends r.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{minTick:n}=this.props;t(n,e,Rn)}}render(){const{id:e,minTick:t}=this.props;return r.createElement(L.a,{label:Mn},r.createElement(De.a,{id:e,className:fe.defaultSelect,menuItemClassName:fe.defaultSelectItem,items:Bn,value:t.value(),onChange:this._onChange}))}}Vn.contextType=te.b;var Dn=n("5YG5");class zn extends r.PureComponent{constructor(){super(...arguments),this._findPlotPalettes=e=>{const{study:t}=this.props,n=t.metaInfo(),l=Object(o.ensureDefined)(n.palettes);return Object(X.isBarColorerPlot)(e)||Object(X.isBgColorerPlot)(e)?{main:{palette:l[e.palette],paletteProps:t.properties().palettes[e.palette]}}:this._findPalettesByTargetId(e.id)}}render(){const{study:e}=this.props,t=e.metaInfo();if(Object(xn.a)(t.shortId))return r.createElement(_n,null);const n=e.properties(),{precision:l,strategy:a,minTick:s}=n,o=t.plots.length>0,i=Object(Dn.a)(e).canOverrideMinTick();return r.createElement(M.a,null,this._plotsElement(),this._bandsElement(),this._bandsBackgroundsElement(),this._areasBackgroundsElement(),this._filledAreasElement(),this._graphicsElement(),o&&r.createElement(Nn,{id:Object(Z.a)(t.id,"precision-select"),precision:l}),i&&r.createElement(Vn,{id:Object(Z.a)(t.id,"min-tick-select"),minTick:s}),ee.a.isScriptStrategy(t)&&r.createElement(bt,{
orders:a.orders}))}_plotsElement(){const{study:e}=this.props,t=e.metaInfo();return new U.a(t).getUserEditablePlots().filter(e=>!(Object(X.isUpColorerPlot)(e)||Object(X.isDownColorerPlot)(e)||Object(X.isCandleBorderColorerPlot)(e)||Object(X.isCandleWickColorerPlot)(e))).map(t=>{const n=Object(X.isOhlcPlot)(t)?Object.assign(Object.assign({},t),{id:t.target}):t,l=this._findPlotPalettes(n);return r.createElement(ot,{key:t.id,plot:t,palettes:l,study:e})})}_bandsElement(){const{study:e}=this.props,t=e.properties(),{bands:n}=t;return n&&n.childNames().map((e,t)=>{const l=n.child(e);if(!l.isHidden||!l.isHidden.value())return r.createElement(mt,{key:t,id:l.name.value(),property:l})})}_bandsBackgroundsElement(){const{study:e}=this.props,t=e.properties(),{bandsBackground:n}=t;return n&&r.createElement(et,{id:"bandsBackground",title:"Background",visible:n.fillBackground,color:n.backgroundColor,transparency:n.transparency})}_areasBackgroundsElement(){const{study:e}=this.props,t=e.metaInfo(),n=e.properties(),{areaBackground:l}=n;return t.isRGB?null:l&&r.createElement(et,{id:"areaBackground",title:"Background",visible:l.fillBackground,color:l.backgroundColor,transparency:l.transparency})}_filledAreasElement(){const{study:e}=this.props,t=e.metaInfo(),n=t.filledAreas;return!n||t.isRGB?[]:n.map(t=>{if(t.isHidden)return null;const n=e.properties().filledAreasStyle[t.id],l=t.title||"Background";if(t.palette){const e=this._findPalettesByTargetId(t.id),l=Object(o.ensureDefined)(e.main);return r.createElement(xe,{key:t.id,area:t,palette:Object(o.ensureDefined)(l.palette),paletteProps:Object(o.ensureDefined)(l.paletteProps),styleProp:n})}return r.createElement(et,{key:t.id,id:t.id,title:l,color:n.color,visible:n.visible,transparency:n.transparency})})}_graphicsElement(){const{study:e}=this.props,t=e.metaInfo().graphics;return t&&Object.keys(t).map((t,n)=>r.createElement(Qt,{key:t,graphicType:t,study:e}))}_findPalettesByTargetId(e){const{study:t}=this.props,n=t.metaInfo(),l=n.plots,a=Object(o.ensureDefined)(n.palettes),r={};for(const s of l)(Object(X.isColorerPlot)(s)||Object(X.isOhlcColorerPlot)(s))&&s.target===e&&(r.main={palette:a[s.palette],paletteProps:t.properties().palettes[s.palette]}),Object(X.isUpColorerPlot)(s)&&s.target===e&&(r.up={palette:a[s.palette],paletteProps:t.properties().palettes[s.palette]}),Object(X.isDownColorerPlot)(s)&&s.target===e&&(r.down={palette:a[s.palette],paletteProps:t.properties().palettes[s.palette]}),Object(X.isCandleWickColorerPlot)(s)&&s.target===e&&(r.wick={palette:a[s.palette],paletteProps:t.properties().palettes[s.palette]}),Object(X.isCandleBorderColorerPlot)(s)&&s.target===e&&(r.border={palette:a[s.palette],paletteProps:t.properties().palettes[s.palette]});return r}}function Fn(e){return Object(te.c)(zn,Object.assign(Object.assign({},e),{property:e.study.properties()}))}class Gn extends r.PureComponent{render(){return r.createElement(Sn.a.Provider,{value:this.props.model},r.createElement(Le.Provider,{value:this.props.source},r.createElement(Fn,{study:this.props.source})))}}
var An=n("c5ry"),Hn=n("sQaR");n.d(t,"EditObjectDialogRenderer",(function(){return Wn}));class Wn extends Hn.a{constructor(e,t,n,l){super(),this._timeout=null,this._handleClose=()=>{a.unmountComponentAtNode(this._container),this._setVisibility(!1),this._subscription.unsubscribe(this,this._handleCollectionChanged);{const e=this._model.model().paneForSource(this._source);if(null!==e){Object(o.ensureNotNull)(e.model().alertsWatcher()).syncSourceAlertLabels(this._source)}}},this._handleCancel=()=>{this._model.undoToCheckpoint(this._checkpoint)},this._handleSubmit=()=>{},this._handleActiveTabChanged=e=>{c.setValue(this._activeTabSettingsName(),e)},this._source=e,this._model=t,this._propertyPages=l,this._checkpoint=this._ensureCheckpoint(n),this._subscription=this._model.model().dataSourceCollectionChanged(),this._subscription.subscribe(this,this._handleCollectionChanged)}hide(e){e?this._handleCancel():this._handleSubmit(),this._handleClose()}isVisible(){return this.visible().value()}show(e={}){if(!p.enabled("property_pages"))return;const t=this._source.metaInfo();if(Object(C.isLineTool)(this._source)&&Object(h.trackEvent)("GUI","Drawing Properties",this._source.name()),Object(y.isStudy)(this._source)){const e=!this._source.isPine()||this._source.isStandardPine()?t.description:"Custom Pine";Object(h.trackEvent)("GUI","Study Properties",e)}let n={byId:{inputs:{title:window.t("Inputs"),Component:Q},style:{title:window.t("Style"),Component:Gn},properties:{title:window.t("Properties"),Component:Y}},allIds:[]};const l=new U.a(t);l.hasUserEditableInputs()&&n.allIds.push("inputs"),l.hasUserEditableProperties()&&n.allIds.push("properties"),l.hasUserEditableStyles()&&n.allIds.push("style"),n=this._getPagesForStudyLineTool(n);const s=e.initialTab||c.getValue(this._activeTabSettingsName())||"inputs";let o=Object(i.clean)(t.shortDescription,!0);void 0!==t.financialPeriod&&(o=`${o}  ${Object(An.b)(t.financialPeriod)}`),a.render(r.createElement(S,{title:o,model:this._model,source:this._source,initialActiveTab:n.allIds.includes(s)?s:n.allIds[0],pages:n,onSubmit:this._handleSubmit,onCancel:this._handleCancel,onClose:this._handleClose,onActiveTabChanged:this._handleActiveTabChanged}),this._container),this._setVisibility(!0),d.emit("edit_object_dialog",{objectType:"study",scriptTitle:this._source.title()})}_activeTabSettingsName(){return"properties_dialog.active_tab.study"}_ensureCheckpoint(e){return void 0===e&&(e=this._model.createUndoCheckpoint()),e}_getPagesForStudyLineTool(e){if(this._propertyPages){const t=this._propertyPages.filter(e=>"coordinates"===e.id||"visibility"===e.id),n={allIds:t.map(e=>e.id),byId:t.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:{title:t.title,page:t}}),{})};return{allIds:[...e.allIds,...n.allIds],byId:Object.assign(Object.assign({},e.byId),n.byId)}}return e}_handleCollectionChanged(){null===this._timeout&&(this._timeout=setTimeout(()=>{this._closeDialogIfSourceIsDeleted(),this._timeout=null}))}_closeDialogIfSourceIsDeleted(){
null===this._model.model().dataSourceForId(this._source.id())&&this._handleClose()}}},ZtdB:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M4.5 20v-7m3 7V10m3 10V8m3 12V10m3 10v-8m3 8V10m3 10V8"/></svg>'},br6c:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><circle stroke="currentColor" cx="14" cy="14" r="6.5"/></svg>'},flzi:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M19.424 16.735l.478.765H8.098l.478-.765 5-8L14 8.057l.424.678 5 8z"/></svg>'},iB0j:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M9 9l11 11M9 20L20 9"/></svg>'},kMtk:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M11 8.5h-.5v9.707l.146.147 3 3 .354.353.354-.353 3-3 .146-.147V8.5H11z"/></svg>'},lOpG:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M14 7l7.424 6.114a.5.5 0 0 1-.318.886H18.5v7h-9v-7H6.894a.5.5 0 0 1-.318-.886L14 7z"/></svg>'},leq5:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M19.424 11.265l.478-.765H8.098l.478.765 5 8 .424.678.424-.678 5-8z"/></svg>'},"m+Gx":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M9 14.5h11M14.5 20V9"/></svg>'},"rlj/":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 17v5.5h4v-18h4v12h4v-9h4V21"/></svg>'},"sPU+":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M10.5 13a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zM16.5 19a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zM22.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/></svg>'},tH7p:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 13.52v4.98a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1V8.914c0-.89-1.077-1.337-1.707-.707l-4.66 4.66a1 1 0 0 1-1.332.074l-3.716-2.973a1 1 0 0 0-1.198-.039l-3.96 2.772a1 1 0 0 0-.427.82z"/></svg>'},tQCG:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M13 11.5l-1.915-1.532a1 1 0 0 0-1.198-.039l-3.96 2.772a1 1 0 0 0-.427.82V18.5a1 1 0 0 0 1 1H13m3.5-7l4.293-4.293c.63-.63 1.707-.184 1.707.707V18.5a1 1 0 0 1-1 1H16"/><path fill="currentColor" d="M14 6h1v2h-1zM14 11h1v2h-1zM14 16h1v2h-1zM14 21h1v2h-1z"/></svg>'},wwEg:function(e,t,n){e.exports={smallStyleControl:"smallStyleControl-11tnC1DU",additionalSelect:"additionalSelect-11tnC1DU",childRowContainer:"childRowContainer-11tnC1DU",defaultSelect:"defaultSelect-11tnC1DU",
defaultSelectItem:"defaultSelectItem-11tnC1DU",block:"block-11tnC1DU",group:"group-11tnC1DU",wrapGroup:"wrapGroup-11tnC1DU",textMarkGraphicBlock:"textMarkGraphicBlock-11tnC1DU",textMarkGraphicWrapGroup:"textMarkGraphicWrapGroup-11tnC1DU"}},xHjM:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 16.5l4.586-4.586a2 2 0 0 1 2.828 0l3.172 3.172a2 2 0 0 0 2.828 0L23.5 10.5"/></svg>'}}]);