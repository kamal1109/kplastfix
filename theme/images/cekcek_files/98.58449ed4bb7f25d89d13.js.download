(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{YIzy:function(t,e,n){"use strict";var s,a=n("q1tI"),o=n.n(a),r=n("i8i4"),i=n("TSYQ"),d=n("e3/o"),h=n("AiMB"),g=n("+EG+"),c=n("jAh7");!function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove",t[t.None=2]="None"}(s||(s={}));class u{constructor(t){this._animationStage=s.Add,this._keys=new Map,this._element=null,this.render=t=>this._render(t),this.remove=()=>this._currentToastsLayer.removeToast(this);const{isImportant:e,origin:n,currentLayer:a,onLayerChange:o,render:r}=t;this._staticData=Object.freeze({isImportant:e,origin:n,onLayerChange:o}),this._currentToastsLayer=a||n,this._render=r}getStaticData(){return this._staticData}migrate(t){this._currentToastsLayer=t,this._animationStage=s.Add}getCurrentLayer(){return this._currentToastsLayer}isForeign(){return this._staticData.origin!==this._currentToastsLayer}getAnimationStage(){return this._animationStage}setAnimationStage(t){this._animationStage=t}setKey(t,e){this._keys.set(t,e)}getKey(t=this._currentToastsLayer){return this._keys.get(t)}getElement(){return this._element}setElement(t){this._element=t}}var m=n("k4uT");n.d(e,"a",(function(){return _}));const l={position:"fixed",left:"0",bottom:"0",right:"0",zIndex:160};class _{constructor(t,e,n=l){this._toasts={normal:[],important:[]},this._container=void 0!==e?e:document.body,this._suggestedLayout=void 0!==t?t:"loose",this._manager=new c.OverlapManager(document),this._overlapManagerContainer=function(t,e={}){const n=t.createElement("div");return n.dataset.role="toast-container",p(n,Object.assign(Object.assign({},l),e)),n}(document,n),this._manager.setContainer(this._overlapManagerContainer),this._container.appendChild(this._overlapManagerContainer)}showToast(t){const{render:e,isImportant:n=!1,index:s,origin:a=this,onLayerChange:o}=t,r=new u({isImportant:n,origin:a,currentLayer:this,render:e,onLayerChange:o}),i=this._getNextKey();return r.setKey(this,i),this._add(r,s),this._render(),r}showExistingToast(t){const e=this._getNextKey();return t.setKey(this,e),this._add(t),this._render(),t}removeToast(t){return new Promise(e=>{t.setAnimationStage(s.Remove),this._render(),setTimeout(()=>{this._remove(t),this._render(),e()},250)})}update(t){const{suggestedLayout:e,container:n,rootContainerOptions:s}=t;let a=!1;void 0!==e&&(this._setSuggestedLayout(e),a=!0),void 0!==n&&(this._setContainer(n),a=!0),void 0!==s&&(this._updateRootContainer(s),a=!0),a&&this._render()}getToasts(){return this._toasts}forceRender(){this._render()}merge(t){const e=t.getToasts();[...e.normal,...e.important].forEach(async e=>{const n=e.getStaticData();await e.remove(),e.migrate(this),this.showExistingToast(e),void 0!==n.onLayerChange&&n.onLayerChange(t,this)})}split(t){[...this._toasts.normal,...this._toasts.important].filter(t=>t.isForeign()).forEach(async e=>{const n=e.getStaticData();await e.remove(),e.migrate(t),t.showExistingToast(e),void 0!==n.onLayerChange&&n.onLayerChange(this,t)})}reset(){this._toasts={normal:[],important:[]},this._render()}destroy(){this._removeRootContainer()}
_removeRootContainer(){r.unmountComponentAtNode(this._overlapManagerContainer),this._overlapManagerContainer.remove()}_getToastsList(t){return t.getStaticData().isImportant?this._toasts.important:this._toasts.normal}_normalizeIndex(t,e){return t<0?0:t>e.length?e.length:t}_add(t,e){const n=this._getToastsList(t);if(void 0!==e){const s=this._normalizeIndex(e,n);n.splice(s,0,t)}else n.push(t)}_remove(t){const e=this._getToastsList(t),n=e.indexOf(t);n>=0&&e.splice(n,1)}_render(){const t=[...this._toasts.normal,...this._toasts.important];r.render(o.a.createElement(f,{toasts:t,suggestedLayout:this._suggestedLayout,manager:this._manager,layer:this}),this._overlapManagerContainer)}_setSuggestedLayout(t){t!==this._suggestedLayout&&(this._suggestedLayout=t)}_setContainer(t){t!==this._container&&(this._container=t,this._container.appendChild(this._overlapManagerContainer))}_updateRootContainer(t){p(this._overlapManagerContainer,t)}_getNextKey(){return Object(d.randomHashN)(5)}}function p(t,e){const{top:n,right:s,bottom:a,left:o,position:r,zIndex:i}=e;void 0!==r&&(t.style.position=r),void 0!==i&&(t.style.zIndex=String(i)),void 0!==n&&(t.style.top=n),void 0!==s&&(t.style.right=s),void 0!==a&&(t.style.bottom=a),void 0!==o&&(t.style.left=o)}function y(t,e,n){return t.getKey(n)||e.toString(10)}function v(t){const{toast:e,toasts:n,layer:r,suggestedLayout:d,forceRender:g}=t,c=Object(a.useRef)(null),u=e.getAnimationStage(),l=u!==s.None,_=u===s.Add,p=function(t,e,n){var a;const o=e.indexOf(t),r=y(t,o,n);let i=0;for(const d of e){const t=e.indexOf(d),h=y(d,t,n),g=(null===(a=d.getElement())||void 0===a?void 0:a.offsetHeight)||0,c=d.getAnimationStage()!==s.None;let u=0;c&&h===r?u=1:!c&&o<t&&(u=-1),i+=u*g}return i}(e,n,r),v=i(m["toast-positioning-wrapper"],l&&m.hidden,_&&m.added,"compact"===d&&m.compact);return Object(a.useEffect)(()=>{if(e.getCurrentLayer()!==r||e.getAnimationStage()!==s.Add||null===c.current)return;const t=e.getElement();null===t||t!==c.current?(e.setElement(c.current),g()):(e.setAnimationStage(s.None),g())}),o.a.createElement(h.a,{layerOptions:{position:"absolute"},left:"0",right:"0"},o.a.createElement("div",{className:v,style:{transform:`translateY(${p}px)`},ref:c},e.render({onRemove:e.remove,suggestedLayout:d})))}function f(t){const{toasts:e,suggestedLayout:n,manager:s,layer:r}=t,[i,d]=Object(a.useState)(0),h=()=>d(i+1);return o.a.createElement(g.b.Provider,{value:s},e.map((t,s)=>o.a.createElement(v,{key:y(t,s,r),toast:t,toasts:e,layer:r,suggestedLayout:n,forceRender:h})))}},k4uT:function(t,e,n){t.exports={"toast-positioning-wrapper":"toast-positioning-wrapper-1j0He64l",compact:"compact-1j0He64l",hidden:"hidden-1j0He64l",added:"added-1j0He64l"}}}]);