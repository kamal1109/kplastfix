(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{"1pjb":function(t,n,e){"use strict";e.d(n,"c",(function(){return c})),e.d(n,"e",(function(){return i})),e.d(n,"d",(function(){return r})),e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return a}));e("dy/U");function c(t){let n=null;return(e,...c)=>(null==n||n.abort(),n=new AbortController,null==e||e.addEventListener("error",()=>null==n?void 0:n.abort(),{once:!0}),t(n.signal,...c))}function i(t){if(!u(t))throw t}function r(t){if(u(t))throw t}function o(t){return(null==t?void 0:t.aborted)?Promise.reject(s()):new Promise((n,e)=>{null==t||t.addEventListener("abort",()=>e(s()),{once:!0})})}function s(){return new DOMException("Aborted","AbortError")}function u(t){return t instanceof Error&&"AbortError"===t.name}function a(t,n){return Promise.race([o(t),n])}},"9oVN":function(t,n,e){"use strict";var c=e("G4qV"),i=e("Eyy1"),r=e("PvCo"),o=e("XCam"),s=e("lnbc"),u=e("INgx"),a=e("DGyp");function l(t){return{type:"custom",id:t.id,name:t.name,symbols:t.symbols,shared:t.shared}}function d(t){return t.customLists}e.d(n,"f",(function(){return m})),e.d(n,"r",(function(){return y})),e.d(n,"n",(function(){return O})),e.d(n,"m",(function(){return j})),e.d(n,"p",(function(){return h})),e.d(n,"i",(function(){return p})),e.d(n,"a",(function(){return v})),e.d(n,"q",(function(){return g})),e.d(n,"o",(function(){return w})),e.d(n,"e",(function(){return S})),e.d(n,"h",(function(){return T})),e.d(n,"d",(function(){return I})),e.d(n,"g",(function(){return L})),e.d(n,"c",(function(){return A})),e.d(n,"b",(function(){return E})),e.d(n,"j",(function(){return W})),e.d(n,"l",(function(){return _})),e.d(n,"k",(function(){return k}));const b=t=>t.widgets,f=(t,n)=>n,m=t=>t.activeSymbolList,y=Object(c.a)([b,f],(t,n)=>t[n]||{}),O=Object(c.a)(y,t=>t.selectedSymbols||[]),j=Object(c.a)(y,t=>t.scrollToId),h=Object(c.a)(y,t=>t.sorting||null),p=Object(c.a)(y,t=>t.highlightedSymbols||null),v=Object(c.a)(y,t=>t.columns),g=Object(c.a)(y,t=>t.options||{}),w=Object(c.a)([g,t=>t.isAuthenticated],(t,n)=>t.shouldDisplayPositions&&n),S=Object(c.a)(d,t=>Object(r.f)(t).map(n=>l(Object(i.ensureNotNull)(Object(r.e)(t,n))))),T=Object(c.a)([d],t=>null!==t.timestamp),I=(Object(c.a)([d],r.g),Object(c.a)([d,(t,n)=>n],(t,n)=>{const e=Object(r.e)(t,n);return null===e?null:l(e)})),L=Object(c.a)([d,s.c,m],(t,n,e)=>{if(null===e)return null;if(null!==n&&Object(o.j)(e)){const t=Object(o.f)(n,e);return null===t?null:Object(u.e)(t)}{const n=Object(r.e)(t,e);return null===n?null:l(n)}}),A=Object(c.a)([a.b,d,s.c,b,f],(t,n,e,c,i)=>{var s;const d=c[i];if(void 0===d)return null;const b=d.listId;if(null===b)return null;if(null!==e&&Object(o.j)(b)){const t=Object(o.f)(e,b);return null===t?null:Object(u.e)(t)}if(Object(a.c)(b))return null!==(s=null==t?void 0:t[b])&&void 0!==s?s:null;const f=Object(r.e)(n,b);return null!==f?l(f):null});function E(t,n){const e=A(t,n);return"hot"!==(null==e?void 0:e.type)?null:e}const W=Object(c.a)([y,A],(t,n)=>null===n||t.isLoading||!1),_=Object(c.a)([t=>t.positions,(t,n)=>n],(t,n)=>t[n])
;function k(){const t=Object(c.a)([(t,n)=>n.widgetId,t=>t.widgets],(t,n)=>n[t]),n=Object(c.a)(t,t=>t.selectedSymbols||[]),e=Object(c.a)(n,t=>new Set(t));return Object(c.a)([e,(t,n)=>n.symbol],(t,n)=>t.size>1&&t.has(n))}},DGyp:function(t,n,e){"use strict";e.d(n,"c",(function(){return c})),e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return r}));function c(t){return"string"==typeof t&&0===t.indexOf("###HOT###")}function i(t,n){return"###HOT###"+`${t}.${n}`}const r=t=>{var n,e;return null!==(e=null===(n=t.hotLists)||void 0===n?void 0:n.lists)&&void 0!==e?e:null}},"NyG/":function(t,n,e){"use strict";e.r(n);var c=e("5rFJ"),i=e("PvCo"),r=e("YFKU"),o=e("eqEH"),s=e("pA52"),u=e("aOxy"),a=e("txPx"),l=e("fZEr"),d=e("1pjb"),b=e("9oVN"),f=e("Z+Vr"),m=e("Qz5Q");function*y(){for(yield Object(c.g)(Object(m.a)(P(null)));;){yield Object(c.i)([i.k,i.n]);const t=yield Object(c.h)();null===Object(b.c)(t,f.a)&&(yield Object(c.g)(Object(m.a)(P(null))))}}var O=e("sjB3"),j=e("TsgZ"),h=e("tEuG");e.d(n,"symbolListRepositorySaga",(function(){return v})),e.d(n,"validateWatchListSymbols",(function(){return g})),e.d(n,"createWatchlistThunk",(function(){return S})),e.d(n,"getCustomWatchlistsThunk",(function(){return T})),e.d(n,"putCustomWatchlistsThunk",(function(){return I})),e.d(n,"renameWatchlistThunk",(function(){return L})),e.d(n,"replaceWatchlistSymbolsThunk",(function(){return A})),e.d(n,"addWatchlistSymbolsThunk",(function(){return E})),e.d(n,"removeWatchlistSymbolsThunk",(function(){return W})),e.d(n,"removeWatchlistThunk",(function(){return _})),e.d(n,"setActiveWatchlistThunk",(function(){return k})),e.d(n,"getActiveWatchlistThunk",(function(){return P}));const p=Object(a.getLogger)("Platform.Model.SymbolLists");function*v(){yield Object(c.e)(O.c),yield Object(c.e)(y)}function g(t){return new Promise(n=>{j.b.get(f.a).getUniqueSymbolsFullNames(t).then(t=>{n(t)})})}function w(t,n){Object(l.showWarning)({title:n||Object(r.t)("Watchlist error"),text:t})}function S(t){const n=Object(o.service)(s.a);return async(e,c)=>{try{const c=await n.createWatchList(t);return e(Object(i.a)({id:c.id,name:c.name,symbols:c.symbols})),c.id}catch(r){return w(r.message),null}}}const T=Object(d.c)((function(t){const n=Object(o.service)(s.a);return async(e,c)=>{try{const c=await Object(d.b)(t,n.getCustomWatchLists());e(Object(i.n)({lists:c.map(t=>({id:t.id,name:t.name,symbols:t.symbols,shared:t.shared})),timestamp:Date.now()}))}catch(r){Object(d.e)(r)}}}));function I(t,n){const e=Object(o.service)(s.a);return async(c,r)=>{try{const r=await Object(d.b)(t,e.putWatchList(n));c(Object(i.i)({id:r.id,name:r.name,symbols:r.symbols,shared:r.shared}))}catch(o){Object(d.d)(o),w(o.message)}}}function L(t,n,e){const c=Object(o.service)(s.a);return async(r,o)=>{r(Object(i.l)({id:n.id,name:e})),await Object(d.b)(t,c.renameWatchList(n,e))}}function A(t,n,e){const c=Object(o.service)(s.a);return async(o,s)=>{if("custom"===n.type)if(e.length>1e3){const t=Object(r.t)("Watchlist cannot take anymore, Cap'n")
;w(Object(r.t)("Whoa there, you can't go adding over {number} symbols and separators to a watchlist â€“ we're engineers not miracle workers.").format({number:1e3.toString()}),t)}else o(Object(i.c)({id:n.id,symbols:e})),await Object(d.b)(t,c.replaceSymbols(n,e));else p.logWarn("Trying to modify not a custom watchlist")}}function E(t,n,e){const c=Object(o.service)(s.a);return async(r,o)=>{if("custom"===n.type){r(Object(i.h)({id:n.id,symbols:e}));try{await Object(d.b)(t,c.addSymbols(n,e))}catch(s){if(Object(d.a)(s))throw s;const t=n.symbols.filter(t=>!e.includes(t));r(Object(i.c)({id:n.id,symbols:t})),w(s.message)}}else p.logWarn("Trying to modify not a custom watchlist")}}function W(t,n,e){const c=Object(o.service)(s.a);return async(r,o)=>{r(Object(i.d)({id:n.id,symbols:e})),await Object(d.b)(t,c.removeSymbols(n,e))}}function _(t,n){const e=Object(o.service)(s.a);return async(c,r)=>{c(Object(i.k)({id:n.id})),await Object(d.b)(t,e.removeWatchList(n))}}function k(t,n){const e=Object(o.service)(s.a);return async(c,i)=>{c(Object(u.updateActiveList)(n)),await Object(d.b)(t,e.setActive(n))}}const P=Object(d.c)((function(t){const n=Object(o.service)(s.a);return async(e,c)=>{try{const c=await Object(d.b)(t,n.getActive());if("custom"!==c.type){const n=Object(h.a)();n.isInited()||await Object(d.b)(t,new Promise(t=>{n.onInit(t)}))}else"custom"===c.type&&(c.symbols=await Object(d.b)(t,g(c.symbols))),e(Object(i.i)({id:c.id,name:c.name,symbols:c.symbols,shared:c.shared}));e(Object(u.updateActiveList)("custom"===c.type?c.id:c.color))}catch(r){Object(d.e)(r)}}}))},PvCo:function(t,n,e){"use strict";e.d(n,"n",(function(){return l})),e.d(n,"h",(function(){return d})),e.d(n,"m",(function(){return b})),e.d(n,"c",(function(){return f})),e.d(n,"d",(function(){return m})),e.d(n,"k",(function(){return y})),e.d(n,"a",(function(){return O})),e.d(n,"i",(function(){return j})),e.d(n,"l",(function(){return h})),e.d(n,"o",(function(){return p})),e.d(n,"j",(function(){return v})),e.d(n,"b",(function(){return g})),e.d(n,"g",(function(){return w})),e.d(n,"e",(function(){return S})),e.d(n,"f",(function(){return T}));var c=e("i7Pf"),i=e("HUvz"),r=e("jicf"),o=e("Pfkb");const s={lists:{ids:[],byId:{}},timestamp:null};function u(t,n){t.lists.ids.push(n.id),t.lists.byId[n.id]={id:n.id,name:n.name,symbols:[...n.symbols],shared:n.shared}}const a=Object(c.b)({name:"custom-lists",initialState:s,reducers:{setup:(t,n)=>{const{lists:e,timestamp:c}=n.payload,i={lists:{ids:[],byId:{}},timestamp:null};for(const r of e)u(i,r);return i.timestamp=c,i},insert:(t,n)=>{const{id:e,symbols:c,before:i}=n.payload,{lists:s}=t,u=s.byId[e];if(void 0===u)return;const a=new Set(c);let l;if(void 0!==i&&a.has(i)){l=o.a;for(let t=u.symbols.indexOf(i);t>=0;--t)if(!a.has(u.symbols[t])){l=u.symbols[t];break}}const d=u.symbols.filter(t=>!a.has(t)),b=Object(o.b)(d,i,l);void 0===b?d.push(...a):d.splice(b,0,...a),Object(r.a)(d,u.symbols)||(u.symbols=d)},replace:(t,n)=>{const{id:e,current:c,next:i}=n.payload,{lists:r}=t,o=r.byId[e];if(void 0===o)return;if(c===i)return;let s=!1,u=!1;const a=[]
;for(const l of o.symbols){if(l===i){u=!0;break}l===c?(a.push(i),s=!0):a.push(l)}s&&!u&&(o.symbols=a)},exact:(t,n)=>{const{id:e,symbols:c}=n.payload,{lists:i}=t,o=i.byId[e];if(void 0===o)return;const s=[...new Set(c)];Object(r.a)(s,o.symbols)||(o.symbols=s)},exclude:(t,n)=>{const{id:e,symbols:c}=n.payload,{lists:i}=t,o=i.byId[e];if(void 0===o)return;const s=new Set(c),u=o.symbols.filter(t=>!s.has(t));Object(r.a)(u,o.symbols)||(o.symbols=u)},remove:(t,n)=>{const{id:e}=n.payload,{lists:c}=t;if(void 0===c.byId[e])return;const i=c.ids.filter(t=>t!==e);c.ids=i,delete c.byId[e]},create:(t,n)=>{const{id:e,name:c,symbols:i}=n.payload,{lists:r}=t;void 0===r.byId[e]&&u(t,{id:e,name:c,symbols:i,shared:!1})},put:(t,n)=>{const{id:e,name:c,symbols:i,shared:r}=n.payload,{lists:o}=t;void 0===o.byId[e]?u(t,{id:e,name:c,symbols:i,shared:r}):o.byId[e]={id:e,name:c,shared:r,symbols:[...i]}},rename:(t,n)=>{const{id:e,name:c}=n.payload,{lists:i}=t,r=i.byId[e];void 0!==r&&r.name!==c&&(r.name=c)},share:(t,n)=>{const{id:e,shared:c}=n.payload,{lists:i}=t,r=i.byId[e];void 0!==r&&r.shared!==c&&(r.shared=c)}}}),{setup:l,insert:d,replace:b,exact:f,exclude:m,remove:y,create:O,put:j,rename:h,share:p}=a.actions,{reducer:v}=a;function g(t,n,e,c=a){return Object(i.a)({id:t,channel:n,event:"custom-list-cross-tab-sync",filter:t=>e()&&function(t,n){return n.actions.setup.match(t)||n.actions.insert.match(t)||n.actions.exclude.match(t)||n.actions.exact.match(t)||n.actions.replace.match(t)||n.actions.remove.match(t)||n.actions.create.match(t)||n.actions.put.match(t)||n.actions.rename.match(t)||n.actions.share.match(t)}(t,c)})}function w(t){return t.lists.byId}function S(t,n){var e;return null!==(e=w(t)[n])&&void 0!==e?e:null}function T(t){return t.lists.ids}},Qz5Q:function(t,n,e){"use strict";function c(t){return t}e.d(n,"a",(function(){return c}))},VK5V:function(t,n,e){"use strict";e.d(n,"f",(function(){return r})),e.d(n,"k",(function(){return o})),e.d(n,"j",(function(){return s})),e.d(n,"b",(function(){return u})),e.d(n,"h",(function(){return a})),e.d(n,"l",(function(){return l})),e.d(n,"d",(function(){return d})),e.d(n,"a",(function(){return b})),e.d(n,"g",(function(){return f})),e.d(n,"c",(function(){return m})),e.d(n,"e",(function(){return y})),e.d(n,"i",(function(){return O}));var c=e("1waO");const i=Object(c.a)("WATCHLISTS"),r=i("SELECT_NEXT_AVAILABLE_SYMBOL"),o=i("UPDATE_POSITIONS"),s=i("UPDATE_BULK_POSITIONS"),u=i("INIT_WIDGET"),a=i("SHOW_CONTEXT_MENU"),l=i("UPDATE_WIDGET"),d=i("SELECT_ALL_SYMBOLS"),b=i("ADD_OR_UPDATE_SYMBOL_LIST"),f=i("SET_SYMBOL_LISTS"),m=i("REMOVE_SYMBOL_LIST"),y=i("SELECT_HOTLIST"),O=i("UPDATE_ACTIVE_LIST")},aOxy:function(t,n,e){"use strict";e.r(n),e.d(n,"selectNextAvailableSymbol",(function(){return i})),e.d(n,"showContextMenu",(function(){return r})),e.d(n,"initWidget",(function(){return o})),e.d(n,"updateWidget",(function(){return s})),e.d(n,"selectAllSymbols",(function(){return u})),e.d(n,"addOrUpdateSymbolList",(function(){return a})),e.d(n,"removeSymbolList",(function(){return l})),e.d(n,"setSymbolLists",(function(){
return d})),e.d(n,"selectHotlist",(function(){return b})),e.d(n,"updatePosition",(function(){return f})),e.d(n,"updateBulkPositions",(function(){return m})),e.d(n,"updateActiveList",(function(){return y}));var c=e("VK5V");const i=(t,n,e)=>({type:c.f,widgetId:t,currentSymbol:n,keyboardAction:e}),r=(t,n,e,i)=>({type:c.h,symbol:n,position:O(e),widgetId:t,size:i}),o=(t,n,e)=>({type:c.b,options:e,id:t,columns:n}),s=(t,n)=>({type:c.l,widgetId:t,widget:n}),u=t=>({type:c.d,widgetId:t}),a=t=>({type:c.a,symbolList:t}),l=t=>({type:c.c,id:t}),d=t=>({type:c.g,symbolLists:t}),b=(t,n,e)=>({type:c.e,widgetId:t,exchange:n,group:e}),f=(t,n)=>({type:c.k,symbol:t,position:n}),m=t=>({type:c.j,map:t}),y=t=>({type:c.i,id:t});function O(t){var n;const e=null===(n=t.touches)||void 0===n?void 0:n.map(t=>({clientX:t.clientX,clientY:t.clientY}));return{overrideHeight:t.overrideHeight,clientX:t.clientX,clientY:t.clientY,touches:e}}},hvkX:function(t,n,e){"use strict";e.d(n,"c",(function(){return s})),e.d(n,"b",(function(){return u})),e.d(n,"a",(function(){return a}));var c=e("G4qV"),i=e("XCam"),r=e("lnbc"),o=e("INgx");const s=Object(c.a)([r.c],t=>{const n=[];if(null!==t)for(const e of Object(o.a)()){const c=Object(i.f)(t,e);null!==c&&n.push(Object(o.e)(c))}return n}),u=Object(c.a)([r.c,(t,n)=>n],(t,n)=>{if(null===t)return null;const e=Object(i.f)(t,n);return null===e?null:Object(o.e)(e)}),a=Object(c.a)([u],t=>{var n;return null!==(n=null==t?void 0:t.symbols)&&void 0!==n?n:null})},sjB3:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return l}));var c=e("rRWa"),i=e("5rFJ"),r=e("PvCo"),o=(e("bSeV"),e("aOxy"));const s="AUTH__SET_IS_AUTHENTICATED";function u(t){return{type:s,isAuthenticated:t}}function a(t=Boolean(window.is_authenticated),n){switch(n.type){case s:return n.isAuthenticated;default:return t}}function*l(){const t=Object(c.c)(t=>{const n={};return window.loginStateChange.subscribe(n,()=>t(window.is_authenticated)),()=>window.loginStateChange.unsubscribeAll(n)});try{for(;;){const n=yield Object(i.i)(t);yield Object(i.g)(Object(o.updateActiveList)(null)),yield Object(i.g)(Object(r.n)({lists:[],timestamp:Date.now()})),yield Object(i.g)(u(n))}}finally{t.close()}}}}]);