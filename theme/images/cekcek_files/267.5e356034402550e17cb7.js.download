(window.webpackJsonp=window.webpackJsonp||[]).push([[267],{"1O7s":function(t,e,n){"use strict";n.r(e),n.d(e,"reorderSymbolsThunk",(function(){return p})),n.d(e,"sortSymbolsThunk",(function(){return k})),n.d(e,"removeSelectedSymbolsThunk",(function(){return S})),n.d(e,"markSymbolsThunk",(function(){return W})),n.d(e,"removeSymbolsThunk",(function(){return v})),n.d(e,"addSymbolsThunk",(function(){return w})),n.d(e,"renameSymbolListThunk",(function(){return C})),n.d(e,"clearSymbolListThunk",(function(){return M})),n.d(e,"findInWatchlistThunk",(function(){return x})),n.d(e,"addSymbolsToCustomListThunk",(function(){return D})),n.d(e,"moveSymbolsToCustomListThunk",(function(){return I})),n.d(e,"insertSymbolBeforeThunk",(function(){return E})),n.d(e,"selectSymbolListThunk",(function(){return F})),n.d(e,"userCreateWatchlistThunk",(function(){return _})),n.d(e,"saveListAsThunk",(function(){return A}));var c=n("Eyy1"),s=n("PvCo"),o=n("XCam"),l=n("lnbc"),r=n("tEuG"),u=n("Ke6I"),i=n("hvkX"),b=n("YFKU"),a=n("JWMC"),j=n("aOxy"),O=n("9oVN"),m=n("1pWb"),f=n("ehHn"),y=n("TsgZ"),d=n("Z+Vr"),h=n("NyG/"),g=n("1pjb");function p(t,e){return(n,c)=>{const s=c(),{isMovable:o}=Object(O.q)(s,t);if(!o)return;const l=Object(O.c)(s,t);if(null!==l&&"hot"!==l.type)if("custom"===l.type){const t=Object.assign(Object.assign({},l),{symbols:e});n(Object(h.replaceWatchlistSymbolsThunk)(null,t,e))}else Object(r.a)().markMany({color:l.color,symbols:e,separators:!0})}}function k(t,e){return(n,o)=>{const l=o(),u=Object(O.c)(l,t);if(null===u)return;if("hot"===u.type)return;const{symbolsBeforeSorting:i}=Object(O.r)(l,t),b=Object(O.p)(l,t),a=u.symbols;let m;if(null===e)m=Object(c.ensureNotNull)(i);else{const{column:n,direction:c}=e;m=Object(f.p)(t,a,n,c)}"custom"===u.type?(n(Object(s.c)({id:u.id,symbols:m})),n(Object(h.replaceWatchlistSymbolsThunk)(null,u,m))):Object(r.a)().markMany({color:u.color,symbols:m,separators:!0}),n(Object(j.updateWidget)(t,{symbolsBeforeSorting:null===b?[...a]:i,sorting:e}))}}function S(t){return(e,n)=>{const c=n(),s=Object(O.c)(c,t);if(null===s)return;if("hot"===s.type)return;const{isDeletable:l}=Object(O.q)(c,t);if(!l)return;const r=Object(O.n)(c,t);if(0!==r.length){if("custom"===s.type)e(T(r,s));else{e(Object(o.m)({symbols:r,color:s.color}))}Object(f.r)(r.length>1)}}}function T(t,e){return(n,c)=>{if("colored"!==e.type)if("custom"!==e.type);else{const c=Object.assign(Object.assign({},e),{symbols:e.symbols.filter(e=>!t.includes(e))});n(Object(h.removeWatchlistSymbolsThunk)(null,c,t))}else{Object(r.a)().setSymbolsColor(t,null)}}}function W(t,e,n,c){return(s,o)=>{const l=Object(r.a)(),i=new u.b({context:u.a.SymbolMarker}),b=Object(O.n)(o(),t).filter(t=>!Object(m.b)(t));if(b.length>1&&(!e||b.includes(e))||c){const t=!b.map(t=>l.getSymbolColor(t)).includes(null);l.setSymbolsColor(b,t?null:i.getColor()),b.length>1?Object(a.trackEvent)("Watchlist","Multi select","Flag"):Object(a.trackEvent)("Watchlist","Flag")}else n&&(n(),Object(a.trackEvent)("Watchlist","Flag"))}}function v(t,e,n){return(c,s)=>{
const l=s(),r=n?Object(o.j)(n)?Object(i.b)(l,n):Object(O.d)(l,n):Object(O.c)(l,t);if(null===r)return;if("hot"===r.type)return;const u=new Set(Object(O.n)(l,t)),b=u.has(e)?Array.from(u):[e];if("custom"===r.type)c(Object(h.removeWatchlistSymbolsThunk)(null,r,b));else{c(Object(o.m)({symbols:b,color:r.color}))}Object(f.r)(b.length>1)}}function w(t,e,n){return(c,s)=>{const o=s(),l=Object(O.c)(o,t);if(null===l)return;if("hot"===l.type)return;y.b.get(t).getSymbolsFullNames(e).then(s=>{var u,b;if("custom"===l.type)c(L(s,l,n));else{const t=null!==(u=Object(i.a)(o,l.color))&&void 0!==u?u:[],c=n?t.indexOf(n):-1,s=-1!==c&&c!==t.length-1?t[c+1]:void 0;Object(r.a)().markMany({symbols:e,color:l.color,separators:!0,before:s})}const a=null!==(b=s[s.length-1])&&void 0!==b?b:null;c(N(t,s,a))})}}function N(t,e,n){return(c,s)=>{e=e.slice(0,10),c(Object(j.updateWidget)(t,{highlightedSymbols:[...e],scrollToId:n?{id:n}:null})),setTimeout(()=>c(Object(j.updateWidget)(t,{highlightedSymbols:null})),500)}}function L(t,e,n){return(c,s)=>{const o=new Set(e.symbols),l=t.filter(t=>!o.has(t)&&!o.has(Object(f.n)(t)));if(l.length){const t=[...e.symbols],s=n?e.symbols.indexOf(n):-1;-1===s?t.push(...l):t.splice(s+1,0,...l);const o=Object.assign(Object.assign({},e),{symbols:t});c(-1===s?Object(h.addWatchlistSymbolsThunk)(null,o,l):Object(h.replaceWatchlistSymbolsThunk)(null,o,t))}}}function C(t,e){return(n,s)=>{const r=s();if(Object(o.j)(t)){if(null===Object(l.c)(r))return;n(Object(o.n)({color:t,name:e}))}else{const s=Object(c.ensureNotNull)(Object(O.d)(r,t));n(Object(h.renameWatchlistThunk)(null,s,e))}}}function M(t){return(e,n)=>{const s=n();if(Object(o.j)(t)){const n=Object(l.c)(s);if(null===n)return;const c=Object(o.h)(n,t);if(null===c)return;e(Object(o.m)({color:t,symbols:c}))}else{const n=Object(c.ensureNotNull)(Object(O.d)(s,t));if(0===n.symbols.length)return;e(Object(h.replaceWatchlistSymbolsThunk)(null,Object.assign(Object.assign({},n),{symbols:[]}),[]))}}}function x(t,e){return N(t,[e],e)}function D(t,e,n){return(c,s)=>{var o;const l=s(),r=Object(O.d)(l,e);if(r){const s=n.filter(t=>!Object(m.b)(t));if(c(L(s,r)),Object(O.f)(l)===e){const e=null!==(o=s[s.length-1])&&void 0!==o?o:null;c(N(t,s,e))}}}}function I(t,e,n){return async(c,s)=>{const o=s(),l=Object(O.d)(o,e),r=n.filter(t=>!Object(m.b)(t));l&&c(L(r,l));const u=Object(O.d)(o,t);u&&c(Object(h.removeWatchlistSymbolsThunk)(null,u,n))}}function E(t,e,n){return(c,s)=>{const o=s(),l=Object(O.c)(o,t);if(null===l)return;if("hot"===l.type)return;const{symbols:u}=l;if(!u.includes(n))if("custom"===l.type){const t=u.indexOf(e),s=[...u.slice(0,t),n,...u.slice(t)],o=Object.assign(Object.assign({},l),{symbols:s});c(Object(h.replaceWatchlistSymbolsThunk)(null,o,s))}else"colored"===l.type&&Object(r.a)().markMany({color:l.color,before:e,symbols:[n],separators:!0})}}const F=Object(g.c)((function(t,e){return async(n,l)=>{try{const r=Object(o.j)(e)?Object(c.ensureNotNull)(Object(i.b)(l(),e)):Object(c.ensureNotNull)(Object(O.d)(l(),e));n(Object(j.updateWidget)(d.a,{isLoading:!1,listId:r.id,sorting:null,
symbolsBeforeSorting:null,selectedSymbols:[],scrollToId:null})),n(Object(h.setActiveWatchlistThunk)(null,"custom"===r.type?r.id:r.color)),"custom"===r.type&&await n(function(t,e){return async(n,o)=>{{const o=Object(f.i)(e.symbols);o&&n(Object(j.updateWidget)(d.a,{isLoading:!0}));const l=await Object(g.b)(t,Object(h.validateWatchListSymbols)(Object(c.ensureDefined)(e.symbols)));l.length!==e.symbols.length&&(e=Object.assign(Object.assign({},e),{symbols:l})),n(Object(s.c)({id:e.id,symbols:e.symbols})),n(Object(j.updateWidget)(d.a,{listId:e.id,selectedSymbols:[]})),o&&n(Object(j.updateWidget)(d.a,{isLoading:!1}))}}}(t,r))}catch(r){Object(g.e)(r)}}}));const _=Object(g.c)((function(t,e,n){return async(s,l)=>{try{if(!Object(f.b)())return;if(!e||void 0===e.name){const n=await Object(g.b)(t,Object(f.e)(Object(b.t)("Create New List"))());e={name:n,symbols:(null==e?void 0:e.symbols)||[]}}e.symbols=[...await Object(h.validateWatchListSymbols)(Object(c.ensureDefined)(e.symbols))];const r=Object(h.createWatchlistThunk)(e),u=await Object(g.b)(t,s(r));if(null===u)return;if(s(F(null,u)),n){const t=Object(o.j)(n)?Object(i.b)(l(),n):Object(O.d)(l(),n);if(!t)return;await s(T(Object(c.ensureDefined)(e.symbols),Object(c.ensureDefined)(t)))}}catch(r){Object(g.e)(r)}}}));function A(t,e,n=!0,s){return async(t,o)=>{if(!Object(f.b)())return;const l=await Object(f.e)(Object(b.t)("Save List As"),s)();if(!e){const t=Object(c.ensureNotNull)(Object(O.c)(o(),d.a));e=t.symbols}const r=Object(h.createWatchlistThunk)({name:l,symbols:e}),u=await t(r);null!==u&&n&&t(F(null,u))}}},fgbt:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("bSeV");function c(t,e=!1){if(t&&t.startsWith("exchange-"))return function(t,e=!1){const n=window.pro,c=n.getProduct(t);return!!n.isProductDefined(c)&&(e?!!c.idc_service_codes_delay:!!c.idc_service_codes)}(t,e);const n=(t||"").toLowerCase();return window.pro.getIDCExchanges(e).includes(n)}}}]);