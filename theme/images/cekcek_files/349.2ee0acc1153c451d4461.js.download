(window.webpackJsonp=window.webpackJsonp||[]).push([[349],{"J/x9":function(e,t,s){"use strict";s.r(t);var r=s("eqEH");const n={id:"SymbolListService"};function c(){return Promise.all([Promise.all([s.e("vendors"),s.e(43),s.e(61),s.e(62),s.e(86),s.e(193),s.e(267),s.e("symbol-list-service")]).then(s.bind(null,"CqQ8")),Promise.all([s.e("vendors"),s.e(43),s.e(61),s.e(62),s.e(86),s.e(193),s.e(267),s.e("symbol-list-service")]).then(s.bind(null,"NyG/")),Promise.all([s.e("vendors"),s.e(43),s.e(61),s.e(62),s.e(86),s.e(193),s.e(267),s.e("symbol-list-service")]).then(s.bind(null,"aOxy")),Promise.all([s.e("vendors"),s.e(43),s.e(61),s.e(62),s.e(86),s.e(193),s.e(267),s.e("symbol-list-service")]).then(s.bind(null,"1O7s"))]).then(([e,t,s,c])=>{if(Object(r.hasService)(n))return Object(r.service)(n);const{store:i,runner:o}=e.configureStore(),a=o.run(t.symbolListRepositorySaga);return Object(r.registerService)(n,{store:i,runner:o,actions:{addSymbols:c.addSymbolsThunk,initWidget:s.initWidget,saveListAs:c.saveListAsThunk},task:a}),Object(r.service)(n)})}s.d(t,"initSymbolListService",(function(){return c}))},kSsr:function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return i}));var r=s("24R9");const n=Object(r.getUrlParams)().scanner_url||window.SCREENER_HOST||"https://scanner.tradingview.com";function c(e,t=e){return`${n}/${t}/`}function i(e,t){return e}},vGOY:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var r=s("zdnq"),n=s("MwoA"),c=s("vvER"),i=s("Eyy1");const o=["price_52_week_high","price_52_week_low","sector","country","Low.1M","High.1M","Perf.W","Perf.1M","Perf.3M","Perf.6M","Perf.Y","Perf.YTD","Recommend.All","logoid","currency_logoid","base_currency_logoid","average_volume_10d_calc"],a=["expiration","close"],l=new Set(["spread","economic"]);class u{constructor(e){this._contracts=[],this._contractRequest=null,this._screenerData={},this._screenerRequest=null,this._response=null,this._deltaResponse=null,this._currentSymbolName=null,this._screenerComplete=null,this._quoteSessionMultiplexerInstance=e}subscribe(e,t,s){this._currentSymbolName=t,this._screenerRequest=null,this._screenerData={},this._contractRequest=null,this._screenerComplete=null,this._contracts=[],this._quoteSessionMultiplexerInstance.subscribe(e,t,(e,t)=>{this._checkDataHandler(e,t,s)})}unsubscribe(e,t,s){this._quoteSessionMultiplexerInstance.unsubscribe(e,t,s)}_mergeDataHandler(e,t={screener:!1,contracts:!1}){const{screener:s,contracts:r}=t,n=Object(i.ensureNotNull)(this._response),c=Object(i.ensureNotNull)(this._deltaResponse),a=Object.assign(Object.assign({},n.values),{contracts:this._contracts}),l=s||r?{}:Object.assign({},c.values);r&&(l.contracts=this._contracts),o.forEach(e=>{void 0!==this._screenerData[e]&&null!==this._screenerData[e]&&(a[e]=this._screenerData[e],s&&(l[e]=this._screenerData[e]))});const u=Object.assign(Object.assign({},n),{values:a}),h=Object.assign(Object.assign({},c),{values:l});null===this._screenerComplete&&n.complete&&null===this._screenerRequest&&(this._screenerComplete=performance.now()),
this._screenerComplete&&(u.completeScreener=this._screenerComplete),e(u,h)}_checkDataHandler(e,t,s){this._currentSymbolName===e.symbolname&&(this._response=e,this._deltaResponse=t,null===this._screenerRequest&&(this._screenerRequest=this._requestScreener(e,s)),null===this._contractRequest&&(this._contractRequest=this._requestContracts(e,s)),this._mergeDataHandler(s))}_requestContracts(e,t){const{listed_exchange:s,root:i,type:o,typespecs:l}=e.values;if(o&&"futures"!==o)return Promise.resolve();if(!s||!o||!i)return null;const u={columns:a,sort:{sortBy:"expiration",sortOrder:"asc"}},h=`${s}:${i}`,b=Object(n.c)(s,o,l);return Object(r.a)(h,u,b).then(s=>{s&&this._currentSymbolName===e.symbolname&&(s.data.length&&(this._contracts=s.data.map(e=>a.reduce((t,s,r)=>Object.assign(Object.assign({},t),{[s]:"expiration"===s?Object(c.a)(e.d[r]):e.d[r]}),{symbol:e.s}))),this._mergeDataHandler(t,{contracts:!0}))})}_requestScreener(e,t){const s=this._currentSymbolName,{values:c}=e;if(!c.type||!c.listed_exchange)return null;if(l.has(c.type))return this._screenerComplete=performance.now(),Promise.resolve();const i="forex"===c.type?c.short_name:c.pro_name,a=Object(n.c)(c.listed_exchange,c.type,c.typespecs);return a&&i?Object(r.b)(i,o,a).then(e=>{this._currentSymbolName===s&&e&&(e.data.length&&e.data[0].d&&o.forEach((t,s)=>{const r=e.data[0].d[s];this._screenerData[t]=r}),this._screenerComplete=performance.now(),this._mergeDataHandler(t,{screener:!0}))}):null}}},vvER:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s("ivNn");function n(e){if(e&&Object(r.isNumber)(e)){const t=e.toString();return`${t.substring(0,4)}-${t.substring(4,6)}-${t.substring(6)}`}return"â€”"}},zdnq:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return a}));var r=s("wVAQ"),n=s("kSsr"),c=s("txPx");const i=Object(c.getLogger)("Screener.Widget");function o(e,t,s){const c=Object.assign({filter:[{left:"expiration",operation:"nempty"},{left:"root",operation:"equal",right:e},{left:"subtype",operation:"nequal",right:"continuous"}],symbols:{query:{types:["futures"]}}},t);return Object(r.fetch)(Object(n.a)(s)+"scan",{method:"POST",body:JSON.stringify(c)}).then(e=>e.json()).catch(e=>{i.logError("Failed to get futures contracts. "+e.message)})}function a(e,t,s){const c={columns:t,range:[0,1],symbols:{}};return c.symbols="forex"===s?{tickers:["FX_IDC:"+e],query:{types:["forex"]}}:{tickers:[e]},Object(r.fetch)(Object(n.a)(s)+"scan",{method:"POST",body:JSON.stringify(c)}).then(e=>e.json()).catch(e=>{i.logError("Failed to get symbol info. "+e.message)})}}}]);